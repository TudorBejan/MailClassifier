YUI.add("options-ui-mailoptionsview",function(C){var A=null;var B=function(E){var F=this,D=E||{};F.attr=D;B.superclass.constructor.call(F,D);F.on("closeChange",function(){var G=C.one(".content #moIframeTab");C.mail.ui.optionsTab=null;A=null;G&&G.set("src","about:blank");});F.set("hideToolbar",1);F.set("hideNavbar",1);F.set("charCodes","220,27");};C.extend(B,C.mail.ui.BaseWidget);C.namespace("options.ui");C.mix(B.prototype,{NAME:"MailOptions",type:"options",render:function(L){var J=this,K=C.common.Utils.parseQueryString(),D="",G="",F="",I,H,E;for(H in K){D+="&"+H+"="+K[H];}F="/neo/mo/launch";if(J.attr&&J.attr.section){D+="&page="+J.attr.section;}if(D.indexOf("isFresh")<0){D+="&isFresh="+NeoConfig.isFresh;}D+="&bucketId="+NeoConfig.expBucketId;if(NeoConfig.theme&&NeoConfig.theme.id){E=(!NeoConfig.theme.build||NeoConfig.theme.build==="")?"dev":NeoConfig.theme.build;E=E.replace("_","");D+="&themeName="+NeoConfig.theme.id+"&bn="+E+"&s="+(NeoConfig.isFullSSL?1:0);}G='<div class="content" style="width:100%;height:100%;position:relative;overflow:hidden;">'+'<iframe frameborder="0" vspace="0" hspace="0" style="background-color: white; width: 100%; height: 100%; " id="moIframeTab" title="'+strings.str_tabs_options_title+'" src="'+F+"?.inNeo=true&rand="+Math.round(Math.random()*1000000000)+"&start_time="+(new Date()).getTime()+D+'"/>'+"</div>";I=C.one(L);I.setContent(G);},onKeyDown:function(D){var F=this,E=D.keyCode;if((E==220&&(D.ctrlKey||D.metaKey))||(E==27)){F.set("close",1);return true;}}},true);C.options.ui.getOptionsViewInstance=function(D){if(A){return A;}else{A=new B(D);return A;}};},"1.0.0",{requires:["common-ui-contentwidget"]});