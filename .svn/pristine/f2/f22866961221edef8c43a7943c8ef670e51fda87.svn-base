window.NeoConfig=window.NeoConfig||{};window.NeoGV=window.NeoGV||{};window.Neo=(function(){var u=window,AO=document,AM="getElementById",AP="body",A="head",D="getElementsByTagName",M="parentNode",AR="createElement",AA="setAttribute",q="getAttribute",E="className",AC="firstChild",X="lastChild",C="nodeName",AD="Inbox",P={},V=[],AL=false,AF=0,S=navigator.userAgent.match(/MSIE\s([^;]*)/),AT=false,n,Y="active",AJ="hidden",i="selected",AQ="visible",c="galaxyPageContainer",m="inboxcontainer",o="messageid",T=0,j={"Inbox":"inbox","%40C%40Chats":"conv","%40B%40Bulk":"spam","Trash":"trash","Draft":"drafts","Sent":"sent"},U={};NeoGV.statQueue=[];NeoGV.inject=function(AV){var AW,w,d,b=function(AX){if(AX.el){AX.el.innerHTML=AX.html;return;}AW=AX.id||"centerpane";if(AO[AM](AW)){AO[AM](AW).innerHTML=AX.html;}};if(AV.css){AU(AV.css,AV.cssID);}b(AV);AW=AV.id;if(AW){w=AO[AM](AW);if(!w){return;}d=w[E];if(AV.html&&d&&d.indexOf(AJ)!==-1&&!(""+AV.html).match(/^\s*$/)){AB(w,"hidden");}if(AV.customClass&&!z(w,AV.customClass)){w[E]+=" "+AV.customClass;}}if(AW==="gx_messages"){Neo.formatRuefcDates();}};n={addHandler:function(b,w,d){if(b){if(u.addEventListener){b.addEventListener(w,d,false);}else{if(u.attachEvent){b["evt"+w+d]=d;b[w+d]=function(){b["evt"+w+d](u.event);};b.attachEvent("on"+w,b[w+d]);}}}},removeHandler:function(b,w,d){if(b){if(u.removeEventListener){b.removeEventListener(w,d,false);}else{if(u.detachEvent){b.detachEvent("on"+w,b[w+d]);b[w+d]=null;b["evt"+w+d]=null;}}}},preventDefault:function(b){if(b.preventDefault){b.preventDefault();}else{b.returnValue=false;}},getTarget:function(d){var b=d.target||d.srcElement;try{if(b&&3===b.nodeType){b=b.parentNode;}}catch(w){}return b;}};var s=(function(){var AW=["MSXML2.XMLHTTP","MSXML2.XMLHTTP.6.0","MSXML3.XMLHTTP","Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0"],w,b;var d;try{d=new XMLHttpRequest();}catch(AX){for(w=0,b=AW.length;w<b;w++){try{d=new ActiveXObject(AW[w]);}catch(AV){}}}var AY=function(AZ,Aa,Ac,Ab){var Ad=Ac.chunked,Ah,Ag;var Ae=function(){if(Ad){try{var Am=d.responseText,Aj=Am.lastIndexOf(Ac.delimiter||"/*=*/");if(Ag!=Aj){Ad(Am.substring(Ag||0,Aj));Ag=Aj;}}catch(Ai){}}if(d&&d.readyState==4){if(Ah){clearInterval(Ah);}Ah=0;var Ak;try{if(d.status!==undefined&&d.status!==0){Ak=d.status;}else{Ak=13030;}}catch(Al){Ak=13030;}if((Ak>=200&&Ak<300)||Ak===1223){if(Ac&&Ac.success){Ac.success(d);}}}};d.open(AZ,Aa,true);if(AZ.toUpperCase()=="POST"){d.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");}else{Ab=null;}d.setRequestHeader("X-Requested-With","XMLHttpRequest");try{d.onreadystatechange=Ae;}catch(Af){d.onload=Ae;}if(Ad){Ah=setInterval(Ae,50);}d.send(Ab);};return AY;}());function L(AX,AW,d){var b=AX;d=d||"beforeEnd";if(AX instanceof Array){b=AX.join("");}try{if(typeof AX==="string"){if(S){AW.insertAdjacentHTML(d,b);return;}var AV=AW.ownerDocument.createRange();AV.setStartBefore(AW);b=AV.createContextualFragment(AX);}if(S){AW.insertAdjacentElement(d,b);return;}switch(d){case"beforeBegin":AW.parentNode.insertBefore(b,AW);break;case"afterBegin":AW.insertBefore(b,AW[AC]);break;case"afterEnd":if(AW.nextSibling){AW.parentNode.insertBefore(b,AW.nextSibling);}else{AW.parentNode.appendChild(b);}break;default:AW.appendChild(b);break;}return b;}catch(w){}}function AU(b,w){var d=AO[AR]("link");d.type="text/css";d.rel="stylesheet";if(w){d.id=w;}d.href=b;AO[D](A)[0].appendChild(d);}function a(AY,AX,w,d,b,AV){var AW=/{{([^{}]*)}}/g;return AY.replace(AW,function(Aa,AZ){var Ac,Ab;if(w&&(Ac=w[AZ])){return(Ac(AX,d))||"";}else{if(AX&&AZ in AX){return AX[AZ];}else{if(b&&AZ in b){Ab=b[AZ];return Ab.match(AW)?a(Ab,AX,w,d,b,AV):Ab;}else{if(AV&&AZ in AV){return a(AV[AZ].base||AV[AZ],AX,w,d,b,AV);}else{return"";}}}}});}function AG(w,d){if(!d){return w;}for(var b in d){if(d.hasOwnProperty(b)){if(!(b in w)){w[b]=d[b];}}}}function l(w){var d=AO[D](A)[0],b=AO[AR]("script");b.type="text/javascript";b.async=true;if(!S){b.appendChild(AO.createTextNode(w));}else{b.text=w;}try{d.appendChild(b);d.removeChild(b);}catch(AV){}}function z(b,d){return(b&&b[E].indexOf(d)!==-1);}function e(b,d){if(!z(b,d)){b[E]=b[E]+" "+d;}}function W(b,w){if(z(b,w)){var d=new RegExp("\\b"+w+"\\b");b[E]=b[E].replace(d,"");}}function AB(d,w,b){d[E]=d.className.replace(w,b||"");}function K(AY,Ab,Aa){var AV=[],AW,AX;if(AO.evaluate){var AZ=AO.evaluate(".//*[contains(concat(' ', @class, ' '), ' "+AY+" ')]",AO[AM](Aa)||AO,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(AW=0,AX=AZ.snapshotLength;AW<AX;AW++){AV.push(AZ.snapshotItem(AW));}return AV;}else{if(typeof Aa==="string"){Aa=AO[AM](Aa);}var b=(Aa||AO)[D]((Ab||"*")),w,d=new RegExp("(^|\\s)"+AY+"(\\s|$)");for(AW=0,AX=b.length;AW<AX;AW++){w=b[AW];if(d.test(w[E])){AV.push(w);}}}return AV;}function Z(d){var b=d.nextSibling;while(b.nodeType!=1){b=b.nextSibling;}return b;}function G(d){var b=d.previousSibling;while(b.nodeType!=1){b=b.previousSibling;}return b;}function r(b){AI(m);O(b);if(NeoConfig.isMailPlus!==1){AB(AO[AP],"withoutad","withsky");}}function J(AV,w){var b=NeoConfig;AI(c);O(AV);if(!w){var d="/neo/whatsnew?galaxy=1&mode=data&ncrumb="+b.ncrumb+b.extraURLArgs;s("GET",d,{success:function(AW){l(AW.responseText);}});}}function H(d){var w=AO[AM]("tabinbox"),AZ=w[M],AX=AO[AM]("msg-list"),AV=K("list-view-items","div","msg-list"),AW=d[q]("data-fid"),b=AO[AM]("msg-preview"),Aa=NeoConfig;if(AW===null&&d[C].toUpperCase()=="LI"){AW=d.id;}if(AW===null||AW===""){return true;}r(AZ);AL=AL||b.innerHTML;if(AD==AW){return true;}if(!z(d,i)&&!NeoConfig.isFresh){var AY=K(i,"li","shellnavigation");if(AY&&AY.length){AB(AY[0],i);}d[E]+=" selected";}w.innerHTML=(AW&&j[AW])?Aa.strings["str_tabs_"+j[AW]]:d[D]("i")[0].innerHTML;if(AV&&AV[0]){AV[0].innerHTML="";AV[0].className+=" loading";if(Aa.fullPage){AV[0].style.height="82px";}}b.innerHTML="";if(AW.toString().length>0){Neo.fid=AW;if(NeoConfig.extraURLArgs.indexOf("isFresh")===-1){NeoConfig.isFresh?Aa.extraURLArgs=Aa.extraURLArgs+"&isFresh=1":"";}Neo.async("GET","showFolder?fid="+encodeURIComponent(AW)+"&mode=data&noFlush&ncrumb="+Aa.ncrumb+Aa.extraURLArgs,{success:function(Ae){if(window.yui){return;
}Neo.exec(Ae.responseText);var Ac=Neo.msgListResp;var Ad=Ac.html;if(AX){var Ab=AX[M];Ab.removeChild(AX);L(Ad,Ab,"afterBegin");}x(Ac.json);if(!Aa.fullPage&&AL){R(AL,false,false,true);}AD=AW;},failure:function(){}});return true;}return false;}function v(AX){if(AX&&((AX.which&&AX.which==3)||(AX.button&&AX.button==2))){return;}var d=n.getTarget(AX)||AX,Ag=NeoConfig,AZ=d[C].toUpperCase(),Ae=Ae||AO[AP][E],w="none",Ac=d,b=null;var Ad={I:{n:d[M][M],a:"folder"},A:(function(){var Aj=(d[q]("role")=="tab")?{n:d,a:"tab"}:{n:d[M],a:"folder"};if(d[q]("data-action")=="compose"||d[M].id=="btn-new"){Aj.a="compose";}if(d[q]("msgheader")){Aj.a="message";Aj.n=d;}if(d[E]=="more"&&z(d[M],"icn-inbox")){Aj.a="tab";Aj.n=AO[AM]("tabinbox");}if(d[q]("data-action")=="toggle-msg-header"){if(!NeoConfig.isFresh){var Ah=Z(d[M][M][M]),Ak;if(Ah.children&&Ah.children[1]){Ak=Ah.children[1];if(z(Ah,"hidden")){d.innerHTML=d[q]("toggle-off");AB(Ah,"hidden","expanded");AB(Ak,"hidden","");Ah.className+="collapsed-header";Ag.showHdrDetails=1;}else{d.innerHTML=d[q]("toggle-on");AB(Ah,"expanded","hidden");Ak.className+=" hidden";Ag.showHdrDetails=0;}}}else{var Ah=d[M][M][M];if(Ah.children&&Ah.children[1]){var Ap=Ah.children[1].children[0],Am=Ap.children[3].children[0].children.length,Ai=Ap.children[5]?Ap.children[5].children[0].children.length:"",Ao=Am+Ai,Al=Ah.children[0].children[4].children[2],An=NeoConfig.strings;if(z(Ah,"collapsed-header")){d.innerHTML=d[q]("toggle-off");AB(Ah.children[1],"hidden","expanded");W(Ah,"collapsed-header");Ag.showHdrDetails=1;}else{d.innerHTML=d[q]("toggle-on");e(Ah,"collapsed-header");Al.innerHTML=Ao==="1"?"1 "+An.str_small_header_recipient:Ao+" "+An.str_small_header_recipients;Ag.showHdrDetails=0;}}}}return Aj;}()),SPAN:(function(){var Ai=(d[E]=="rht")?{n:d[M],a:"folder"}:{n:d[M][M][M],a:"folder"};if(d[q]("data-action")=="close-tab"){Ai.a="close";Ai.n=G(d);}if(d[M][M][q]("data-action")=="collapsable"){var Ah=d[M][M];if(z(Ah,"expanded")){AB(Ah,"expanded","collapsed");}else{AB(Ah,"collapsed","expanded");}}return Ai;}()),EM:(function(){var Ah={};return Ah;}()),LI:{n:d,a:"folder"},B:{n:d[M],a:"tab"}};Ad.IMG=Ad.EM;b=Ad[AZ];if(b){Ac=b.n;w=b.a;}try{switch(w){case"folder":if(Ag.hasConv){return true;}n.preventDefault(AX);H(Ac);NeoGV.statQueue.push({well:"folderview",name:"folderBeforeRender"});case"tab":n.preventDefault(AX);switch(Ac.id){case"tabwhatsnew":if(!Ag.low_bandwidth&&!(typeof slowConnDlg=="object"&&slowConnDlg.isOpen())){J(Ac[M]);if(Ag.hasAds){AO[AP][E]=Ae;}}break;case"okDialupModal":Ac=AO[AM]("tabinbox");case"tabinbox":r(Ac[M]);break;default:if(Ac.id.indexOf("tabmessage")!==-1){AI(o+Ac.tabIndex);O(Ac[M]);}}NeoGV.statQueue.push({well:"tab",name:"tabBeforeRender"});break;case"compose":n.preventDefault(AX);setTimeout(function(){if(window.slowConnDlg&&!Neo.filesDone){slowConnDlg.switchDisplay("dialupMask",1);slowConnDlg.switchDisplay("dialupLoading",1);Neo.openCompose=true;}},100);NeoGV.statQueue.push({well:"compose",name:"composeBeforeRender"});break;case"close":n.preventDefault(AX);for(var Aa in P){if(Ac.tabIndex==P[Aa].idx){P[Aa].visible=false;P[Aa].idx=null;var AW=Ac[M],Ab=z(AW,Y);AW[M].removeChild(AW);var Af=AO[AM](o+Ac.tabIndex);Af[M].removeChild(Af);if(Ab){r(AO[AM]("tabinbox")[M]);}break;}}NeoGV.statQueue.push({well:"tab",name:"closeTabBeforeRender"});break;case"message":if(Ag.hasConv){return true;}n.preventDefault(AX);var AV=Ac[q]("msgheader")||Ac[q]("data-msghdr");l("Neo.RUEFCHdr = "+AV+";");h(Neo.RUEFCHdr.mid,true);Neo.RUEFCHdr=null;NeoGV.statQueue.push({well:"message",name:"messageBeforeRender"});break;}}catch(AY){}return true;}n.addHandler(AO,"click",v);function O(AW){var w,AV,d=AO[AM]("tablist").children,b=d.length;for(w=0;w<b;w++){AV=d[w];if(AV!==AW){AB(d[w],Y);}}if(AW&&!z(AW,Y)){AW[E]+=(" "+Y);}}function AI(AW){var d,AV=AO[AM]("shellcontent").children,b=AV.length,w=(typeof AW==="object")?AW:AO[AM](AW),AX;for(d=0;d<b;d++){AX=AV[d];if(AX&&(AX!==w)&&!z(AX,AJ)){if(AX.style.visibility){AX.style.visibility=AJ;}AX[E]+=(" "+AJ);}}if(w){if(w.style.visibility){w.style.visibility=AQ;}AB(w,AJ);}}function R(AZ,AV,AW,b){if(Neo.filesDone){return;}var Aa=AO[AM]("msg-preview"),Ah=NeoConfig,Af=Ah.userDataObj.userUIPref.msgPaneVisible,AX=Ah.strings,Ad;function Ac(){var Al=AO[AM]("msg_details");if(!Al){return;}var Aj=K("sm_rawDate","span",Al)[0];if(!Aj){return;}var Ai=Aj[M],Ak=Aj[M][M][M].children[1].children[0];Ai.innerHTML=f(new Date(Aj.innerHTML*1000),AX.str_tog_dateformat_header_l10n);Ak.innerHTML=f(new Date(Aj.innerHTML*1000),AX.str_tog_dateformat_rsstime_l10n);AB(Ai,"hidden","");}if(b||(!Ah.fullPage&&Af&&!AV)){Neo.orginalClass=Neo.orginalClass||Aa[E];Aa[E]="message content";Aa.innerHTML=AZ;Ac();Aa.scrollTop=0;}else{var d=AO[AM]("tablist");AI();if(typeof AW==="undefined"){var AY=AO[AM]("shellcontent");L('<div id="'+o+T+'"><div role="document" class=" message content" tabindex="0" style="display:block;visibility:visible;"></div></div>',AY);var w=AO[AM](o+T)[D]("div")[0],Ab,Ae,Ag;w.innerHTML=AZ;Ac();Ae=w[D]("h3");Ab=(Ae&&Ae.length>0&&(Ag=Ae[0][D]("a")[0]))?(Ag.innerText||Ag.textContent||Ag.getAttribute("title")):"__title__";L(('<li role="presentation" class="removable active messagetabs" visibility="'+AQ+'"><a data-action="navigate" href="#" role="tab" id="tabmessage'+T+'" title="__title__" tabindex="'+T+++'" aria-selected="true"><b>__title__</b></a><span data-action="close-tab" title="Close tab [Ctrl + ]">Close tab</span></li>').replace(/__title__/g,Ab),d);Ad=T-1;}else{Ad=AW;AI(o+Ad);}O(AO[AM]("tabmessage"+Ad).parentNode);}}function Q(AY,AV){if(NeoConfig.hasConv){return;}var AX=n.getTarget(AY),AW=function(Ac){var Aa=K(i,"div","msg-list"),Ab,AZ;if(Aa&&Aa.length){for(Ab=0,AZ=Ac||Aa.length;Ab<AZ;Ab++){AB(Aa[Ab],i);Aa[Ab][D]("input")[0].checked=false;}}},d=function(Aa){if(!AL){AL=AO[AM]("msg-preview").innerHTML;}var Ab=Aa[D]("input")[0],AZ=Ab.value;AF=0;AW();Aa[E]+=" selected";h(AZ,AV,Aa);},w=false,b;if(AX){while(AX.id!="shellcontent"){b=AX.tagName;b=b?b.toUpperCase():"";switch(b){case"LI":case"DIV":if(AX[q]("data-action")=="select-message"){w=true;
d(AX);break;}case"INPUT":if(AX.type=="checkbox"){if(AX.name=="mid"){n.preventDefault(AY);d(AX[M][M][M]);}w=true;break;}default:AX=AX[M];break;}if(w){break;}}}}function AS(d){var b=NeoConfig,w=b.userDataObj.userUIPref.msgPaneVisible;if(!b.fullPage&&w){Q(d,true);}}function h(d,w,AX){var b=NeoConfig,AW=b.userDataObj.userUIPref.msgPaneVisible,AV;if(U[d]){return;}if(!P[d]||!P[d].html){U[d]=true;AV=Neo.fid||"Inbox";if(NeoConfig.extraURLArgs.indexOf("isFresh")===-1){NeoConfig.isFresh?b.extraURLArgs=b.extraURLArgs+"&isFresh=1":"";}Neo.async("GET","showMessage?mid="+encodeURIComponent(d)+"&fid="+encodeURIComponent(AV)+b.extraURLArgs+"&shd="+b.showHdrDetails+"&mode=data&noFlush&ncrumb="+b.ncrumb,{success:function(Ab){if(window.yui){window.yui.fire("openMessage",{fid:AV,msg:{mid:d}});}else{Neo.exec(Ab.responseText);if(!AT){AU(b.showMsgCSSURL);AT=true;}var Aa=b.msgCache[d];P[d]={html:Aa,idx:T};V[T]=b.msgHdr[d];if(b.fullPage||!AW||w){P[d].visible=true;}R(Aa,w);if(!AX){var Ac=AO[AM]("msg-list")[D]("input"),AY=Ac.length;for(var AZ=0;AZ<AY;AZ++){if(Ac[AZ].value==d){AX=Ac[AZ][M][M][M];break;}}}AX&&AB(AX,"unread");}delete U[d];},failure:function(){}});}else{if(P[d].visible){R(P[d].html,w,P[d].idx);}else{if(b.fullPage||!AW||w){P[d].visible=true;}P[d].idx=T;R(P[d].html,w);}}}function AK(){n.addHandler(AO[AM]("shellcontent"),"click",Q);n.addHandler(AO[AM]("shellcontent"),"dblclick",AS);}function p(AY){var Ad=NeoConfig,Ab=Ad.mailboxListTmpl,AZ,d,w="",Ac,AW=AO[AM]("system-folders")[D]("li")[0],b,Aa=Ad.strings,AV=Ad.showExtAccountsParam===3||Aa.str_cfg_tog_ext_accnt_expand,AX=(Ad.showExtAccountsParam>0&&Ad.showExtAccountsParam<3)||(AV&&Ad.expandEA);AY=AY||Ad.mailboxes;if(!AY){return;}Ad.mailboxes=AY;for(AZ in AY){d=AY[AZ];if(d.server_addr||AZ==="Inbox"){if(AX){d.leftpane_pane_mboxes_expanded_else="";}w+=a(Ab.mailboxes,d,null,null,Aa,Ab);}}b={mailboxes:w};if(AV){if(Ad.expandEA){b.leftpane_pane_mboxes_expanded_else1="";}else{b.leftpane_pane_mboxes_expanded="";}}Ac=AV?a(Ab.base,b,null,null,Aa,Ab):w;L(Ac,AW,"afterEnd");}function y(d){function b(AW,AV){var w=AW.folderInfo.name;var Aa=AV.folderInfo.name;var AX=0,AZ,AY=0;w=w.split("/");Aa=Aa.split("/");AZ=(w.length<Aa.length)?w.length:Aa.length;for(;AX<AZ&&(AY===0);AX++){AY=w[AX].toLowerCase().localeCompare(Aa[AX].toLowerCase());if(AY===0){AY=w[AX].localeCompare(Aa[AX]);}}return AY||(w.length-Aa.length);}d.sort(b);}function g(Ac){var w=Ac.folderInfo.fid,AV=AO[AM](w),AW=AO[AM]("tabinbox"),AY=NeoConfig.strings,Ab,AX;if(AV){var Aa=AV[D]("a"),b=(w==="Draft"),Af=(w==="%40C%40Chats"),Ae=b?Ac.total:Ac.unread,d="{{str_nav_inbox_unread_attr}}";if(b){d=(Ae==1)?"{{str_nav_draft_attr}}":"{{str_nav_drafts_attr}}";}else{if(Af){d="{{str_nav_conversations}}";}}Ab={};d=a(d,{inbox_unread_cnt:Ae},null,null,AY);if(Aa&&Aa[0]){Ab[j[w]+"_cnt"]=Ac.total;if(b||Af){Aa[0].title=d;}else{Aa[0].title=a("{{str_nav_"+j[w]+"_attr}}",Ab,null,null,AY);}}if(w=="Sent"){return;}if(w=="Inbox"&&AW&&!NeoConfig.hasConv&&!NeoConfig.isFresh){var Ad=AW[D]("i");if(Ad[0]){Ad[0].innerHTML="("+Ac.total+")";}AX=AY["str_tabs_"+j[w]];AW[AA]("title",AX+" ("+Ac.total+")");}if(Ae>0&&!b){AV[E]+=" has-unread";}if(NeoConfig.grayoutEnabled&&Ac.total===0&&(w==="%40B%40Bulk"||w==="Trash")){AV[E].replace("hasmultimsg","hasnomsg");}var AZ=AV[D]("span");if(AZ&&AZ[0]){if(NeoConfig.isFresh){AZ=AZ[0];}else{AZ=AZ[0][AC];}if(Ae>0){if(NeoConfig.isFresh){if(Ae>999){AZ.innerHTML="(999+)";}else{AZ.innerHTML="("+Ae+")";}}else{AZ.innerHTML=Ae;}W(AZ,"invisible");}}AZ.title=d;}}function AE(Ao){var d=NeoConfig,An=d.folderListTmpl,AV=d.strings,b,AX,Am,Ab,Al,Aa,Af,Ai,Ac,Ag,Aj,Ap="",w="",AZ=0,AY=0,Ad,Ae;Ao=Ao||d;if(!Ao.folders){return;}Ai=Ao.folders.folder;Ac=Ai.length;y(Ai);for(Ae=0;Ae<Ac;Ae++){AX=Ai[Ae];b=AX.folderInfo.fid;Al=false;if(b.indexOf("Sync%20Trap")==0){continue;}Am=AX.folderInfo.name;Al=(((Ae+1)<Ac)&&(Ai[Ae+1].folderInfo.name.indexOf(Am+"/")===0));Am=Am.split("/");AZ=Am.length-1;if(AZ){if(Ag.folderInfo.name===Am[0]){Am=Am[AZ];}else{AZ=0;Am=AX.folderInfo.name;}}if(!AX.isSystem){Ad={url:"#",name:Am,fid:b,total_cnt:AX.total,isParent:Al?"papa-folder":"",clicker:Al?'<span class="papa-arrow" style="left:'+(AZ*10)+'px;"></span><div class="clicker" style="width:'+(AZ*10+16)+'px;"></div>':"",email_str:(AX.total==1)?AV.str_email_cnt_one:AV.str_email_cnt_multi,depth_attr:AZ?'fdepth="'+AZ+'"':"",indent_level:AZ?'style="padding-left:'+(AZ*10+16)+'px;"':""};if(NeoConfig.bidi&&AX.folderInfo.dir){Ad.name=(AX.folderInfo.dir=="rtl"?"\u202B":"\u202A")+Ad.name+"\u202C";}if(AX.unread){if(NeoConfig.isFresh){(AX.unread>999)?Ad.unread_cnt=Ad.inbox_unread_cnt="999+":Ad.unread_cnt=Ad.inbox_unread_cnt=AX.unread;}else{Ad.unread_cnt=Ad.inbox_unread_cnt=AX.unread;}Ad.hidden_class="";}else{Ad.has_unread="";Ad.hidden_class=" invisible";}Aa=a(An.folders,Ad,null,null,AV,An);}if(AZ){if(AZ>AY){Aj+="<ul>";AY++;}else{if(AZ<AY){while(AY>AZ){Aj+="</ul>";AY--;}}}Aj+=Aa;}else{while(AY){Aj+="</ul>";AY--;}if(Aj){if(Ag.isSystem){L(Aj,AO[AM](Ag.folderInfo.fid),"afterEnd");}else{w+=Aj;}}if(AX.isSystem){if(Al){Ab=AO[AM](AX.folderInfo.fid);e(Ab,"papa-folder");L("<div class=\"papa-arrow\"></div><div class='clicker' style='width:16px;'></div>",Ab,"afterBegin");}g(AX);if(b=="%40C%40Chats"){d.ssa_enabled=true;}}else{w+=Aa;}Aj="";Ag=AX;}}while(AY){Aj+="</ul>";AY--;}if(Aj){if(Ag.isSystem){L(Aj,AO[AM](Ag.folderInfo.fid),"afterEnd");}else{w+=Aj;}}if(d.enable_ssa){if(d.hasIM&&d.tog_hasIM&&d.ssa_enabled){AO[AM]("%40C%40Chats")[E]="chats ";}}var Ah=AO[AM]("custom-folders-nav"),Ak=AO[AM]("custom-folders-btn"),AW=AO[AM]("smart-folders-nav");NeoGV.inject({html:w,el:Ah[D]("ul")[0]});if(AW){AW[E]=AW[E].replace("collapsed","expanded");AW[AA]("title",AV.str_nav_left_smart_folders_expanded_attr);}if(d.expandPF){Ah[E]=Ah[E].replace("collapsed","expanded");Ak[AA]("title",AV.str_nav_left_folders_expanded_attr);}else{Ak[AA]("title",AV.str_nav_left_folders_collapsed_attr);}}function N(d){var b=AO[AM]("uhimage");if(b&&AO[AM]("btn-account")&&b.style.display=="none"){d=d||AO[AM]("btn-account")[D]("img")[0].src;
}if(b&&d){b.src=d;b.style.display="";}}var k=(function(d){var b;return function(AV){var w=NeoConfig.strings;if(!b){b={"Inbox":w.str_nav_inbox,"Draft":w.str_nav_drafts,"Trash":w.str_nav_trash,"Sent":w.str_nav_sent,"%40B%40Bulk":w.str_nav_spam,"%40C%40Chats":w.str_nav_conversations};}return b[AV];};}());function t(){var AV=NeoConfig.folders,d,AY,AW,AX;for(var w=0;w<AV.numberOfFolders;w++){AW=AV.folder[w];d=AW.folderInfo;AX=d.fid;if(AX===(Neo.fid||"Inbox")){AY=AW.isSystem?k(AX):d.name;break;}}if(AY){var b=K("list-view","div","msg-list");if(b.length){b[0][AA]("aria-label",AY);}}}function B(b){t();if(!b){return;}var Af=NeoConfig,Ae=Af.msgListTmpl,AV=[],Ag,AW,Ab,AX=0,Aa,w=Af.strings;try{Aa=parseInt(AO[AM]("msg-list").style.height,10);}catch(AY){Aa="auto";}if(Af.pagedResults){Aa=Af.messagesPerPage;}else{Aa=Aa=="auto"?1000:parseInt((Aa/21)+Af.ulPadding,10);}if(Af.defaultSortOrder=="up"){b.reverse();}for(AW in b){if(++AX>Aa){break;}Ag=b[AW];Ab=Ag.mid;var Ad=(Af.hasConv?Ag.anchorDate:Ag.rawDate)*1000;Ag.receivedDate=f(new Date(Ad),F(Ad));Ag.checkbox_label=a(w.str_msg_list_checkbox_label,{messagenumber:(parseInt(AW,10)+1)});var AZ="&nbsp;",Ac=Ag.flags1;Ag.is_deleted="";Ag.is_selected="";Ag.is_replied="";Ag.is_forwarded="";Ag.is_unread="";Ag.is_flagged="";Ag.attachment_previews="";Ag.hashKey=Ab.split("_").pop();Ag.inboxservices="";if(Ac.match("replied")){Ag.is_replied=w["str_msg_list_info-replied"];}if(Ac.match("forwarded")){Ag.is_forwarded=w["str_msg_list_info-forwarded"];}if(Ag.flags.match("unread")){Ag.is_unread="unread";}if(Ag.flags.match("flagged")){Ag.is_flagged="flagged";}if(Ag.hasOwnProperty("hide_attachments_else")){Ag.hasAttachment="";}Ag.status_message=AZ;AV[AW]=a(Ae.message,Ag,null,null,w,Ae);Ag.mid=Ab;}var d=K("list-view-items","div",AO[AM](m))[0];NeoGV.inject({html:AV.join(""),el:d});AB(d,"loading","");if(z(AO[AP],"fullpage")){d.style.height="auto";}}function x(b){t();if(!b){return;}var Ag=NeoConfig,Af=Ag.msgListTmpl,AV=[],Ah,AW,Ac,AY=0,Ab,w=Ag.strings;try{Ab=parseInt(AO[AM]("msg-list").style.height,10);}catch(AZ){Ab="auto";}if(Ag.pagedResults){Ab=Ag.messagesPerPage;}else{Ab=Ab=="auto"?1000:parseInt((Ab/21)+Ag.ulPadding,10);}if(Ag.defaultSortOrder=="up"){b.reverse();}for(AW in b){if(++AY>Ab){break;}Ah=b[AW];Ac=Ah.mid;Ah.mid='name="mid" value="'+Ac+'"';var Ae=(Ag.hasConv?Ah.anchorDate:Ah.rawDate)*1000;Ah.receivedDate=f(new Date(Ae),F(Ae));Ah.checkbox_label=a(w.str_msg_list_checkbox_label,{messagenumber:(parseInt(AW,10)+1)});var Aa="&nbsp;",Ad=Ah.flags1,AX=Ah.inboxservices;if(Ad.match("replied")){Aa=w["str_msg_list_info-replied"];}else{if(Ad.match("forwarded")){Aa=w["str_msg_list_info-forwarded"];}else{if(Ah.flags.match("unread")){Aa=w["str_msg_list_info-unread"];}else{if(AX&&AX.match("data-certified")){Aa=w["str_msg_list_info-certified"];}}}}Ah.status_message=Aa;AV[AW]=a(Af.message,Ah,null,null,w,Af);Ah.mid=Ac;}var d=K("list-view-items","div",AO[AM](m))[0];NeoGV.inject({html:AV.join(""),el:d});AB(d,"loading","");if(z(AO[AP],"fullpage")){d.style.height="auto";}}function F(w){var d=NeoConfig,AW,AY=(new Date()).setHours(0,0,0,0),AX=AY-(518400*1000),AV=(new Date()).setMonth(0,1),AZ=d.strings,b=AZ.dateObj;if(w>AY){AW=b.mlt;}else{if(w<AY&&w>AX){AW=b.mldt;}else{if(NeoConfig.isFresh){if(w>AV){AW=b.ml;}else{AW=b.mly;}}else{AW=b.ml;}}}return AW;}function f(Am,Ak){var AV="d_",Ad="m_",Ae="a_",AY=NeoConfig.strings,w=AY.dateObj,d=function(As,Ar){return((As.getFullYear()==Ar.getFullYear())&&(As.getMonth()==Ar.getMonth())&&(As.getDate()==Ar.getDate()));},Aq=function(Ar){return d((new Date()),Ar);},An=function(As){var Ar=new Date(),At=new Date(Ar.getFullYear(),Ar.getMonth(),Ar.getDate()-1);return d(At,As);};if(!Am||!("getTime" in Am)||isNaN(Am.getTime())){return"";}var Al=Ak,Ah=Am.getDay(),Aj,Ao,Aa,AZ,AX,Ac,Ag,Ab,AW,Ap,Ai,Af,b=new RegExp(".{2}$");if(Al.indexOf("{EEE}")>-1){if(Aq(Am)){Aj=w.t;}else{if(An(Am)){Aj=w.y;}else{Aj=w[AV+Ah];}}Al=Al.replace("{EEE}",Aj);}Al=Al.replace("{EE}",w[AV+Ah]);Al=Al.replace("{E}",w[AV+Ae+Ah]);Ao=Am.getMonth();Al=Al.replace("{M}",Ao+1).replace("{MM}",b.exec("0"+(Ao+1)));Al=Al.replace("{MMMM}",w[Ad+Ao]);Al=Al.replace("{MMM}",w[Ad+Ae+Ao]);Aa=Am.getDate();Al=Al.replace("{d}",Aa).replace("{dd}",b.exec("0"+Aa));Al=Al.replace("{yy}",Am.getFullYear().toString().substring(2,4)).replace("{yyyy}",Am.getFullYear());AZ=Am.getHours();AX=AZ;Ac=(AX<12)?w.am:w.pm;if(AX===0){AX=12;}else{if(AX>12){AX-=12;}}Al=Al.replace("{h}",AX).replace("{hh}",b.exec("0"+AX));Al=Al.replace("{H}",AZ).replace("{HH}",b.exec("0"+AZ));Ag=Am.getMinutes();Al=Al.replace("{m}",Ag).replace("{mm}",b.exec("0"+Ag)).replace("{A}",Ac);Al=Al.replace("{tt}",Ac).replace("{t}",Ac.substring(0,1));Ab=Am.getSeconds();Al=Al.replace("{S}",Ab).replace("{SS}",b.exec("0"+Ab));AW=Am.getTimezoneOffset();Ap=AW>0?"-":"+";AW=Math.abs(AW);Ai=Math.floor(AW/60);Af=AW%60;Ai=b.exec("0"+Ai);Af=b.exec("0"+Af);Al=Al.replace("{Z}",Ap+Ai+Af).replace("{ZZ}",Ap+Ai+":"+Af);return Al;}function I(){var AV,d,w,AW,b=0;AV=d=AO[AM]("paneshell");if(AV){w=window.innerHeight||(AO.documentElement&&AO.documentElement.clientHeight)||AO[AP].clientHeight;b=0;do{b+=d.offsetTop;}while(d=d.offsetParent);if(!w&&!b){return;}AW=(w-b-2)+"px";if(AW!=AV.style.height){AV.style.height=AW;}}}function AN(){if(window.slowConnDlg){slowConnDlg.switchDisplay("dialupMask",0);slowConnDlg.switchDisplay("dialupLoading",0);}Neo.Event.removeHandler(AO,"click",v);Neo.Event.removeHandler(AO[AM]("shellcontent"),"click",Q);Neo.Event.removeHandler(AO[AM]("shellcontent"),"dblclick",AS);}function AH(){var b=AO[AM]("slot_LREC");if(b){b.style.display="none";}}return{Event:n,fetchCSS:AU,supplant:a,mix:AG,exec:l,replaceClass:AB,getElementsByClass:K,globalClick:v,rightPaneClick:Q,rightPaneDblClick:AS,init:AK,drawFolders:AE,drawMailboxes:p,insert:L,setUHImage:N,injectMessages:x,injectSearchMessages:B,async:s,getDateFormat:F,dateFormatter:f,resizeFullpage:I,sortFolders:y,msgHdrStack:V,openMessage:h,removeEvents:AN,hideLREC:AH,_getSysFolderName:k,_hasClass:z,_addClass:e,_removeClass:W,_getNextSibling:Z,_getPrevSibling:G,_switchToInboxTab:r,_switchToWhatsNewTab:J};
}());