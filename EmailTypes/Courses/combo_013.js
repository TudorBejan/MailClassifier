YUI.add("contacts-ui-contactsview",function(A){var B=function(E){var H=this,G,K=null,F,C="",I=E||{};H.contactsTabNode=null;function D(M){G=A.one(M);G.setContent(F);H.contactsTabNode=A.one("#abIframeTab");}function J(M){I=M||{};L();}function L(){var O,N,M,R,Q;var P=NeoConfig.theme?NeoConfig.theme.id:"";if(I){M=I.vpc?"&VPC="+I.vpc:"";R=I.params?"&id="+I.params:"";}if(NeoConfig.mintyAB){if(P){Q=(!NeoConfig.theme.build||NeoConfig.theme.build==="")?"dev":NeoConfig.theme.build;Q=Q.replace("_","");C+="/yab-fe/mu/MainView?.src=neo&themeName="+P+"&bn="+Q+"&s="+(NeoConfig.isFullSSL?1:0);}else{C+="/yab-fe/mu/MainView?.src=neo";}C+=R;}else{C="/yab-fe/?.src=neo"+M+R;}C+="&isFresh="+NeoConfig.isFresh+"&bucketId="+NeoConfig.expBucketId;if(window.location.href.search(".lang=")!==-1){C+="&.lang="+NeoConfig.lang;}C+="&stab="+(new Date()).getTime();F='<div class="content" style="width:100%;height:100%;position:relative;overflow:hidden">'+'<iframe  target="_blank" frameborder="0" vspace="0" hspace="0" style="background-color: white; width: 100%; height: 100%; " id="abIframeTab" src="'+C+'"/>'+"</div>";}L();B.superclass.constructor.call(H);A.mix(H,{NAME:"ContactsView",render:D,contactsTab:K,updateConfig:J},true);H.set("hideToolbar",1);H.set("hideNavbar",1);};A.extend(B,A.mail.ui.BaseWidget);A.namespace("contacts.ui");A.contacts.ui.ContactsView=null;A.contacts.ui.getContactsViewInstance=function(C){if(A.contacts.ui.ContactsView){return A.contacts.ui.ContactsView;}else{A.contacts.ui.ContactsView=new B(C);return A.contacts.ui.ContactsView;}};},"1.0.0",{requires:["mail-ui-basewidget","node-event-simulate"]});YUI.add("contacts-ui-contactseventstranslator",function(B){B.namespace("contacts.ui");var A=function(){var I=this;B.augment(I,B.EventTarget);function G(K,L){var J=K.contactsView,M,N=null;if(K.contactsView){if(L&&L.args&&L.args.ids){M=L.args.ids.join(",");}N={vpc:K.contactsView,params:M};}return N;}function E(J,K){if(B.contacts.ui.ContactsView&&B.contacts.ui.ContactsView.contactsTab){if(J.showContactsTab){if(B.contacts.ui.ContactsView.contactsTab.get("active")!==1){B.contacts.ui.ContactsView.contactsTab.set("active",1);}}}else{if(J.showContactsTab){B.fire("openContacts",G(J,K));}}}function F(J){B.Global.on(J.name,function(K){B.fire(J.name,K);});}function C(J){B.on(J.name,function(K){if(B.contacts.ui.ContactsView&&B.contacts.ui.ContactsView.contactsTab){if(K){B.mix(K,{type:J.name});}else{K={type:J.name};}if(NeoConfig.mintyAB){B.one("#abIframeTab").fire(J.name,K);}else{B.Global.fire(J.name,K);}}E(J,K);});}function H(){var J,K;J=B.contacts.ui.contactsEvents.eventsToSab;for(K in J){if(J.hasOwnProperty(K)){C(J[K]);}}J=B.contacts.ui.contactsEvents.eventsFromSab;for(K in J){if(J.hasOwnProperty(K)){F(J[K]);}}}function D(K){var J=B.contacts.ui.ContactsView,L=J?J.contactsTabNode:null;if(L){L.simulate("keydown",K.event);}}B.on("contacts:shortcut",D);H();};B.contacts.ui.contactsEventTranslator=new A();},"1.0.0",{requires:["contacts-ui-contactsevents","contacts-ui-contactsview"]});YUI.add("comms-ui-dialog-base",function(G){var E=G.Node,C=E.one,F,D;function A(H){var I=H.get("id");if(!I){I=G.stamp(H);H.set("id",I);}return I;}function B(Q){Q=Q||{};Q.visible=Q.visible||0;Q.zIndex=Q.zIndex||4000;var P=this,T=Q.contentBox||null,U=Q.template||null,J=Q.cssPrefix||null,H=Q.focusedNode||null,L=Q.clearMask||false,S=Q.hideMask||false,R=Q.restoreFocusNode,I=Q.suppressRestoreFocus||false,K=Q.suppressActive,N=Q.maskId||null,M=Q.noScroll||false,O=Q.disableEsc||false;this._evt=[];if(!T&&U){P.CONTENT_TEMPLATE=U;}B.superclass.constructor.apply(this,arguments);if(!D&&K){if(F){D=F;F.set("visible",false);}else{K=false;}}P.addAttrs({cssPrefix:{value:J,readOnly:true},focusedNode:{value:H},clearMask:{value:L},hideMask:{value:S},restoreFocusNode:{valueFn:function(){var V=R;if(!((V instanceof G.Node)||G.Lang.isNull(V))){V=document.activeElement;}return V;}},suppressRestoreFocus:{value:I},suppressActive:{value:K,readOnly:true},maskId:{value:N},noScroll:{value:M},disableEsc:{value:O}});}B.NAME="dialog";B.CSS_PREFIX="yui3-overlay";B.ATTRS={role:{value:"dialog"}};G.extend(B,G.Overlay,{maskEl:null,prevMaskElId:null,centerEl:null,_haltShow:false,initializer:function(){this.set("visible",false);this.on("render",this.onBeforeRender);},destructor:function(){var I,J=this.get("restoreFocusNode"),L=this.get("suppressRestoreFocus"),H=this.get("contentBox").get("id");this.get("boundingBox").purge(true);if(this.get("centered")){this.centerEl&&this.centerEl.remove(true);}else{this.get("boundingBox").remove(true);}if(this.get("noScroll")){G.one("body").setStyle("overflow","visible");}for(I in this._evt){G.detach(this._evt[I]);}if(!this._haltShow){if(D&&this.get("suppressActive")){D.set("visible",true);D=null;this.prevMaskElId&&this.maskEl&&this.maskEl.set("id",this.prevMaskElId);this.prevMaskElId=null;}else{if(this.get("maskId")){this.maskEl.remove(true);}else{this.maskEl&&this.maskEl.setStyle("display","none");}F=null;if(!L){try{if(!(G.Lang.isNull(J)||J.tagName=="IFRAME")){J.focus();}}catch(K){}}G.fire("dialog:hide",H);}}else{this._haltShow=false;}},renderUI:function(){var O=this.get("cssPrefix"),J=this.get("contentBox"),N=this.get("role"),H,M,L,I,K;J.set("role",N);if(O){H=["#"+J.get("id")," .",O].join("");L=G.one(H+"-hd");I=G.one(H+"-bd");K=G.one(H+"-ft");if(L){J.set("aria-labelledby",A(L));if((M=L.one(".close"))){M.set("role","presentation");}if(!L.hasClass("yui3-widget-hd")){L.addClass("yui3-widget-hd");}}if(I){if(N==="alertdialog"||N==="dialog"){J.set("aria-describedby",A(I));}if(!I.hasClass("yui3-widget-bd")){I.addClass("yui3-widget-bd");}}if(K){if(!K.hasClass("yui3-widget-ft")){K.addClass("yui3-widget-ft");}}}J.setStyle("display","block");J.set("tabIndex",0);J.all(".btn a").each(function(Q,P){Q.set("role","button");});},show:function(){if(!F){B.superclass.show.call(this);!this.get("suppressActive")&&G.fire("dialog:show",this);if(this.get("noScroll")){G.one("body").setStyle("overflow","hidden");}}else{this._haltShow=true;this.destroy();}},bindUI:function(){var M=G.all(".yui3-overlay-content .btn a"),H=M.size()-1,K=G.one(".yui3-overlay-content"),N=this.get("focusedNode"),J;if(this.get("centered")){this.after("renderedChange",this.center);}this._evt.push(this.after("visibleChange",function(){var P={display:"none"},O=this.get("contentBox");if(this.get("visible")){O&&O.setStyle("display","block");P.display=this.get("hideMask")?"none":"block";F=this;}else{O&&O.setStyle("display","none");F=null;}this.maskEl&&this.maskEl.setStyles(P);if(F){L(true);}}));function L(P){if(!F){return;}if(!(N instanceof G.Node)){P&&G.UA.gecko&&K.focus();N=K.one(N);}try{if(N){N.focus();}else{K.focus();}}catch(O){}}this._evt.push(K.on("blur",function(){J=true;}));this._evt.push(K.on("focus",function(P){var O="#"+K.get("id");if(J&&!P.target.ancestor(O,true)){L();}J=false;}));function I(Q){var O,P=Q.target;switch(Q.keyCode){case 8:case 46:return;break;case 9:if(H>-1){if(Q.shiftKey){if(K==P){Q.halt();M.item(H).focus();}}else{if(M.item(H)==P){Q.halt();K.focus();}}}break;case 27:if(!this.get("disableEsc")){this.fire("dialog:action",{dataAction:"cancel"});Q.preventDefault();}break;case 32:if(P.getAttribute("role")=="button"){Q.preventDefault();G.use("node-event-simulate",function(){P.simulate("click");});}break;case 37:case 39:if((H>0)&&(O=M.indexOf(P))>-1){if(Q.keyCode==37){M.item((O==0)?H:O-1).focus();}else{M.item((O==H)?0:O+1).focus();}}break;}Q.stopPropagation();}K.on("keydown",I,this);},onBeforeRender:function(N){var O=this.get("zIndex"),H=this.get("hideMask"),K=this.get("clearMask"),P=this.getClassName((K?"clearmask":"mask")),I="position:fixed;top:50%;left:50%;height:1px;",J,L=this.get("maskId"),M,Q;if(L){this.maskEl=C("#"+L);}if(!this.maskEl){if(!L){L=G.guid();}if(!(this.maskEl=G.one("."+P))&&!H){M=['<DIV id="',L,'" class="',P,'" style="z-index:',(O-2),'"></DIV>'].join(""),C("body").prepend(M);this.maskEl=C("#"+L);}else{if(this.maskEl){this.prevMaskElId=this.maskEl.get("id");this.maskEl.set("id",L);this.maskEl.setStyle("zIndex",O-2);}}}if(this.get("centered")){J=G.guid();Q=['<DIV id="',J,'" style="',I,"z-index:",(O-1),'"></DIV>'].join("");C("body").prepend(Q);this.centerEl=G.one("#"+J);N.parentNode=this.centerEl;this.get("boundingBox").setStyle("position","relative");}},center:function(){var I,J,H=this.get("boundingBox");I=-(H.get("offsetWidth")/2)+"px";J=-(H.get("offsetHeight")/2)+"px";H.setStyles({"marginLeft":I,"top":J,"left":0});}});G.namespace("comms.ui");G.comms.ui.Dialog=B;},"0.0.1",{requires:["overlay"]});