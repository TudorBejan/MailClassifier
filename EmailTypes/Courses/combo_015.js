YUI.add("om-ui-views-folderpane",function(B){function A(C){A.superclass.constructor.apply(this,arguments);}A.NAME="omFolderPaneView";A.ATTRS={height:{value:300}};B.extend(A,B.om.ui.views.Simple,{render:function(){A.superclass.render.call(this,".items-nav-applications",true);if(this.get("rendered")){if(B.mail.ui.searchTab&&B.mail.ui.searchTab.get("active")){this.node.addClass("hidden");}this.node.addClass("items om-views-folderpane");}}});B.namespace("om.ui.views").FolderPane=A;},"1.0.0",{requires:["om-ui-views-simple"]});YUI.add("mail-common-cachewarmer",function(B){B.namespace("mail.common.cachewarmer");var H=5000,L=3000,A=10,J=NeoConfig.pfm,N=50,C=B.Env._loader,K={isIdle:function(){return true;}},M=B.common.net.Session||K,G=B.common.net.SessionXDR||K,F=B.common.net.SessionFlash||K,I={},D=B.on("ds:msg:remove",function(Q,P){if(Q==="Inbox"){for(var O in P){I[P[O].mid]=true;}}});var E=function(O){try{return function(){this.queue[O].apply(this.queue,arguments);};}catch(P){}return false;};B.mail.common.cachewarmer={queue:(function(){var O=new B.AsyncQueue();O.defaults.timeout=N;return O;})(),add:function(){this.queue.add.apply(this.queue,arguments);return this;},run:function(){this.queue.add(this.queue.stop);this.queue.run();return this;},clear:function(){this.queue.stop();B.detach("cachewarmer:stopMessagePrefetch");},warmUp:function(Q,R,P,O){P&&this.addDelay(P);!O&&this.addIdleCheck();if(B.Lang.isArray(R)&&R.length){this.queue.add({fn:function(){B.use.apply(B,R);},timeout:10,id:Q});return this;}return false;},addDelay:function(O){if(O){this.queue.add({fn:function(){},timeout:O});return true;}return false;},addIdleCheck:function(Q){var O=0,P=this.queue;Q=Q||A;P.add({fn:function(){O++;},timeout:400,until:function(){return((M.isIdle()&&G.isIdle()&&F.isIdle())&&(!C||!C._loading))||(O==Q&&P.stop());}});return true;},setupLaunch:function(O){this.addDelay(O?L:H);this.addIdleCheck();return true;},preFetchMessages:function(R,Q,P,O){this.clear();P&&this.addDelay(P);(R=="Inbox"&&!Q)?this.addInboxPreFetching():this._preFetchMessages(R,Q,O);return this.run();},addInboxPreFetching:function(){var O=this;if(!NeoConfig.usingSearch){B.use("mail-ui-messagelist-base",function(){O._preFetchMessages("Inbox",B.mail.ui.MessageList.getMsgHdrList(),null,true);});}},_preFetchMessages:function(O,X,U,a){if(!J){return false;}if(NeoConfig.grid){J.batch="6,6";J.count=12;}var T,P,W=[],Y,b,S,R=J.batch.split(","),V=J.count,Z=J.maxSize,Q=B.mail.ui.MessageList;if(U&&U[0]){W=U;}else{Q&&X&&Q.getNeighbors(X,-1,W,O,V,Z);}while((S=R.shift()||10)&&(b=W.splice(0,S))&&(P=b.length)){Y=[];for(T=0;T<P;T++){Y.push(b[T]);}this.addIdleCheck();this.queue.add((function(c,e,d){return{fn:function(){var g=[];for(var f in c){if(!I[c[f].mid]){g.push(c[f]);}}if(g.length>0){B.mail.Controller.Messages.get({fid:O,prefetch:g,cachekey:"CacheWarmer"},{suppressCodes:["*"],backgroundLogs:["*"]});}else{}if(e){B.detach(d);}},timeout:10,id:"messagePrefetch"};})(Y,a,D));}B.once("cachewarmer:stopMessagePrefetch",function(c){var d=["messagePrefetch"];this.queue.remove("messagePrefetch");this.clear();if(!B.Lang.isUndefined(c)&&B.Lang.isFunction(c.done)){if(!B.Lang.isUndefined(c.data)){d.push(c.data);}c.done.apply(this,d);}},this);this.queue.on("complete",function(){B.detach("cachewarmer:stopMessagePrefetch");});return true;},addCompose:function(P,O,Q){this.warmUp("compose",Q,P,O);},prefetchNextRelease:function(O,Q){var T=this,R=Q||3000,X,P=yui,U=1,V,Z={isIdle:function(){return true;}},a=P.common.net.Session||Z,W=P.common.net.SessionXDR||Z,S=P.common.net.SessionFlash||Z;if(!O){return;}X=function(Y){if(a.isIdle()&&W.isIdle()&&S.isIdle()){Y();}else{P.Lang.later(R,T,function(){X(Y);});}};P.use("cookie",function(g){var e=NeoConfig.buildNumber.split(".").pop(),c,b,d=[],f;if(e==O||O==g.Cookie.get("_ver_")){return;}c=new RegExp("_"+e+".js","g");g.all("script").each(function(h){var Y=h.get("src"),i;if(Y&&Y.match("http://mail.yimg.com/")&&Y.match("_"+e+".js")){i=Y.replace(c,"_"+O+".js");if(i!=Y){d.push(i);}}});c=new RegExp("_"+e+".css","g");g.all("link").each(function(h){var Y=h.get("href"),i;if(Y&&Y.match("http://mail.yimg.com/")&&Y.match("_"+e+".css")){i=Y.replace(c,"_"+O+".css");if(i!=Y){d.push(i);}}});if(!d.length){return;}V=new Date();b=g.Node.create('<iframe class="offscreen" role="presentation" tabindex="-1" src="'+d.shift()+'">');b.on("load",function(){var Y=d.shift();g.common.Utils.rocketstats.stat("prefetchRelease:asset"+U);g.common.Utils.rocketstats.stat("prefetchRelease:asset","loadTime",(new Date()-V));U++;if(!Y){g.Cookie.set("_ver_",O);return;}g.Lang.later(R,null,function(){X(function(){V=new Date();b.set("src",Y);});});});g.one("body").appendChild(b);});},before:E("before"),on:E("on"),after:E("after"),fire:E("fire")};},"1.0.0",{requires:["async-queue","loader","common-net-session","mail-controller-messages"]});YUI.add("mail-ui-workspace-fresh",function(A){A.mix(A.mail.ui.Workspace,{_setupFeedback:function(){A.use("comms-ui-feedback-widget","_shared_module_feedback","feedback_css",function(H){var C=H.comms.ui.Feedback,G="_shared_module_feedback",D={},F="",B=NeoConfig.expBucketId;if(NeoConfig.isCorpmail){F="&keywords=mail-corpuser&isCorpMail=1";B="Yahoo! Mail";}D={internalIP:NeoConfig.isInternalIP,bucketId:B,template:H.ui.Templates[G].base,strings:{str_yconfidential:"Y! Confidential"},urls:{bug:strings["str_cfg_url_feedback_bug"]+F,productInfo:strings["str_cfg_url_feedback_product_info"],moderator:strings["str_cfg_url_feedback_ymoderator"],confidential:strings["str_cfg_url_feedback_confidential"]}};var E=new C(D);E.render("body");});},_setUpFreshToolTips:function(){var B={};A.use("comms-ui-tooltips-widget","widget-anim","_shared_module_offscreen_bin_tooltip_fresh",function(F){var D=F.comms.ui.ToolTips,E="_shared_module_offscreen_bin_tooltip_fresh",C;D.TRIGGER_CLASS="neo-tooltip";D.OFFSET_XY=[0,10];D.TEXT="tooltip_text";D.TEMPLATE=F.ui.Templates[E].base;B={shim:false,zIndex:100,position:"center",width:"150px",delay:{show:25,hide:50,auto:6000},render:true,autoHide:true,trigger:".neo-tooltip"};toolTipIns=new D(B).plug(F.Plugin.WidgetAnim);toolTipIns.anim.get("animShow").set("duration",0.15);C=toolTipIns.anim.get("animHide");C.set("duration",0.0001);C.on("end",function(){toolTipIns.move(D.OFFSCREEN_XY[0],D.OFFSCREEN_XY[1]);});toolTipIns.get("boundingBox").setStyle("textAlign","center");toolTipIns.before("triggerEnter",function(J){var H=J.node,M=H?H.get("id"):"",K=null,G="",L=this,I;F.fire("menu:display-menu-close");if(M==="btn-ml-count"||M==="btn-previous"||M==="btn-next"){I={"btn-previous":0,"btn-ml-count":0,"btn-next":2};K=H.one("span[title]");L.setCustomTriggerAttrs({"correction":[L.getNodeSize(K)[0]*I[M],-5]});L.setTriggerContent(false,K);}});F.on("menu:display-state",function(H){if(H.state==="show"){toolTipIns&&toolTipIns.hide();}else{if(H.state==="hide"){var G=F.one("#btn-ml-count");G.removeClass("pressed");}}});F.on("mailview:toolbar-action",function(G){toolTipIns&&toolTipIns.hide();});});}},1);},"1.0.0",{requires:["mail-ui-workspace-base"]});/*
YUI 3.7.2 (build 5639)
Copyright 2012 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/
YUI.add("classnamemanager",function(e,t){var n="classNamePrefix",r="classNameDelimiter",i=e.config;i[n]=i[n]||"yui3",i[r]=i[r]||"-",e.ClassNameManager=function(){var t=i[n],s=i[r];return{getClassName:e.cached(function(){var n=e.Array(arguments);return n[n.length-1]!==!0?n.unshift(t):n.pop(),n.join(s)})}}()},"3.7.2",{requires:["yui-base"]});
/*
YUI 3.7.2 (build 5639)
Copyright 2012 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/
YUI.add("widget-base",function(e,t){function R(e){var t=this,n,r,i=t.constructor;t._strs={},t._cssPrefix=i.CSS_PREFIX||s(i.NAME.toLowerCase()),e=e||{},R.superclass.constructor.call(t,e),r=t.get(T),r&&(r!==P&&(n=r),t.render(n))}var n=e.Lang,r=e.Node,i=e.ClassNameManager,s=i.getClassName,o,u=e.cached(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}),a="content",f="visible",l="hidden",c="disabled",h="focused",p="width",d="height",v="boundingBox",m="contentBox",g="parentNode",y="ownerDocument",b="auto",w="srcNode",E="body",S="tabIndex",x="id",T="render",N="rendered",C="destroyed",k="strings",L="<div></div>",A="Change",O="loading",M="_uiSet",_="",D=function(){},P=!0,H=!1,B,j={},F=[f,c,d,p,h,S],I=e.UA.webkit,q={};R.NAME="widget",B=R.UI_SRC="ui",R.ATTRS=j,j[x]={valueFn:"_guid",writeOnce:P},j[N]={value:H,readOnly:P},j[v]={value:null,setter:"_setBB",writeOnce:P},j[m]={valueFn:"_defaultCB",setter:"_setCB",writeOnce:P},j[S]={value:null,validator:"_validTabIndex"},j[h]={value:H,readOnly:P},j[c]={value:H},j[f]={value:P},j[d]={value:_},j[p]={value:_},j[k]={value:{},setter:"_strSetter",getter:"_strGetter"},j[T]={value:H,writeOnce:P},R.CSS_PREFIX=s(R.NAME.toLowerCase()),R.getClassName=function(){return s.apply(i,[R.CSS_PREFIX].concat(e.Array(arguments),!0))},o=R.getClassName,R.getByNode=function(t){var n,i=o();return t=r.one(t),t&&(t=t.ancestor("."+i,!0),t&&(n=q[e.stamp(t,!0)])),n||null},e.extend(R,e.Base,{getClassName:function(){return s.apply(i,[this._cssPrefix].concat(e.Array(arguments),!0))},initializer:function(t){var n=this.get(v);n instanceof r&&this._mapInstance(e.stamp(n)),this._applyParser&&this._applyParser(t)},_mapInstance:function(e){q[e]=this},destructor:function(){var t=this.get(v),n;t instanceof r&&(n=e.stamp(t,!0),n in q&&delete q[n],this._destroyBox())},destroy:function(e){return this._destroyAllNodes=e,R.superclass.destroy.apply(this)},_destroyBox:function(){var e=this.get(v),t=this.get(m),n=this._destroyAllNodes,r;r=e&&e.compareTo(t),this.UI_EVENTS&&this._destroyUIEvents(),this._unbindUI(e),n?(e.empty(),e.remove(P)):(t&&t.remove(P),r||e.remove(P))},render:function(e){return!this.get(C)&&!this.get(N)&&(this.publish(T,{queuable:H,fireOnce:P,defaultTargetOnly:P,defaultFn:this._defRenderFn}),this.fire(T,{parentNode:e?r.one(e):null})),this},_defRenderFn:function(e){this._parentNode=e.parentNode,this.renderer(),this._set(N,P),this._removeLoadingClassNames()},renderer:function(){var e=this;e._renderUI(),e.renderUI(),e._bindUI(),e.bindUI(),e._syncUI(),e.syncUI()},bindUI:D,renderUI:D,syncUI:D,hide:function(){return this.set(f,H)},show:function(){return this.set(f,P)},focus:function(){return this._set(h,P)},blur:function(){return this._set(h,H)},enable:function(){return this.set(c,H)},disable:function(){return this.set(c,P)},_uiSizeCB:function(e){this.get(m).toggleClass(o(a,"expanded"),e)},_renderBox:function(e){var t=this,n=t.get(m),i=t.get(v),s=t.get(w),o=t.DEF_PARENT_NODE,u=s&&s.get(y)||i.get(y)||n.get(y);s&&!s.compareTo(n)&&!n.inDoc(u)&&s.replace(n),!i.compareTo(n.get(g))&&!i.compareTo(n)&&(n.inDoc(u)&&n.replace(i),i.appendChild(n)),e=e||o&&r.one(o),e?e.appendChild(i):i.inDoc(u)||r.one(E).insert(i,0)},_setBB:function(e){return this._setBox(this.get(x),e,this.BOUNDING_TEMPLATE,!0)},_setCB:function(e){return this.CONTENT_TEMPLATE===null?this.get(v):this._setBox(null,e,this.CONTENT_TEMPLATE,!1)},_defaultCB:function(e){return this.get(w)||null},_setBox:function(t,n,i,s){return n=r.one(n),n||(n=r.create(i),s?this._bbFromTemplate=!0:this._cbFromTemplate=!0),n.get(x)||n.set(x,t||e.guid()),n},_renderUI:function(){this._renderBoxClassNames(),this._renderBox(this._parentNode)},_renderBoxClassNames:function(){var e=this._getClasses(),t,n=this.get(v),r;n.addClass(o());for(r=e.length-3;r>=0;r--)t=e[r],n.addClass(t.CSS_PREFIX||s(t.NAME.toLowerCase()));this.get(m).addClass(this.getClassName(a))},_removeLoadingClassNames:function(){var e=this.get(v),t=this.get(m),n=this.getClassName(O),r=o(O);e.removeClass(r).removeClass(n),t.removeClass(r).removeClass(n)},_bindUI:function(){this._bindAttrUI(this._UI_ATTRS.BIND),this._bindDOM()},_unbindUI:function(e){this._unbindDOM(e)},_bindDOM:function(){var t=this.get(v).get(y),n=R._hDocFocus;n||(n=R._hDocFocus=t.on("focus",this._onDocFocus,this),n.listeners={count:0}),n.listeners[e.stamp(this,!0)]=!0,n.listeners.count++,I&&(this._hDocMouseDown=t.on("mousedown",this._onDocMouseDown,this))},_unbindDOM:function(t){var n=R._hDocFocus,r=e.stamp(this,!0),i,s=this._hDocMouseDown;n&&(i=n.listeners,i[r]&&(delete i[r],i.count--),i.count===0&&(n.detach(),R._hDocFocus=null)),I&&s&&s.detach()},_syncUI:function(){this._syncAttrUI(this._UI_ATTRS.SYNC)},_uiSetHeight:function(e){this._uiSetDim(d,e),this._uiSizeCB(e!==_&&e!==b)},_uiSetWidth:function(e){this._uiSetDim(p,e)},_uiSetDim:function(e,t){this.get(v).setStyle(e,n.isNumber(t)?t+this.DEF_UNIT:t)},_uiSetVisible:function(e){this.get(v).toggleClass(this.getClassName(l),!e)},_uiSetDisabled:function(e){this.get(v).toggleClass(this.getClassName(c),e)},_uiSetFocused:function(e,t){var n=this.get(v);n.toggleClass(this.getClassName(h),e),t!==B&&(e?n.focus():n.blur())},_uiSetTabIndex:function(e){var t=this.get(v);n.isNumber(e)?t.set(S,e):t.removeAttribute(S)},_onDocMouseDown:function(e){this._domFocus&&this._onDocFocus(e)},_onDocFocus:function(e){var t=R.getByNode(e.target),n=R._active;n&&n!==t&&(n._domFocus=!1,n._set(h,!1,{src:B}),R._active=null),t&&(t._domFocus=!0,t._set(h,!0,{src:B}),R._active=t)},toString:function(){return this.name+"["+this.get(x)+"]"},DEF_UNIT:"px",DEF_PARENT_NODE:null,CONTENT_TEMPLATE:L,BOUNDING_TEMPLATE:L,_guid:function(){return e.guid()},_validTabIndex:function(e){return n.isNumber(e)||n.isNull(e)},_bindAttrUI:function(e){var t,n=e.length;for(t=0;t<n;t++)this.after(e[t]+A,this._setAttrUI)},_syncAttrUI:function(e){var t,n=e.length,r;for(t=0;t<n;t++)r=e[t],this[M+u(r)](this.get(r))},_setAttrUI:function(e){e.target===this&&this[M+u(e.attrName)](e.newVal,e.src)},_strSetter:function(t){return e.merge(this.get(k),t)},getString:function(e){return this.get(k)[e]},getStrings:function(){return this.get(k)},_UI_ATTRS:{BIND:F,SYNC:F}}),e.Widget=R},"3.7.2",{requires:["attribute","base-base","base-pluginhost","classnamemanager","event-focus","node-base","node-style"],skinnable:!0});
