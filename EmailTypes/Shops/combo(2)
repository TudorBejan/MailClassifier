var wrappedFn = function () {
if(NeoConfig.fix_date&&(navigator.userAgent.indexOf("Chrome")>0)){var oldDate=Date,statted={},version=navigator.userAgent,goodMethods=["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","toDateString","toGMTString","toISOString","toJSON","toLocaleDateString","toLocaleString","toLocaleTimeString","toString","toTimeString","toUTCString","valueOf"],badMethods=["setDate","setFullYear","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"],buggyVersionStart="17",buggyVersionEnd="20";try{version=version.substr(version.indexOf("Chrome"));version=version.split(" ")[0];version=version.split("/")[1];}catch(e){version="unknown";}if(version>=buggyVersionStart&&version<buggyVersionEnd){NeoGV.fixedDate=1;Date=function(){if(!this instanceof Date){return oldDate();}var E,H,D,G=this,C=100,B=arguments;switch(B.length){case 0:E=new oldDate();break;case 1:E=new oldDate(B[0]);break;case 2:B[2]=1;default:E=new oldDate(B[0],B[1],B[2],B[3]||0,B[4]||0,B[5]||0,B[6]||0);break;}D=0;while(H=goodMethods[D++]){G[H]=F(H);}D=0;while(H=badMethods[D++]){G[H]=A(H);}G.setHours=function(P,M,S,J){try{return E.setHours.apply(E,arguments);}catch(O){stat("setHours");M=M||0;S=S||0;J=J||0;var T=E.getHours(),K=E.getMinutes(),N=E.getSeconds(),I=E.getMilliseconds(),L=((T*60+K)*60+N)*1000+I,R=((P*60+M)*60+S)*1000+J,Q=R-L;E=new Date(E.getTime()+Q);return E.getTime();}};function F(I){return function(){return E[I].apply(E,arguments);};}function A(K){var J=E[K],I=100;return function(){try{return J.apply(E,arguments);}catch(L){if(!I){stat("too_many_"+K);throw L;}I--;stat(K);E=new oldDate(E.getTime());return G[K].apply(G,arguments);}};}};Date.parse=function(A){return oldDate.parse(A);};Date.now=function(){return oldDate.now();};Date.UTC=function(){return oldDate.UTC.apply(oldDate,arguments);};function stat(B){if(!statted[B]){statted[B]=1;var A=new XMLHttpRequest();A.open("POST","stat");A.send('{"page":"date_exception","key":"'+B+"_"+version+'"}');}}}else{NeoGV.fixedDate=0;}}

(function(){var A=YUI.use;YUI.use=YUI.prototype.use=function(){var E,D,H=this,F=0,I=H.Env,G=I._used,C=I._attached,K=I._loader,J=Array.prototype.slice.call(arguments,0),L=J.pop();B&&B(H);if(typeof L!="function"){J.push(L);L=0;}while(D=J[F++]){if(!G[D]||!C[D]){return A.apply(this,arguments);}}if(L){L.call(H,H,{success:true});}};function B(C){try{var D,K,H,M,F=0,J=C.Get.script,L=window.location.search.substring(1).split("&"),G={"all":1,"404":2,"fastfailure":3,"failure":4,"timeout":5,"fasttimeout":6};B=0;for(;F<L.length;F++){D=L[F].split("=");if(D[0]=="modfailure"&&D.length==2){H=K=G[D[1].toLowerCase()];}}if(K){C.Get.script=function(N,O){return E.call(this,J,N,O);};}}catch(I){}function E(P,N,Q){if(typeof N=="string"){N=[N];}for(O=0;O<N.length;O++){if(N[O].search(/combo(.php)?\?/)>0){M=1;}}if(M){if(K==1){if(++H>6){H=2;}}switch(H){case 2:for(var O=0;O<N.length;O++){N[O]=N[O].replace(/combo(.php)?\?/,"nocombo?");}break;case 3:Q.timeOut=20;case 4:setTimeout(function(){Q.onFailure.call(Q.context,{win:window,data:Q});},Q.timeout/2);return;case 5:setTimeout(function(){Q.onTimeout.call(Q.context,{win:window,data:Q});},Q.timeOut);return;case 6:Q.timeout=10;break;}}return P.call(this,N,Q);}}})();

YUI.add("comms-log4js",function(F){var C=F.namespace("comms"),D={},E={ajax:B};C.log4js={getLogger:function(I,J,H,K){I=I||"[default]";J=J||1000;var G=D[I];if(!G){G=D[I]=A(I,J);}H&&G.useAppender(H,K);return G;},register:function(H,G){E[H]=G;}};function A(J,K){var I=[],L=0,H=0,G={};return{useAppender:function(P,O){var M,Q,N=G[P];if(!N){if(N=E[P]){O=N(this,O,J);}N=G[P]=O;N.refresh&&N.refresh();}return N;},log:function(P){var M,N=0,O=I[H++]={msg:P,id:++L};if(!this.noDate){O.ts=new Date;}if(H>=K){H=0;}for(M in G){G[M].notify(O);}},getEntries:function(){I=I.concat(I.splice(0,H));H=I.length;if(H>=K){H=0;}return I;}};}function B(K,J){J=J||{};var I=J.url||"/neo/logger",G=J.include,H=J.exclude,L=J.maxCount||5;G=G&&G.split(",")||[];H=H&&H.split(",")||[];return{notify:function(S){var R,N,U,O=G.length,T=S.msg,Q=0;N=P(G);U=P(H);if(L&&(N||(!O&&!U))){M(S);}function P(V){for(;Q<V.length;Q++){R=V[Q];if(R=="*"||(T.indexOf(R)!=-1)){return 1;}}}}};function M(N){try{var Q=N.msg,P=new XMLHttpRequest();if(!--L){Q="[MAX_ERROR_LOG_COUNT_REACHED] "+Q;}P.open("POST",I);P.send(Q);}catch(O){}}}},"1.0");

YUI.add("launch-utils",function(F){var E=F.log,B=F.comms.log4js.getLogger,A=B("ylogLogger",1000),C=F.namespace("common.Utils");F.log=YUI.prototype.log=function(G){A.log(G);E.apply(this,arguments);};C.traceMsg=function D(H,G){C.startConsole(G);A.log(H);};C.startConsole=function(G){G&&F.use("comms-log4js-appenders-console",function(){A.useAppender("console").show();});};C.netError=function(G){if(NeoConfig.log_error_yapache==1){B("netLogger",1,"ajax").log(G);}};},"1.0",{requires:["comms-log4js"]});

YUI.add("search-mods",function(A){A.mix(A.namespace("comps"),{"mail-ui-advancedSearchController":{"path":"mail/ui/msearch/advancedSearch/advancedSearchController_12.js","requires":["common-utils","mail-ui-advancedSearchView","plugin","ac-widget","filter-contacts","forms_css","autocomplete_css","_shared_module_offscreen_bin_compose","comms-utils"]},"mail-ui-advancedSearchView":{"path":"mail/ui/msearch/advancedSearch/advancedSearchView_12.js","requires":["common-utils","_shared_module_search_empty_rollup","attribute-base","event-base"]},"mail-ui-bulk-progress":{"path":"mail/ui/msearch/utils/bulkProgress_12.js","requires":["attachments_css","common-ui-dialog-helper","_shared_module_offscreen_bin_progress_bar","mail-ui-basewidget"]},"mail-ui-dmsearch-controller":{"path":"mail/ui/dmsearch/dmsearchController_12.js","requires":["event-base","mail-ui-dmsearch-view","mail-ui-dmsearch-model"]},"mail-ui-dmsearch-model":{"path":"mail/ui/dmsearch/dmsearchModel_12.js","requires":["common-net-sessionmgr"]},"mail-ui-dmsearch-view":{"path":"mail/ui/dmsearch/dmsearchView_12.js","requires":["node-base","node-event-delegate","attribute-base","event-base","minty_module_list_view_ad_search"]},"mail-ui-emptyFolderController":{"path":"mail/ui/msearch/emptyFolder/emptyFolderController_12.js","requires":["mail-ui-emptyFolderView"]},"mail-ui-emptyFolderView":{"path":"mail/ui/msearch/emptyFolder/emptyFolderView_12.js","requires":["common-utils","_shared_module_folder_empty_rollup","attribute-base","event-base"]},"mail-ui-list-mgr":{"path":"mail/ui/msearch/model/listmgr_12.js"},"mail-ui-mailSearchController":{"path":"mail/ui/msearch/mailSearchController_12.js","requires":["json","mail-ui-basewidget","common-utils","mail-ui-searchutils","mail-ui-search-model","mail-ui-list-mgr"]},"mail-ui-messageaction":{"path":"mail/ui/msearch/model/messageactions_12.js","requires":["mail-controller-messages","mail-controller-messages-ops","common-utils","mail-model-datastore"]},"mail-ui-messagesview-search":{"path":"mail/ui/msearch/messagesviewSearch_12.js","requires":["common-ui-contentwidget","common-ui-toolbar-base","mail-ui-mailview-base","mail-ui-messagepane-base","dom-screen","mail-ui-common-string-utils"]},"mail-ui-search-model":{"path":"mail/ui/msearch/model/msws_12.js","requires":["mail-ui-searchutils","json","rocket-stats","mail-ui-common-string-utils"]},"mail-ui-searchGroupsController":{"path":"mail/ui/msearch/searchGroups/searchGroupsController_12.js","requires":["common-utils","mail-ui-searchGroupsView"]},"mail-ui-searchGroupsView":{"path":"mail/ui/msearch/searchGroups/searchGroupsView_12.js","requires":["common-utils","_shared_module_shell_navigation_search_rollup","mail-ui-common-string-utils"]},"mail-ui-searchListController":{"path":"mail/ui/msearch/searchList/searchListController_12.js","requires":["common-utils","mail-ui-searchListView","mail-ui-listview-controls"]},"mail-ui-searchListView":{"path":"mail/ui/msearch/searchList/searchListView_12.js","requires":["stylesheet","search_css","datatype-date","mail-controller-folders","mail-controller-messages","mail-ui-common-string-utils","attachments_css","mail-ui-attachment-filetype","mail-ui-searchutils"]},"mail-ui-searchbar":{"path":"mail/ui/msearch/searchbar_12.js","requires":["common-utils","node-pluginhost"]},"mail-ui-searchdesc":{"path":"mail/ui/msearch/searchdesc_12.js"},"mail-ui-searchutils":{"path":"mail/ui/msearch/utils/searchUtils_12.js"},"mail-ui-toolbarController":{"path":"mail/ui/msearch/toolbar/toolbarController_12.js","requires":["common-utils","contacts-api","contacts-api-utils"]}});});

YUI.add("mail-modules",function(A){A.use("search-mods",function(C){C.mix(C.namespace("comps"),{"ac-corp-widget":{"path":"contacts/autocomplete/acCorpWidget_12.js","requires":["ac-widget"]},"ac-widget":{"path":"contacts/autocomplete/acWidget_12.js","requires":["overlay","node-event-simulate","comms-ui-autocomplete-plugin","comms-ui-autocomplete","contacts-api-utils","contacts-api","filter-contacts","common-utils","comms-intl-bidihighlight","contacts-smartcontacts-api"]},"calendar-ui-addEvent-controller":{"path":"calendar/ui/addEvent/addEventController_12.js","requires":["event-base","yui-log","attribute","calendar-ui-addEvent-utils","calendar-ui-addEvent-view","calendar-ui-addEvent-model","rocket-stats","mail-controller-compose-text"]},"calendar-ui-addEvent-listener":{"path":"calendar/ui/addEvent/addEventListener_12.js","requires":["yui-log","event-base","calendar-ui-addEvent-controller"]},"calendar-ui-addEvent-model":{"path":"calendar/ui/addEvent/addEventModel_12.js","requires":["yui-log","attribute","calendar-ui-addEvent-utils"]},"calendar-ui-addEvent-utils":{"path":"calendar/ui/addEvent/addEventUtils_12.js","requires":["common-net-sessionmgr","common-utils"]},"calendar-ui-addEvent-view":{"path":"calendar/ui/addEvent/addEventView_12.js","requires":["common-utils","_shared_module_calendar_dialog_add_event_mail_rollup","modal-calendar_css","modal_css","forms_css","comms-ui-dialog-base"]},"calendar-ui-calendarview":{"path":"calendar/ui/calendarview_12.js","requires":["mail-ui-basewidget","node-event-simulate","comms-crossframe"]},"common-adapter-omapi":{"path":"mail/ui/messagepane/api_12.js"},"common-net-crossframe":{"path":"common/net/crossframe_12.js","requires":["common-utils"]},"common-net-diag":{"path":"common/net/diag_12.js","requires":["common-net-session","rocket-stats","common-utils"]},"common-net-error":{"path":"common/net/error_12.js","requires":["common-net-error-base","common-net-errorevent","common-net-sessionmgr","common-ui-dialog-helper","json-stringify","rocket-stats","common-persist-user-data"]},"common-net-error-base":{"path":"common/net/error-base_12.js","requires":["common-utils","common-user-session"]},"common-net-errorevent":{"path":"common/net/errorevent_12.js"},"common-net-securecascade":{"path":"common/net/securecascade_12.js","requires":["common-net-crossframe","json","common-net-session"]},"common-net-session":{"path":"common/net/session_12.js","requires":["event-custom","common-utils"]},"common-net-sessionflash":{"path":"common/net/sessionflash_12.js","requires":["json","event-custom","common-utils","io-xdr"]},"common-net-sessionmgr":{"path":"common/net/sessionmgr_12.js","requires":["event-custom-base","common-net-session","common-net-error-base","rocket-stats","json-parse"]},"common-net-sessionxdr":{"path":"common/net/sessionxdr_12.js","requires":["json","common-net-crossframe","event-custom","common-utils"]},"common-persist-cookie-data":{"path":"common/persist/cookieData_12.js","requires":["cookie","attribute","common-persist-neo-data"]},"common-persist-neo-data":{"path":"common/persist/neoData_12.js","requires":["attribute"]},"common-persist-user-data":{"path":"common/persist/userData_12.js","requires":["attribute","mail-net-transport","json","common-utils"]},"common-ui-bidi-textentry":{"path":"mail/ui/mailpane/quickreply/lib/bidi/bidi-textentry_12.js","requires":["plugin","event-valuechange","common-ui-intl-bidi","common-ui-node-setdir"]},"common-ui-contentwidget":{"path":"common/ui/contentwidget/contentwidget_12.js","requires":["event-key"]},"common-ui-conv-listview":{"path":"common/ui/listview/conv-listview_12.js","requires":["base-base","node","event-focus"]},"common-ui-conv-listview-ext":{"path":"common/ui/listview/conv-listview-ext_12.js","requires":["common-ui-conv-listview","transition","common-ui-notification"]},"common-ui-dd":{"path":"common/ui/dd/dd_12.js","requires":["node","common-utils"]},"common-ui-diagpanel":{"path":"common/ui/contentwidget/diagpanel_12.js","requires":["common-utils"]},"common-ui-dialog-helper":{"path":"common/ui/dialoghelper/dialoghelper_12.js","requires":["common-utils","modal_css","comms-ui-dialog-base","_shared_module_offscreen_bin_modal","_shared_module_offscreen_bin_modal_btn_ok"]},"common-ui-editor-autobidi":{"path":"mail/ui/mailpane/quickreply/lib/bidi/editor-autobidi_12.js","requires":["editor-base","common-ui-intl-bidi"]},"common-ui-intl-bidi":{"path":"mail/ui/mailpane/quickreply/lib/bidi/intl-bidi_12.js"},"common-ui-listview":{"path":"common/ui/listview/listview_12.js","requires":["base-base","node","event-focus"]},"common-ui-listview-ext":{"path":"common/ui/listview/listview-ext_12.js","requires":["common-ui-listview"]},"common-ui-lozengeDD":{"path":"common/ui/lozenge/lozenge-DD_12.js","requires":["common-ui-dd","common-utils"]},"common-ui-menu-helper":{"path":"common/ui/menuhelper/menuhelper_12.js","requires":["common-utils","menus_css","comms-ui-menu-base","_shared_module_offscreen_bin_menus_loading"]},"common-ui-node-setdir":{"path":"mail/ui/mailpane/quickreply/lib/bidi/node-setdir_12.js","requires":["classnamemanager","node-base","node-style"]},"common-ui-notification":{"path":"common/ui/notifications/notification_12.js","requires":["common-utils"]},"common-ui-tabs-base":{"path":"common/ui/tabview/tabview_12.js","requires":["mail-ui-basewidget","minty_module_tabs_tab_removable","comms-ui-nodefocus-base","common-utils"]},"common-ui-tabs-overflow":{"path":"common/ui/tabview/taboverflow_12.js","requires":["common-ui-menu-helper","_shared_module_offscreen_bin_inbox"]},"common-ui-toolbar-base":{"path":"common/ui/toolbar/toolbar_12.js","requires":["attribute","event-custom-base","common-utils","comms-ui-nodefocus-base"]},"common-ui-virtuallist-base":{"path":"common/ui/virtuallist/virtuallist_12.js","requires":["common-utils"]},"common-user-session":{"path":"common/user/session_12.js","requires":["common-persist-cookie-data","common-utils"]},"common-utils":{"path":"common/utils/utils_12.js","requires":["querystring-parse-simple","querystring-stringify-simple"]},"common-utils-apihook":{"path":"common/utils/apihook_12.js","requires":["common-utils","rocket-stats"]},"common-utils-error":{"path":"common/utils/error_12.js","requires":["comms-log4js","comms-utils-stack-tracer","info-collector"]},"common-utils-jp":{"path":"common/utils/utils-jp_12.js"},"common-utils-stats":{"path":"common/utils/stats_12.js","requires":["rocket-stats"]},"comms-aop-tracer":{"path":"comms/shared/src/aop/aspects/tracer_12.js","requires":["comms-log4js","comms-log4js-appenders-traceconsole"]},"comms-aop-weaver":{"path":"comms/shared/src/aop/weaver_12.js"},"comms-bidi-textentry":{"path":"comms/shared/src/bidi-textentry/js/bidi-textentry_12.js","requires":["plugin","event-valuechange","comms-intl-bidi","comms-node-setdir"]},"comms-crossframe":{"path":"comms/shared/src/crossframe/crossframe_12.js","requires":["json","crossframe"]},"comms-editor-autobidi":{"path":"comms/shared/src/editor-autobidi/js/editor-autobidi_12.js","requires":["editor-base","comms-intl-bidi"]},"comms-intl-bidi":{"path":"comms/shared/src/intl-bidi/js/intl-bidi_12.js"},"comms-intl-bidihighlight":{"path":"comms/shared/src/intl-bidihighlight/js/intl-bidihighlight_12.js"},"comms-log4js":{"path":"comms/shared/src/log4js/log4js_12.js"},"comms-log4js-appenders-console":{"path":"comms/shared/src/log4js/console_12.js","requires":["comms-log4js"]},"comms-log4js-appenders-traceconsole":{"path":"comms/shared/src/log4js/traceconsole_12.js","requires":["comms-log4js"]},"comms-lozenge":{"path":"comms/shared/src/lozenge/js/lozenge_12.js","requires":["node","widget","substitute","comms-utils"]},"comms-lozenge-address":{"path":"comms/shared/src/lozenge-address/js/lozenge-address_12.js","requires":["base-build","comms-lozenge"]},"comms-lozenge-edit":{"path":"comms/shared/src/lozenge-edit/js/lozenge-edit_12.js","requires":["base-build","comms-lozenge"]},"comms-node-setdir":{"path":"comms/shared/src/node-setdir/js/node-setdir_12.js","requires":["classnamemanager","node-base","node-style"]},"comms-ui-autocomplete":{"path":"comms/shared/src/autocomplete/js/autocomplete-widget_12.js","requires":["overlay","comms-ui-autocomplete-plugin","node-event-simulate"]},"comms-ui-autocomplete-plugin":{"path":"comms/shared/src/autocomplete/js/autocomplete-plugin_12.js","requires":["node","plugin","event-valuechange","event-key"]},"comms-ui-clipboard-plugin":{"path":"comms/shared/src/clipboard/js/clipboard-plugin_12.js","requires":["node","plugin","substitute"]},"comms-ui-dialog-base":{"path":"comms/shared/src/ui/dialog/js/dialog_12.js","requires":["overlay"]},"comms-ui-editable-overlay-plugin":{"path":"comms/shared/src/editable/js/editable-overlay-plugin_12.js","requires":["comms-ui-editable-plugin","comms-utils"]},"comms-ui-editable-plugin":{"path":"comms/shared/src/editable/js/editable-plugin_12.js","requires":["node","plugin"]},"comms-ui-feedback-widget":{"path":"comms/shared/src/feedback/js/feedback-widget_12.js","requires":["node","widget","widget-position","widget-position-constrain","widget-stack"]},"comms-ui-lozenge":{"path":"comms/shared/src/lozengeOld/js/hLozenge_12.js","requires":["comms-ui-lozenge_css","common-utils","comms-utils","node"]},"comms-ui-menu-base":{"path":"comms/shared/src/ui/menu/js/menu_12.js"},"comms-ui-model":{"path":"comms/shared/src/ui/model/js/model_12.js","requires":["json"]},"comms-ui-nodefocus":{"path":"comms/shared/src/ui/nodefocus/js/nodefocus_12.js","requires":["plugin","node","event-key"]},"comms-ui-nodefocus-base":{"path":"comms/shared/src/ui/nodefocus/js/base_12.js","requires":["plugin","node","event-key"]},"comms-ui-store-javascript":{"path":"comms/shared/src/ui/model/js/stores/javascript-store_12.js","requires":["comms-ui-model","json"]},"comms-ui-tooltips-widget":{"path":"comms/shared/src/tooltips/js/tooltips-widget_12.js","requires":["node","widget","widget-position","widget-position-constrain","widget-stack","event-mouseenter"]},"comms-utils":{"path":"comms/shared/src/utils/js/utils_12.js"},"comms-utils-stack-tracer":{"path":"comms/shared/src/utils/js/stack-tracer_12.js"},"contacts-api":{"path":"comms/shared/src/contacts-api/api_12.js","requires":["contacts-api-adapter","contacts-api-config","contacts-api-cache","contacts-api-utils"]},"contacts-api-adapter":{"path":"comms/shared/src/contacts-api/api-adapter_12.js","requires":["contacts-api-io","contacts-api-cache","contacts-api-urigenerator","contacts-api-config","json","common-utils","rocket-stats"]},"contacts-api-cache":{"path":"comms/shared/src/contacts-api/api-cache_12.js","requires":["contacts-api-config","common-utils-stats"]},"contacts-api-config":{"path":"comms/shared/src/contacts-api/api-config_12.js","requires":["attribute"]},"contacts-api-io":{"path":"comms/shared/src/contacts-api/io_12.js","requires":["contacts-api-urigenerator","json"]},"contacts-api-urigenerator":{"path":"comms/shared/src/contacts-api/urigenerator_12.js","requires":["contacts-api-utils"]},"contacts-api-utils":{"path":"comms/shared/src/contacts-api/api-utils_12.js","requires":["contacts-api-cache","common-utils-stats"]},"contacts-smartcontacts-api":{"path":"contacts/autocomplete/smartcontacts-api_12.js","requires":["io-base"]},"contacts-ui-addcontact-add":{"path":"comms/shared/src/addContact/js/addcontactdialogadd_12.js","requires":["node-event-simulate","common-utils","_shared_module_offscreen_bin_contacts_modal_kiosk_add_modal_kiosk_addcontact"]},"contacts-ui-addcontact-confirm":{"path":"comms/shared/src/addContact/js/addcontactconfirm_12.js","requires":["common-utils","_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontactconfirm_bd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontactconfirm_ft","_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontactconfirm_hd","_shared_module_contact_card_confirm","_shared_module_contact_fragments_dl_email","_shared_module_contact_fragments_dl_yim","_shared_module_contact_fragments_dl_mobile","_shared_module_contact_fragments_photo","mod-contact-card_css"]},"contacts-ui-addcontact-controller":{"path":"comms/shared/src/addContact/js/add-contact-controller_12.js","requires":["array-extras","comms-ui-dialog-base","contacts-api","contacts-ui-addcontact-add","contacts-ui-addcontact-confirm","profile-api","profile-api-config"]},"contacts-ui-addcontactdialog":{"path":"comms/shared/src/addContact/js/addcontactdialog_12.js","requires":["array-extras","comms-ui-dialog-base","contacts-api","contacts-ui-addcontact-add","contacts-ui-addcontact-confirm","modal_css","forms_css","comms-utils"]},"contacts-ui-choosecontactdialog":{"path":"contacts/ui/choosecontactdialog/choosecontactdialog_12.js","requires":["async-queue","node-event-simulate","comms-ui-dialog-base","common-utils","contacts-api-utils","contacts-api-config","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_modal_kiosk_choosecontact","modal_css","modal-fresh_css","mod-contacts_css","mod-contact-chooser_css","comms-intl-bidi"]},"contacts-ui-contact-popup":{"path":"contacts/ui/contactpopup/contact-popup_12.js","requires":["overlay","common-utils","contacts-api-utils","mail-ui-messagepane-utils","mod-contact-card_css","_shared_module_contact_card_email_rollup","comms-utils","swfdetect","mail-common-hidef-profiles","common-ui-menu-helper","_shared_module_offscreen_bin_contacts_menu_contact_compact_compose","_shared_module_offscreen_bin_contacts_menu_contact_compact_compose_fresh","_shared_module_offscreen_bin_contacts_menu_contact_compact_fresh"]},"contacts-ui-contactsevents":{"path":"contacts/ui/contactseventstranslator/contactsEvents_12.js"},"contacts-ui-contactseventstranslator":{"path":"contacts/ui/contactseventstranslator/contactsEventsTranslator_12.js","requires":["contacts-ui-contactsevents","contacts-ui-contactsview"]},"contacts-ui-contactsview":{"path":"contacts/ui/contactsview/contactsview_12.js","requires":["mail-ui-basewidget","node-event-simulate"]},"contacts-ui-createlistdialog":{"path":"comms/shared/src/createList/js/createlistdialog_12.js","requires":["common-ui-listview","array-extras","comms-ui-dialog-base","contacts-api","contacts-api-utils","contacts-ui-createlistdialog-view","contacts-ui-createlistdialog-confirm","modal_css","forms_css"]},"contacts-ui-createlistdialog-confirm":{"path":"comms/shared/src/createList/js/createlistconfirm_12.js","requires":["node-event-simulate","common-utils","template-renderer","comms-intl-bidi"]},"contacts-ui-createlistdialog-view":{"path":"comms/shared/src/createList/js/createlistview_12.js","requires":["node-event-simulate","common-utils","mu__shared_module_offscreen_bin_contacts_modal_kiosk_add_list_modal_kiosk_addlist","template-renderer","comms-bidi-textentry"]},"crossframe":{"path":"comms/shared/src/crossframe/crossframe-base_12.js"},"filter-contacts":{"path":"contacts/autocomplete/filtercontacts_12.js","requires":["contacts-api-utils","contacts-api"]},"gx-ui-galaxyview-base":{"path":"galaxy/ui/galaxyview/galaxyview_12.js","requires":["mail-ui-basewidget"]},"gx-ui-updates-base":{"path":"galaxy/ui/updates/updates_12.js","requires":["common-utils","common-ui-toolbar-base","minty_module_shell_navigation_updates_rollup","minty_module_toolbar_updates","mail-ui-basewidget","rocket-stats","gx_utils"]},"gx-ui-updates-videoRenderer":{"path":"galaxy/ui/videoRenderer/videoRenderer_12.js","requires":["node","gx_utils"]},"gx_YOS":{"path":"galaxy/ui/YOS/gx_YOS_12.js","requires":["gx_utils","json"]},"gx_bootstrap":{"path":"galaxy/ui/bootstrap/bootstrap_12.js","requires":["node-base"]},"gx_cue":{"path":"galaxy/ui/cue/gx_cue_12.js","requires":["node","event","anim","gx_utils","ult_wrapper"]},"gx_cue_mini_nux":{"path":"galaxy/ui/cue/gx_cue_mini_nux_12.js","requires":["node","event","anim","gx_utils","ult_wrapper"]},"gx_messages":{"path":"galaxy/ui/messages/gx_messages_12.js","requires":["node","gx_utils","json-parse","ult_wrapper","rocket-stats"]},"gx_news":{"path":"galaxy/ui/news/gx_news_12.js","requires":["node","anim","json","gx_utils","rocket-stats"]},"gx_profiledata":{"path":"galaxy/ui/profiledata/gx_profiledata_12.js","requires":["node","json","gx_utils"]},"gx_status":{"path":"galaxy/ui/sharebox/gx_status_12.js","requires":["node","event","anim","json","gx_utils","ult_wrapper","comms-ui-menu-base","common-ui-menu-helper","comms-bidi-textentry"]},"gx_utils":{"path":"galaxy/ui/utils/gx_utils_12.js","requires":["node","common-net-sessionmgr"]},"info-collector":{"path":"mail/debug/info-collector_12.js","requires":["io"]},"launch-utils":{"path":"common/launch/utils_12.js","requires":["comms-log4js"]},"mail-common-cachewarmer":{"path":"mail/common/cachewarmer_12.js","requires":["async-queue","loader","common-net-session","mail-controller-messages"]},"mail-common-downloader-v1":{"path":"mail/common/downloader_v1_12.js","requires":["common-utils","mail-controller-messages","_shared_module_offscreen_bin_modal_attach_download_rollup","common-ui-dialog-helper","comms-ui-dialog-base","rocket-stats"]},"mail-common-downloader-v2":{"path":"mail/common/downloader_v2_12.js","requires":["common-utils","mail-controller-messages","common-ui-dialog-helper","comms-ui-dialog-base","rocket-stats","datatype"]},"mail-common-hidef-profiles":{"path":"mail/common/hidef_profiles_12.js","requires":["common-net-session"]},"mail-common-inline-edit":{"path":"mail/common/edit-control_12.js"},"mail-common-lowbandwidth":{"path":"mail/common/lowbandwidth_12.js","requires":["node","rocket-stats"]},"mail-common-pixiedust":{"path":"mail/common/pixiedust_12.js"},"mail-common-precache-ranking":{"path":"mail/common/precache-ranking_12.js","requires":["mail-ui-messagelist-base"]},"mail-common-precache-unread":{"path":"mail/common/precache-unread_12.js","requires":["mail-ui-messagelist-base"]},"mail-common-tracker":{"path":"mail/common/tracker_12.js","requires":["ult-tracker"]},"mail-common-yml":{"path":"mail/common/yml_12.js"},"mail-controller-base":{"path":"mail/controller/base_12.js","requires":["mail-net-transport","common-net-error-base","common-utils-apihook","rocket-stats"]},"mail-controller-compose":{"path":"mail/controller/composectrl_12.js","requires":["mail-controller-base","mail-model-compose","common-persist-user-data","mail-persist-meta-data","mail-ui-common-fonts","_shared_module_compose_reply"]},"mail-controller-compose-text":{"path":"mail/controller/composetext_12.js","requires":["common-persist-user-data","mail-controller-compose"]},"mail-controller-conversations":{"path":"mail/controller/conversation_12.js","requires":["launch-utils","rocket-stats","mail-controller-base","mail-controller-folders","common-persist-user-data","mail-model-convstore","mail-model-datastore"]},"mail-controller-conversations-ops":{"path":"mail/controller/conversationsops_12.js","requires":["rocket-stats","mail-controller-base","mail-model-convstore","json-stringify"]},"mail-controller-folders":{"path":"mail/controller/folders_12.js","requires":["rocket-stats","mail-model-datastore","mail-controller-base","common-persist-user-data"]},"mail-controller-messages":{"path":"mail/controller/messages_12.js","requires":["launch-utils","rocket-stats","mail-controller-base","mail-controller-folders","common-persist-user-data"]},"mail-controller-messages-ops":{"path":"mail/controller/messagesops_12.js","requires":["rocket-stats","mail-controller-base","mail-model-datastore","json-stringify"]},"mail-controller-mrd":{"path":"mail/controller/mrd_12.js","requires":["common-utils","mail-ui-shortcuts"]},"mail-controller-processbody":{"path":"mail/controller/processbody_12.js","requires":["common-utils","common-utils-stats"]},"mail-controller-sendconfirm":{"path":"mail/controller/sendconfirm_12.js","requires":["mail-controller-base","mail-model-send","contacts-api-utils","contacts-api","mail-controller-messages-ops","rocket-stats","common-utils-stats"]},"mail-controller-spellcheck":{"path":"mail/controller/spellcheck_12.js","requires":["mail-controller-base","mail-model-compose","common-net-sessionmgr","common-persist-user-data","json-parse"]},"mail-controller-tictacs":{"path":"mail/controller/tictacs_12.js"},"mail-debug":{"path":"mail/debug/debug_12.js","requires":["comms-log4js","comms-log4js-appenders-console","info-collector","common-net-diag","_shared_module_offscreen_bin_menus_debug"]},"mail-error":{"path":"mail/controller/error_12.js","requires":["common-net-error","mail-errormap","rocket-stats","json-stringify","_shared_module_offscreen_bin_modal_launch_error_rollup"]},"mail-errormap":{"path":"mail/controller/errormap_12.js","requires":["json-stringify","common-net-error"]},"mail-model-compose":{"path":"mail/model/composemodel_12.js","requires":["base","common-persist-user-data"]},"mail-model-convstore":{"path":"mail/model/convstore_12.js","requires":["common-utils"]},"mail-model-datastore":{"path":"mail/model/datastore_12.js","requires":["common-utils","json-stringify"]},"mail-model-send":{"path":"mail/model/sendmodel_12.js","requires":["base"]},"mail-net-ETP":{"path":"mail/net/etp_12.js"},"mail-net-diag":{"path":"mail/net/diag_12.js","requires":["common-net-diag","json-stringify","json-parse"]},"mail-net-queue":{"path":"mail/net/queue_12.js","requires":["mail-net-transport"]},"mail-net-transport":{"path":"mail/net/transport_12.js","requires":["common-net-sessionmgr","json-stringify","common-persist-neo-data"]},"mail-persist-meta-data":{"path":"mail/persist/metaData_12.js","requires":["attribute","mail-net-transport"]},"mail-persist-user-preferences":{"path":"mail/persist/userPreferences_12.js","requires":["attribute","mail-net-transport","json"]},"mail-service-uploader-form":{"path":"mail/common/uploader_form_12.js"},"mail-service-uploader-utils":{"path":"mail/common/uploader-utils_12.js","requires":["common-utils-stats","common-net-sessionmgr"]},"mail-service-uploader-v1":{"path":"mail/common/uploader_12.js","requires":["_shared_module_compose","mail-controller-compose","mail-model-compose","rocket-stats","common-utils","swfdetect","mail-service-uploader-utils"]},"mail-service-uploader-yui":{"path":"mail/common/uploader_yui_12.js","requires":["mail-service-uploader-v1","uploader-deprecated","event","event-base"]},"mail-track":{"path":"common/utils/track_12.js"},"mail-tt-attcomposer":{"path":"mail/ui/mailcompose/message/attcomposer_12.js","requires":["tictac-attach-main","common-utils-stats"]},"mail-ui-accordion-base-jp":{"path":"mail/ui/accordion/accordion-jp_12.js","requires":["mail-modules","mail-templates","anim","common-utils-error","minty_module_jp_accordion_title"]},"mail-ui-accounts":{"path":"mail/ui/accounts/accounts_12.js","requires":["common-utils","common-persist-user-data"]},"mail-ui-actions-marker":{"path":"mail/ui/actions/marker_12.js","requires":["event","comms-aop-tracer"]},"mail-ui-ad-upsell-dialog":{"path":"mail/ui/darla/adUpsellDialog_12.js","requires":["mail-persist-meta-data","common-utils","comms-ui-dialog-base","_shared_module_offscreen_bin_modal_upsell_rollup","modal_css"]},"mail-ui-attachment-filetype":{"path":"mail/ui/attachments/filetype_12.js"},"mail-ui-authorview-base":{"path":"mail/ui/composeview/authorview_12.js","requires":["mail-controller-base","mail-controller-compose","mail-ui-fullcompose","_shared_module_compose_title","_shared_module_offscreen_bin_notification_notifications"]},"mail-ui-basewidget":{"path":"mail/ui/basewidget/basewidget_12.js","requires":["common-ui-contentwidget","mail-ui-navkeys"]},"mail-ui-button-ctxt":{"path":"mail/ui/buttonctxt/buttonctxt_12.js","requires":["common-ui-toolbar-base"]},"mail-ui-captcha-controller":{"path":"mail/ui/captcha/controller_12.js","requires":["common-utils","captcha_css","comms-ui-dialog-base","common-ui-dialog-helper","mail-ui-captcha-view"]},"mail-ui-captcha-view":{"path":"mail/ui/captcha/view_12.js","requires":["captcha_css","_shared_module_send_confirm_captcha","_shared_module_send_confirm_captcha_blocked"]},"mail-ui-common-calendar-jp":{"path":"mail/ui/common/calendar-jp_12.js","requires":["common-utils","common-net-sessionmgr","comms-ui-dialog-base"]},"mail-ui-common-fonts":{"path":"mail/ui/common/fonts_12.js","requires":["mail-persist-meta-data"]},"mail-ui-common-string-utils":{"path":"mail/ui/common/stringUtils_12.js","requires":["common-utils"]},"mail-ui-composeview-attach":{"path":"mail/ui/composeview/compose-attach_12.js","requires":["rocket-stats","swfdetect","mail-service-uploader-utils"]},"mail-ui-composeview-spellcheck":{"path":"mail/ui/composeview/compose-spellcheck_12.js","requires":["node","plugin","mail-controller-compose","mail-controller-spellcheck","menus_css","comms-ui-menu-base","common-ui-menu-helper","_shared_module_offscreen_bin_compose_menu_spell_langs"]},"mail-ui-conv-maillist":{"path":"mail/ui/maillist/conv/conv-maillist_12.js","requires":["common-ui-contentwidget","mail-controller-folders","common-persist-user-data","mail-ui-common-string-utils","mail-ui-accounts","mail-model-datastore","rocket-stats"]},"mail-ui-conv-maillist-model":{"path":"mail/ui/maillist/conv/conv-maillistmodel_12.js","requires":["common-ui-conv-listview"]},"mail-ui-conv-maillist-view":{"path":"mail/ui/maillist/conv/conv-maillistview_12.js","requires":["common-ui-conv-listview"]},"mail-ui-convcompose-header":{"path":"mail/ui/mailcompose/conv/convcompose-header_12.js","requires":["mail-ui-mailcompose-base-header"]},"mail-ui-convevents":{"path":"mail/ui/mailview/conv/convevents_12.js","requires":["mail-controller-conversations","mail-controller-conversations-ops","mail-model-convstore","mail-ui-mailevents"]},"mail-ui-convlist-base":{"path":"mail/ui/maillist/conv/convlist_12.js","requires":["mail-ui-conv-maillist","mail-ui-conv-maillist-model","mail-ui-conv-maillist-view","mail-controller-conversations","mail-ui-listview-controls","transition"]},"mail-ui-convlist-base-old":{"path":"mail/ui/maillist/conv/convlist-old_12.js","requires":["mail-ui-maillist","mail-ui-maillist-model","mail-ui-maillist-view","mail-controller-conversations","mail-ui-listview-controls"]},"mail-ui-convpane-base":{"path":"mail/ui/mailpane/conv/convpane_12.js","requires":["_shared_module_thread_thread_pane","minty_module_comm_modes","common-utils","mail-model-datastore","mail-controller-messages","mail-controller-conversations","mail-ui-mailpane-base","mail-persist-meta-data","common-utils-stats","mail-ui-messagepane-utils","mail-model-convstore"]},"mail-ui-convpane-bind":{"path":"mail/ui/mailpane/conv/bind_12.js"},"mail-ui-convpane-error":{"path":"mail/ui/mailpane/conv/error_12.js","requires":["common-utils","_shared_module_thread_thread_display_rollup","mail-ui-pane-utils"]},"mail-ui-convpane-profiles":{"path":"mail/ui/mailpane/conv/convpaneprofiles_12.js","requires":["mail-ui-messagepane-base","mail-ui-messagepane-read","common-net-session","common-utils-stats","_shared_module_updates_ycw","mail-common-hidef-profiles","mail-ui-profileutils"]},"mail-ui-convpane-read":{"path":"mail/ui/mailpane/conv/convpaneread_12.js","requires":["common-persist-user-data","mail-persist-meta-data","mail-ui-convpane-base","mail-ui-messagepane-warnings","_shared_module_thread_thread_display_rollup","mail-ui-mailpane-read","contacts-api","contacts-api-utils","common-utils-stats","mail-ui-messagepane-utils","attachments_css","mod-conversation-history_css","mail-ui-attachment-filetype","mail-ui-common-fonts","common-ui-tabs-base","mail-ui-pane-utils","transition"]},"mail-ui-convview-base":{"path":"mail/ui/mailview/conv/convview_12.js","requires":["common-ui-contentwidget","common-ui-toolbar-base","mail-ui-mailview-base","mail-ui-convlist-base","mail-ui-messagepane-base","mail-ui-convpane-base","minty_module_toolbar_inbox_default_thread_rollup","dom-screen","mail-ui-common-string-utils"]},"mail-ui-darla":{"path":"mail/ui/darla/neodarla_12.js","requires":["node-base","darla-base","rocket-stats","common-utils","minty_module_afc_afc","minty_module_amazon_amzn_sky","minty_module_amazon_amzn_rec"]},"mail-ui-factory-base":{"path":"mail/ui/factory/factory_12.js"},"mail-ui-folderevents":{"path":"mail/ui/foldersview/folderevents_12.js","requires":["common-utils","mail-controller-folders","common-ui-dialog-helper","comms-bidi-textentry"]},"mail-ui-foldersview-base":{"path":"mail/ui/foldersview/foldersview_12.js","requires":["common-utils","rocket-stats","mail-controller-folders","attribute","node","mail-persist-meta-data","common-persist-user-data","mail-ui-accounts"]},"mail-ui-foldersview-bind":{"path":"mail/ui/foldersview/bind_12.js"},"mail-ui-fullcompose":{"path":"mail/ui/mailcompose/message/composeview_12.js","requires":["mail-ui-mailcompose","mail-ui-rteview","mail-ui-messagepane-utils","forms_css","rte_css","attachments_css","mod-stationery_css","mod-compose_css","mail-ui-composeview-attach","editor-base","editor-para","editor-br","node","stylesheet","mail-controller-compose-text","mail-model-compose","contacts-api-utils","contacts-api","filter-contacts","plugin","comms-bidi-textentry","comms-editor-autobidi","comms-intl-bidi","editor-bidi","_shared_module_compose","_shared_module_toolbar_compose","_shared_module_compose_loading","_shared_module_offscreen_bin_compose","_shared_module_offscreen_bin_compose_menu_spellcheck","_shared_module_offscreen_bin_compose_modal_cancel_compose","_shared_module_rte_well_content_format","_shared_module_rte_well_content_emoticons","_shared_module_rte_well_content_attachments","_shared_module_rte_well_tabs_compose","common-ui-toolbar-base","_shared_module_offscreen_bin_compose_menu_list","_shared_module_offscreen_bin_compose_menu_text_align"]},"mail-ui-fullcompose-fresh":{"path":"mail/ui/mailcompose/message/composeview-fresh_12.js","requires":["mail-ui-mailcompose","mail-ui-rteview","mail-ui-messagepane-utils","forms_css","rte_css","attachments_css","attachments-fresh_css","rte-fresh_css","mod-stationery_css","mod-compose_css","mod-compose-fresh_css","mail-ui-composeview-attach","editor-base","editor-para","editor-br","node","stylesheet","mail-controller-compose-text","mail-model-compose","contacts-api-utils","contacts-api","filter-contacts","plugin","comms-bidi-textentry","comms-editor-autobidi","comms-intl-bidi","editor-bidi","_shared_module_compose","_shared_module_compose_fresh","_shared_module_toolbar_compose_fresh","_shared_module_compose_loading","_shared_module_offscreen_bin_compose","_shared_module_offscreen_bin_compose_menu_spellcheck","_shared_module_offscreen_bin_compose_modal_cancel_compose","_shared_module_rte_well_content_format_fresh","_shared_module_rte_well_content_emoticons_fresh","_shared_module_rte_well_content_fontname_fresh","_shared_module_rte_well_content_fontsize_fresh","_shared_module_rte_well_content_attachments_fresh","_shared_module_rte_well_tabs_compose_fresh","common-ui-toolbar-base","common-ui-menu-helper","_shared_module_offscreen_bin_compose_menu_list","_shared_module_offscreen_bin_compose_menu_text_align"]},"mail-ui-fullcompose-well":{"path":"mail/ui/mailcompose/message/composeview-well_12.js","requires":["_shared_module_compose","_shared_module_toolbar_compose","_shared_module_compose_loading","_shared_module_offscreen_bin_compose","_shared_module_offscreen_bin_compose_menu_spellcheck","_shared_module_offscreen_bin_compose_modal_cancel_compose","_shared_module_rte_well_content_format","_shared_module_rte_well_content_emoticons","_shared_module_rte_well_content_attachments","_shared_module_rte_well_tabs_compose","common-ui-toolbar-base","_shared_module_offscreen_bin_compose_menu_list","_shared_module_offscreen_bin_compose_menu_text_align"]},"mail-ui-header":{"path":"mail/ui/header/header_12.js","requires":["mail-ui-header-base","mail-ui-header-utils","common-utils","common-persist-user-data"]},"mail-ui-header-base":{"path":"mail/ui/header/header_base_12.js"},"mail-ui-header-roughseas":{"path":"mail/ui/header/header-roughseas_12.js","requires":["common-utils"]},"mail-ui-header-utils":{"path":"mail/ui/header/headerUtils_12.js","requires":["common-utils","common-persist-user-data"]},"mail-ui-inboxmenu-base":{"path":"mail/ui/inboxmenu/inboxmenu_12.js","requires":["common-utils","menus_css"]},"mail-ui-inlinecompose":{"path":"mail/ui/mailcompose/conv/convcompose_12.js","requires":["mail-ui-convcompose-header","mail-ui-mailcompose","widget","mail-service-uploader-v1","mail-ui-composeview-attach","editor","editor-para","editor-br","_shared_module_send_confirm_captcha","rte_css","mod-compose_css","mail-service-uploader-form"]},"mail-ui-leftcolumn-contactmenu-base-jp":{"path":"mail/ui/inboxmenu/leftcolumn-contactmenu-jp_12.js","requires":["mail-modules","mail-templates","common-utils","menus_css","common-ui-menu-helper","contacts-api-utils","_shared_module_offscreen_bin_menus_jp_contact"]},"mail-ui-listview-controls":{"path":"mail/ui/maillist/base/listview-controls_12.js"},"mail-ui-mailcompose":{"path":"mail/ui/mailcompose/base/mailcompose_12.js","requires":["autocomplete_css","common-persist-user-data","mail-persist-meta-data","_shared_module_compose_message_header","mail-controller-compose","_shared_module_compose_message_header_fresh","mail-ui-mailcompose-base-header","rocket-stats","comms-utils","mail-ui-basewidget"]},"mail-ui-mailcompose-base-header":{"path":"mail/ui/mailcompose/base/mailcompose-header_12.js","requires":["comms-ui-lozenge","ac-widget","_shared_module_offscreen_bin_compose","mail-controller-compose","mail-controller-compose-text","contacts-api","_shared_module_compose_message_header","_shared_module_compose_message_header_fresh","mail-ui-basewidget"]},"mail-ui-mailevents":{"path":"mail/ui/mailview/base/mailevents_12.js","requires":["mail-controller-messages","mail-controller-messages-ops","common-utils","common-ui-tabs-base","mail-model-datastore","comms-utils"]},"mail-ui-maillist":{"path":"mail/ui/maillist/base/maillist_12.js","requires":["common-ui-contentwidget","mail-controller-folders","common-persist-user-data","mail-ui-common-string-utils","mail-ui-accounts","mail-model-datastore","rocket-stats"]},"mail-ui-maillist-listview":{"path":"mail/ui/maillist/base/maillist-listview_12.js","requires":["mail-ui-messagelist-base"]},"mail-ui-maillist-model":{"path":"mail/ui/maillist/base/maillistmodel_12.js","requires":["common-ui-listview"]},"mail-ui-maillist-view":{"path":"mail/ui/maillist/base/maillistview_12.js","requires":["common-ui-listview"]},"mail-ui-mailmarkup-base":{"path":"mail/ui/mailview/base/markup_12.js","requires":["node"]},"mail-ui-mailpane-base":{"path":"mail/ui/mailpane/base/mailpane_12.js","requires":["minty_module_comm_modes","common-utils","mail-model-datastore","mail-controller-messages","mail-ui-basewidget","mail-persist-meta-data","common-utils-stats","mail-ui-messagepane-utils"]},"mail-ui-mailpane-next-prev":{"path":"mail/ui/mailpane/base/mailnextprevious_12.js","requires":["mail-ui-common-string-utils","common-utils","common-utils-stats"]},"mail-ui-mailpane-read":{"path":"mail/ui/mailpane/base/mailread_12.js","requires":["mail-ui-common-string-utils","common-utils","common-utils-stats"]},"mail-ui-mailuibind-base":{"path":"mail/ui/mailview/base/uibind_12.js","requires":["node"]},"mail-ui-mailview-base":{"path":"mail/ui/mailview/base/mailview_12.js","requires":["mail-ui-basewidget","common-persist-user-data","mail-ui-messagepane-utils","mail-model-datastore","common-utils","node-event-simulate"]},"mail-ui-message-encodings":{"path":"mail/ui/messagesview/message-encodings_12.js","requires":["common-utils"]},"mail-ui-message-timedalertdialog":{"path":"mail/ui/messagesview/message-timedalertdialogs_12.js","requires":["mail-modules","mail-templates","common-utils","common-ui-dialog-helper"]},"mail-ui-messageevents":{"path":"mail/ui/mailview/message/messageevents_12.js","requires":["mail-controller-messages","mail-controller-messages-ops","mail-model-datastore","mail-ui-mailevents"]},"mail-ui-messagelist-base":{"path":"mail/ui/maillist/message/messagelist_12.js","requires":["mail-ui-maillist","mail-ui-maillist-model","mail-ui-maillist-view","mail-controller-messages","mail-ui-listview-controls","mail-ui-maillist-listview"]},"mail-ui-messagepane-base":{"path":"mail/ui/mailpane/message/messagepane_12.js","requires":["mail-ui-messagepane-plugins","minty_module_comm_modes","common-utils","mail-model-datastore","mail-controller-messages","mail-ui-mailpane-base","mail-persist-meta-data","common-utils-stats","mail-ui-messagepane-utils"]},"mail-ui-messagepane-bind":{"path":"mail/ui/mailpane/message/bind_12.js"},"mail-ui-messagepane-error":{"path":"mail/ui/mailpane/message/error_12.js","requires":["common-utils"]},"mail-ui-messagepane-next-prev":{"path":"mail/ui/mailpane/message/nextprevious_12.js","requires":["mail-ui-common-string-utils","mail-ui-messagepane-base","mail-ui-mailpane-next-prev","mail-model-datastore","mail-controller-messages","common-utils","common-utils-stats"]},"mail-ui-messagepane-plugins":{"path":"mail/ui/mailpane/message/plugins_12.js","requires":["querystring-parse","common-utils"]},"mail-ui-messagepane-quickreply":{"path":"mail/ui/mailpane/quickreply/app/quickreply_12.js","requires":["json","qr-lib-omapi","qr-client-facebook","qr-client-mail","qr-client-twitter","qr-client-groups","qr-lib-utils","qr-view","node"]},"mail-ui-messagepane-read":{"path":"mail/ui/mailpane/message/messagepaneread_12.js","requires":["common-persist-user-data","mail-persist-meta-data","mail-ui-messagepane-warnings","mail-ui-mailpane-read","contacts-api","contacts-api-utils","common-utils-stats","mail-ui-messagepane-utils","attachments_css","mod-conversation-history_css","mail-ui-attachment-filetype","mail-ui-common-fonts","common-ui-tabs-base"]},"mail-ui-messagepane-utils":{"path":"mail/ui/messagepane/utils_12.js","requires":["common-utils-stats","mail-ui-messagepane-utils-shared"]},"mail-ui-messagepane-utils-shared":{"path":"mail/ui/messagepane/shared_12.js"},"mail-ui-messagepane-warnings":{"path":"mail/ui/messagepane/warnings_12.js","requires":["common-utils"]},"mail-ui-messagepreview":{"path":"mail/ui/mailpane/message/preview_12.js","requires":["common-utils","mail-model-datastore","mail-controller-messages","_shared_module_offscreen_bin_modal_preview_rollup"]},"mail-ui-messagesview-base":{"path":"mail/ui/mailview/message/messagesview_12.js","requires":["common-ui-contentwidget","common-ui-toolbar-base","mail-ui-mailview-base","mail-ui-messagelist-base","mail-ui-messagepane-base","minty_module_toolbar_inbox_default_rollup","dom-screen","mail-ui-common-string-utils"]},"mail-ui-messagesview-dd":{"path":"mail/ui/messagesview/messagesview-dd_12.js","requires":["mail-model-datastore","common-utils","node-base","common-ui-dd"]},"mail-ui-messagesview-quickfilter":{"path":"mail/ui/messagesview/quickfilter_12.js","requires":["common-utils","common-persist-user-data","mail-model-datastore","forms_css","_shared_module_offscreen_bin_modal_quick_filters","common-ui-dialog-helper","mail-controller-messages-ops","mail-ui-common-string-utils"]},"mail-ui-messagesview-resize":{"path":"mail/ui/messagesview/messagesview-resize_12.js","requires":["common-persist-cookie-data","stylesheet","node","common-ui-dd","common-persist-user-data"]},"mail-ui-messagesview-vertical":{"path":"mail/ui/messagesview/vertical_12.js","requires":["mail-ui-messagesview-resize"]},"mail-ui-messenger":{"path":"mail/ui/messenger/messenger_12.js","requires":["common-utils","swfdetect"]},"mail-ui-msgpane-profiles":{"path":"mail/ui/mailpane/message/messagepaneprofiles_12.js","requires":["mail-ui-messagepane-base","mail-ui-messagepane-read","common-net-session","common-utils-stats","_shared_module_updates_ycw","mail-common-hidef-profiles","mail-ui-profileutils"]},"mail-ui-navkeys":{"path":"mail/ui/navkeys/navkeys_12.js","requires":["mail-controller-folders"]},"mail-ui-oviheader":{"path":"mail/ui/header/oviheader_12.js","requires":["common-utils","node"]},"mail-ui-pane-utils":{"path":"mail/ui/mailpane/base/paneutils_12.js","requires":["mail-controller-messages","common-utils","mail-persist-meta-data"]},"mail-ui-print":{"path":"mail/ui/print/print_12.js","requires":["mail-controller-messages","_shared_module_offscreen_bin_print_print_rollup"]},"mail-ui-profileutils":{"path":"mail/ui/mailpane/base/profileutils_12.js","requires":["common-net-session","common-utils","common-utils-stats","_shared_module_updates_ycw","mail-common-hidef-profiles"]},"mail-ui-proxyevents":{"path":"mail/ui/mailview/conv/proxyevents_12.js","requires":["mail-ui-mailevents","mail-ui-messageevents","mail-ui-convevents"]},"mail-ui-rteview":{"path":"mail/ui/mailcompose/rte/rteview_12.js","requires":["node-base","node-event-delegate","attribute-base","event-base","mail-ui-basewidget","editor-base","editor-para","editor-br"]},"mail-ui-sendconfirm-capthcaut":{"path":"mail/ui/sendconfirm/captchaut_12.js","requires":["captcha_css"]},"mail-ui-sendconfirmview-base":{"path":"mail/ui/sendconfirm/sendconfirm-base_12.js","requires":["common-utils","_shared_module_send_confirm_rollup","mail-controller-sendconfirm","_shared_module_send_confirm_recipients_rollup","minty_module_toolbar_inbox_sent_msg_rollup","_shared_module_send_confirm_captcha_blocked","comms-lozenge-address","comms-ui-lozenge","mail-ui-searchbar","common-ui-notification","rocket-stats"]},"mail-ui-shortcuts":{"path":"mail/ui/shortcuts/shortcuts_12.js","requires":["common-utils","mail-ui-messagepane-utils"]},"mail-ui-shortcuts-dialog":{"path":"mail/ui/shortcuts/shortcutsdialog_12.js","requires":["common-utils","comms-ui-dialog-base","_shared_module_offscreen_bin_modal_shortcuts_rollup","modal_css"]},"mail-ui-themes":{"path":"mail/ui/themes/themes_12.js","requires":["common-utils","comms-ui-dialog-base","_shared_module_offscreen_bin_modal_colors_rollup","minty_module_static_themes_js","json-parse","modal_css","options-pages_css"]},"mail-ui-themes-jp":{"path":"mail/ui/themes/themes-jp_12.js","requires":["common-utils","comms-ui-dialog-base","_shared_module_offscreen_bin_modal_colors_rollup","modal_css","options-pages_css"]},"mail-ui-workspace-base":{"path":"mail/ui/workspace/workspace_12.js","requires":["event","mail-controller-tictacs","mail-modules","mail-templates","mail-ui-foldersview-base","common-ui-tabs-base","common-ui-toolbar-base","mail-ui-searchbar","gx-ui-galaxyview-base","common-utils-stats","mail-ui-common-string-utils","mail-common-tracker"]},"mail-ui-workspace-ext":{"path":"mail/ui/workspace/workspace-ext_12.js","requires":["mail-ui-workspace-base"]},"mail-ui-workspace-fresh":{"path":"mail/ui/workspace/workspace-fresh_12.js","requires":["mail-ui-workspace-base"]},"mail-ui-workspace-horizontal-slider":{"path":"mail/ui/workspace/workspacehslider_12.js","requires":["node-base","common-persist-cookie-data","common-ui-dd"]},"om-api-appdata":{"path":"om/api/appdata_12.js","requires":["om-common-apiutils"]},"om-api-conv":{"path":"om/api/conv_12.js","requires":["om-controller-openapi","om-common-apiutils","om-common-errors","om-common-constants"]},"om-api-event":{"path":"om/api/event_12.js","requires":["om-common-apiutils"]},"om-api-mail":{"path":"om/api/mail_12.js","requires":["mail-ui-authorview-base","common-ui-dialog-helper","mail-model-send","mail-controller-compose","mail-controller-sendconfirm","_shared_module_send_confirm_captcha","mail-ui-sendconfirm-capthcaut","om-common-apiutils"]},"om-api-menu":{"path":"om/api/menu_12.js","requires":["om-common-apiutils","_shared_module_offscreen_bin_menus_openmail_extension"]},"om-api-message":{"path":"om/api/message_12.js","requires":["om-controller-openapi","om-common-apiutils","om-common-errors","om-common-constants"]},"om-api-neo":{"path":"om/api/neo_12.js","requires":["om-common-apiutils","om-common-errors","om-common-constants"]},"om-api-social":{"path":"om/api/social_12.js","requires":["array-extras","gx_utils","querystring","om-common-net-session","mail-ui-workspace-base","om-common-apiutils","om-common-errors","om-common-constants"]},"om-common-apiutils":{"path":"om/common/utils/apiutils_12.js","requires":["om-common-errors","om-common-constants"]},"om-common-constants":{"path":"om/common/constants/om_public_constants_12.js"},"om-common-errors":{"path":"om/common/constants/om_public_errors_12.js"},"om-common-net-session":{"path":"om/common/net/session_12.js","requires":["event-custom","common-utils","common-net-session","common-net-sessionmgr","om-common-utils"]},"om-common-utils":{"path":"om/common/utils/utils_12.js","requires":["common-utils"]},"om-controller-addremoveapp":{"path":"om/controller/addremoveapp_12.js","requires":["om-controller-base","om-common-utils","common-utils","om-common-net-session","om-model-datastore","om-controller-applicationlist","rocket-stats"]},"om-controller-applicationlist":{"path":"om/controller/applicationlist_12.js","requires":["om-controller-base","om-common-net-session","om-model-datastore","rocket-stats"]},"om-controller-base":{"path":"om/controller/base_12.js"},"om-controller-compose":{"path":"om/controller/compose_12.js","requires":["om-controller-base","om-controller-views","om-ui-composeview","om-controller-compose-events","om-controller-internalapi","rocket-stats","om-common-utils","common-utils-stats"]},"om-controller-compose-events":{"path":"om/controller/compose-events_12.js","requires":["om-common-utils","om-controller-base"]},"om-controller-crossframe":{"path":"om/controller/crossframe_12.js","requires":["om-controller-base","om-common-utils","om-controller-openapi","omCrossframe","rocket-stats"]},"om-controller-internalapi":{"path":"om/controller/internalapi_12.js","requires":["om-controller-base","om-common-utils","om-common-apiutils","om-model-datastore","om-controller-openapi","rocket-stats","om-api-appdata","om-api-menu","om-api-event","om-api-message"]},"om-controller-messageread":{"path":"om/controller/messageread_12.js","requires":["om-controller-base","om-common-utils","async-queue","mail-controller-messages","common-utils-stats"]},"om-controller-openapi":{"path":"om/controller/openapi_12.js","requires":["om-controller-base","om-controller-webservice","om-common-constants","om-common-net-session","om-common-utils","om-model-datastore","om-common-errors","common-net-sessionmgr","common-utils","json","rocket-stats"]},"om-controller-views":{"path":"om/controller/views_12.js","requires":["common-utils","om-controller-base","om-common-utils","om-model-datastore","om-controller-crossframe","om-common-errors","querystring-stringify-simple"]},"om-controller-views-other":{"path":"om/controller/views-other_12.js","requires":["om-controller-views"]},"om-controller-webservice":{"path":"om/controller/webservice_12.js","requires":["om-controller-base","om-model-datastore","om-common-errors","om-common-utils","common-utils","_shared_module_open_mail_webservice_container"]},"om-model-datastore":{"path":"om/model/datastore_12.js","requires":["array-extras","om-common-utils"]},"om-ui-applicationlist-base":{"path":"om/ui/applicationlist/applicationlist_12.js","requires":["common-utils","_shared_module_open_mail_application_list","om-model-datastore","om-controller-applicationlist","om-controller-views","_shared_module_open_mail_application_list_menu","common-persist-cookie-data"]},"om-ui-applicationlistmenu-base":{"path":"om/ui/applicationlist/applicationlistmenu_12.js","requires":["common-utils","_shared_module_open_mail_application_list_menu"]},"om-ui-autosuggest":{"path":"om/ui/autosuggest/autosuggest_12.js","requires":["ac-widget","om-ui-autosuggest-listener"]},"om-ui-autosuggest-listener":{"path":"om/ui/autosuggest/autosuggestListener_12.js"},"om-ui-composeview":{"path":"om/ui/composeview/composeview_12.js","requires":["om-ui-mailcompose-header","mail-ui-fullcompose"]},"om-ui-convpane-base":{"path":"om/ui/mailpane/convpane_12.js","requires":["mail-ui-convpane-base","mail-controller-messages","json-stringify","om-model-datastore","om-controller-messageread","om-controller-views","common-utils-stats","rocket-stats"]},"om-ui-mailcompose-header":{"path":"om/ui/mailcompose-header/mailcompose-header_12.js","requires":["mail-ui-mailcompose-base-header","om-ui-autosuggest","om-ui-autosuggest-listener"]},"om-ui-messagepane-base":{"path":"om/ui/mailpane/messagepane_12.js","requires":["mail-ui-messagepane-base","mail-controller-messages","json-stringify","om-model-datastore","om-controller-messageread","om-controller-views","common-utils-stats","rocket-stats"]},"om-ui-messagepane-sandbox-controller":{"path":"om/ui/mailpane/sandbox/controller_12.js","requires":["mail-ui-messagepane-utils-shared","om-ui-sandbox-utils","om-ui-sandbox-view","om-ui-sandbox-datastore","om-ui-sandbox-messageread"]},"om-ui-sandbox-datastore":{"path":"om/ui/mailpane/sandbox/datastore_12.js","requires":["om-ui-sandbox-view"]},"om-ui-sandbox-messageread":{"path":"om/ui/mailpane/sandbox/messageread_12.js","requires":["om-ui-sandbox-datastore"]},"om-ui-sandbox-utils":{"path":"om/ui/mailpane/sandbox/utils_12.js"},"om-ui-sandbox-view":{"path":"om/ui/mailpane/sandbox/view_12.js","requires":["base-base","mail-ui-messagepane-utils-shared","om-ui-sandbox-utils","om-ui-sandbox-messageread"]},"om-ui-sendconfirm":{"path":"om/ui/sendconfirm/sendconfirm_12.js","requires":["mail-ui-sendconfirmview-base"]},"om-ui-views-alignedoverlay":{"path":"om/ui/views/alignedoverlay/alignedoverlay_12.js","requires":["om-ui-views-simple","_shared_module_open_mail_application_panel"]},"om-ui-views-dialog":{"path":"om/ui/views/dialog/dialog_12.js","requires":["om-ui-views-simple","_shared_module_open_mail_application_dialog"]},"om-ui-views-folderpane":{"path":"om/ui/views/folderpane/folderpane_12.js","requires":["om-ui-views-simple"]},"om-ui-views-hidden":{"path":"om/ui/views/hidden/hidden_12.js","requires":["om-ui-views-simple","_shared_module_open_mail_application_hidden"]},"om-ui-views-lightbox":{"path":"om/ui/views/lightbox/lightbox_12.js","requires":["om-ui-views-simple","_shared_module_open_mail_application_lightbox"]},"om-ui-views-overlay":{"path":"om/ui/views/overlay/overlay_12.js","requires":["om-ui-views-simple","om-common-utils","_shared_module_open_mail_application_overlay"]},"om-ui-views-panel":{"path":"om/ui/views/panel/panel_12.js","requires":["om-ui-views-simple","_shared_module_open_mail_application_panel"]},"om-ui-views-pod":{"path":"om/ui/views/pod/pod_12.js","requires":["om-ui-views-simple","_shared_module_open_mail_application_pod"]},"om-ui-views-simple":{"path":"om/ui/views/simple/simple_12.js","requires":["base-base","node","common-utils","common-utils-stats","_shared_module_open_mail_application_simple"]},"om-ui-views-tab":{"path":"om/ui/views/tab/tab_12.js","requires":["common-utils","_shared_module_open_mail_application_content","om-ui-views-simple"]},"om-ui-workspace-base":{"path":"om/ui/workspace/workspace_12.js","requires":["mail-ui-factory-base","om-model-datastore","om-ui-applicationlist-base","om-ui-messagepane-base"]},"options-ui-mailoptionsview":{"path":"mail/ui/optionsview/optionsview_12.js","requires":["common-ui-contentwidget"]},"profile-api":{"path":"comms/shared/src/profile-api/js/api_12.js","requires":["profile-api-config"]},"profile-api-config":{"path":"comms/shared/src/profile-api/js/api-config_12.js","requires":["attribute"]},"qr-client-base":{"path":"mail/ui/mailpane/quickreply/client/base_12.js","requires":["qr-view","qr-lib-mail","qr-lib-utils"]},"qr-client-facebook":{"path":"mail/ui/mailpane/quickreply/client/facebook_12.js","requires":["qr-client-base"]},"qr-client-groups":{"path":"mail/ui/mailpane/quickreply/client/groups_12.js","requires":["qr-client-base"]},"qr-client-mail":{"path":"mail/ui/mailpane/quickreply/client/mail_12.js","requires":["qr-client-base"]},"qr-client-twitter":{"path":"mail/ui/mailpane/quickreply/client/twitter_12.js","requires":["qr-client-base","qr-lib-omapi","qr-lib-utils","qr-lib-auth","qr-lib-counter"]},"qr-client-twitter-dm":{"path":"mail/ui/mailpane/quickreply/client/twitter-dm_12.js","requires":["qr-client-base","qr-lib-omapi","qr-lib-utils","qr-lib-auth","qr-lib-counter"]},"qr-common-utils":{"path":"mail/ui/mailpane/quickreply/override/utils_12.js"},"qr-lib-auth":{"path":"mail/ui/mailpane/quickreply/lib/auth_12.js","requires":["qr-lib-omapi","qr-lib-utils","json"]},"qr-lib-counter":{"path":"mail/ui/mailpane/quickreply/lib/counter_12.js"},"qr-lib-mail":{"path":"mail/ui/mailpane/quickreply/lib/mail_12.js","requires":["qr-lib-omapi"]},"qr-lib-omapi":{"path":"mail/ui/mailpane/quickreply/lib/omapi_12.js","requires":["common-adapter-omapi"]},"qr-lib-reply":{"path":"mail/ui/mailpane/quickreply/lib/reply_12.js","requires":["qr-lib-textarea-input","event-custom"]},"qr-lib-textarea-input":{"path":"mail/ui/mailpane/quickreply/lib/textinput_12.js","requires":["qr-lib-utils","event-custom"]},"qr-lib-toggler":{"path":"mail/ui/mailpane/quickreply/lib/toggler_12.js","requires":["qr-lib-utils"]},"qr-lib-utils":{"path":"mail/ui/mailpane/quickreply/lib/utils_12.js","requires":["qr-lib-omapi"]},"qr-view":{"path":"mail/ui/mailpane/quickreply/app/view_12.js","requires":["qr-common-utils","qr-lib-reply","qr-lib-toggler","_shared_module_message_quick_reply_wrapper","_shared_module_message_quick_reply","event-delegate","event-focus","event-custom"]},"rocket-stats":{"path":"comms/shared/src/rocketstats/js/src/rocketstats_12.js"},"scrum-board":{"path":"comms/shared/tools/scrumBoard/scrumBoard_12.js","requires":["bugzilla-table","node","json","substitute","dd-ddm-drop","dd-proxy","dd-drop","dd-delegate"]},"searchautocomplete":{"path":"mail/ui/searchautocomplete/searchautocomplete_12.js","requires":["ac-widget","filter-contacts","forms_css","autocomplete_css","_shared_module_offscreen_bin_compose","common-utils","comms-utils","mail-ui-searchbar"]},"template-renderer":{"path":"comms/shared/src/utils/js/template-renderer_12.js"},"themes-img-snowing":{"path":"theme/img-snowing/img-snowing_12.js","requires":["stylesheet"]},"themes-img-ufo":{"path":"theme/img-ufo/ufo_12.js","requires":["stylesheet"]},"themes-img-water":{"path":"theme/img-water/img-water_12.js","requires":["stylesheet"]},"themes-img-ydog":{"path":"theme/img-ydog/ydog_12.js","requires":["stylesheet"]},"tracer":{"path":"mail/debug/tracer_12.js","requires":["comms-aop-weaver","comms-aop-tracer","mail-ui-actions-marker"]},"ult-track":{"path":"common/utils/ultTrack_12.js","requires":["ult_wrapper"]},"ult-tracker":{"path":"common/utils/ultTracker_12.js","requires":["json","mail-track"]},"ult_wrapper":{"path":"common/utils/ult_12.js"}});
var D={"postlaunch":["common-utils-error","mail-common-cachewarmer","mail-error","mail-errormap","mail-ui-inboxmenu-base","mail-ui-folderevents","mail-ui-oviheader","mail-ui-messenger","mail-ui-print","mail-ui-themes","mail-ui-shortcuts-dialog","mail-ui-ad-upsell-dialog","gx-ui-updates-base","gx_utils","gx_YOS","gx_cue","gx_messages","gx_profiledata","gx_status","gx_news","gx_cue_mini_nux","om-api-social","common-ui-menu-helper","common-ui-tabs-overflow","mail-ui-workspace-ext","mail-ui-messagesview-quickfilter","options-ui-mailoptionsview","mail-ui-messagepane-quickreply","qr-client-groups","qr-client-base","qr-client-twitter","qr-client-twitter-dm","qr-client-facebook","qr-client-mail","qr-view","calendar-ui-calendarview","searchautocomplete","_shared_module_offscreen_bin_menus_spam","mail-ui-proxyevents","ac-widget","comms-utils","mail-ui-mailevents","mail-ui-messageevents","mail-ui-convevents"],"calendar":["calendar-ui-addEvent-utils","calendar-ui-addEvent-listener","calendar-ui-addEvent-controller","calendar-ui-addEvent-model","calendar-ui-addEvent-view","mail-controller-compose-text","mail-controller-compose"],"compose":["mail-common-downloader-v1","mail-common-downloader-v2","mail-controller-compose","mail-controller-compose-text","mail-controller-spellcheck","mail-ui-authorview-base","mail-ui-composeview-attach","mail-ui-inlinecompose","mail-ui-mailcompose","mail-ui-fullcompose","mail-ui-fullcompose-fresh","mail-ui-fullcompose-well","mail-ui-mailcompose-base-header","mail-ui-convcompose-header","mail-ui-composeview-spellcheck","mail-ui-messageevents","mail-ui-convevents","mail-ui-mailevents","mail-ui-messagepane-next-prev","mail-ui-messagepane-bind","mail-ui-message-encodings","mail-ui-messagepreview","mail-ui-sendconfirmview-base","mail-service-uploader-v1","mail-service-uploader-yui","mail-service-uploader-form","mail-service-uploader-utils","mail-ui-sendconfirm-capthcaut","mail-ui-convpane-read","mail-ui-captcha-controller","mail-ui-captcha-view","mail-ui-rteview","mail-tt-attcomposer","comms-ui-lozenge","comms-utils","ac-widget","common-ui-menu-helper","mail-ui-mailpane-next-prev","mail-controller-sendconfirm","comms-lozenge-address","comms-lozenge","mail-ui-pane-utils"],"contacts":["contacts-ui-addcontact-add","contacts-ui-addcontact-confirm","contacts-ui-addcontactdialog","contacts-ui-choosecontactdialog","contacts-ui-contact-popup","contacts-ui-createlistdialog","contacts-ui-createlistdialog-view","contacts-ui-createlistdialog-confirm","contacts-ui-addcontact-controller","comms-utils","common-ui-menu-helper"],"openmail":["om-controller-addremoveapp","om-controller-compose","om-controller-internalapi","om-ui-views-lightbox","om-ui-messagepane-sandbox-controller","om-ui-sandbox-messageread","om-ui-sandbox-datastore","om-ui-sandbox-view","om-ui-sandbox-utils","om-api-mail","om-ui-composeview","om-ui-sendconfirm","om-ui-mailcompose-header","om-ui-autosuggest","om-ui-autosuggest-listener","om-controller-views-other","om-api-conv","om-api-message","om-ui-applicationlistmenu-base","mail-ui-mailcompose-base-header","comms-ui-lozenge","comms-utils","ac-widget","mail-controller-compose","mail-controller-compose-text","mail-ui-fullcompose","mail-ui-mailcompose","mail-ui-rteview","mail-ui-composeview-attach","mail-service-uploader-utils","mail-ui-authorview-base","mail-controller-sendconfirm","mail-ui-sendconfirm-capthcaut","mail-ui-sendconfirmview-base","comms-lozenge-address","comms-lozenge"],"search":["mail-ui-bulk-progress","mail-ui-advancedSearchController","mail-ui-advancedSearchView","mail-ui-searchGroupsController","mail-ui-dmsearch-controller","mail-ui-dmsearch-model","mail-ui-searchGroupsView","ac-widget","comms-utils"],"postlaunch_jp":["mail-ui-workspace-base-jp","mail-ui-accordion-base-jp","mail-ui-message-timedalertdialog-jp","contacts-ui-addcontact-add-jp","mail-ui-folderevents-jp","mail-ui-leftcolumn-contactmenu-base-jp","mail-ui-common-calendar-jp","mail-ui-themes-jp","contacts-ui-addcontact-add","mail-ui-folderevents","common-ui-menu-helper"],"compose_jp":["mail-ui-composeview-base-jp","mail-ui-sendconfirmview-base-jp","mail-common-ybox-uploader-jp"],"subcompose":["mail-ui-authorview-base","ac-widget","ac-corp-widget","comms-lozenge","comms-ui-lozenge","comms-utils","comms-lozenge-address","comms-lozenge-edit","comms-ui-editable-overlay-plugin","mail-model-send","mail-controller-compose","mail-controller-sendconfirm","mail-ui-fullcompose","mail-ui-mailcompose","mail-ui-mailcompose-base-header","mail-controller-compose-text","mail-ui-rteview","mail-ui-composeview-attach","mail-service-uploader-utils"]};var P={"postlaunch_strings":{"path":"intl/js/postlaunch/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js"},"calendar_strings":{"path":"intl/js/calendar/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings","subcompose_strings"]},"compose_strings":{"path":"intl/js/compose/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings","subcompose_strings"]},"contacts_strings":{"path":"intl/js/contacts/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings"]},"openmail_strings":{"path":"intl/js/openmail/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings","subcompose_strings"]},"search_strings":{"path":"intl/js/search/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings"]},"postlaunch_jp_strings":{"path":"intl/js/postlaunch_jp/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings","subcompose_strings"]},"compose_jp_strings":{"path":"intl/js/compose_jp/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings","subcompose_strings"]},"subcompose_strings":{"path":"intl/js/subcompose/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings"]}};C.mix(C.comps,P);for(var G in D){var H=D[G];for(var O=0;O<H.length;O++){var J=H[O];var T=C.comps[J];if(T){if(!T.requires){T.requires=[];
}T.requires.push(G+"_strings");}}}M();function M(){var Z,Y,V,a;if(NeoConfig.convMods){for(var X in NeoConfig.convMods){V=X.split("$");Z=NeoConfig.convMods[X];Y=C.comps[V[1]];if(Y&&Z){if(V[0]=="PATH"){Y["path"]=Z;}else{if(V[0]=="REQ"){a=Z.split("$");if(a[0]===""){Y["requires"].push(a[1]);}else{for(var W=0;W<Y["requires"].length;W++){if(Y["requires"][W]==a[0]){Y["requires"][W]=a[1];break;}}}}else{if(V[0]==="FULL_REQ"){Y["requires"]=Z.split("$");}}}}}}}var F,L="",N=0,K=0,E=1,B=0,I=NeoConfig.reducedUrlLength||255,U=NeoConfig.urlLength||2000,R={mail:{name:"mail",comboBase:YUI_config.groups.mailMods.comboBase,root:YUI_config.groups.mailMods.root,base:YUI_config.groups.mailMods.base,combine:true,modules:C.comps,origin:NeoConfig.originPath}};S();function S(){(B++>2)&&(B<7)&&E++;F=(NeoConfig.yloaderTimeout||7500)*E;if(NeoConfig.low_bandwidth){F=F*2+2;}}function Q(){var Z,c,X,f,b,g,V,e=NeoConfig.retryOriginPerc,Y=0,W=[],d=window,a=d.globals||{};d.globals=a;Z=a.failures={};e||(e===0)||(e=101);V=Math.random()*100<e;return c=function(i,l,o,j){var w,y,u=i.Env,s=YUI.Env.mods,n=u._loader,p=n.moduleInfo,x=n.groups,h=i.common.Utils.rocketstats;m.errorFn=1;j=i.clone(j);q(j);if(w&&w.type=="js"&&!w.noRegister){Z[w.name]=Z[w.name]||0;Z[w.name]++;h.stat("loader","modfailure_"+w.name+"_"+e+"_"+V);if(!L){L=w.name;K++;}N++;if(U==I){(F<61000)&&(F*=2);}else{w=0;}U=I;y={timeout:F,maxURLLength:U};i._config(y);if(w){V?v(w,t):t(2);return;}}t(Y++<5?1:2);function m(){r("edge");S();try{l&&l.apply(this,arguments);}catch(z){}k(0,1);}function r(z){L&&h.stat("loader",z+"success_"+L+"_"+K);N&&h.stat("loader",z+"retries"+"_"+e+"_"+V,N);L="";N=0;}function k(AA,z){if(g&&(z==2)){b=g+10000-new Date().getTime();if(b>0){X=X||setTimeout(k,b);}if(X){return;}}else{X&&(z==1)&&clearTimeout(X);X=0;}setTimeout(function(){g=new Date().getTime();if(f=W.shift()){f.Y.use.apply(f.Y,f.a);}},0);}function t(z){(l&&l.errorFn)?j.push(l):j.push(m);W.push({Y:i,a:j});k(0,z);}function q(){var AA,z,AB=0;while(AA=j[AB++]){if(!s[AA]){w=p[AA];if(!w){h.stat("loader","nomodinfo");(function(AC){i.use("common-utils-error",function(AD){AD.common.Utils.error.report("NoModInfo: "+AC);});})(AA);YUI.add(AA);}else{if(w.type=="js"){if(!w.noRegister){return;}z=w;YUI.add(AA);}z=z||w;}}}w=z;}function v(AD,AA){var AF,AG,z,AC,AH=AD.fullpath,AB=AD.name,AE=F/4;if(!AH){if(AG=x[AD.group]){if(!(AF=AG.origin)){h.stat("loader","no_origin_"+AD.group);if((AF=AG.root)&&(AF.indexOf("nq/")==0)){AF="neo/"+AF.substring(3);}if(AF.indexOf("f=/n/")==0){AF="neo/"+AF.substring(5);}if(AF.length<3){h.stat("loader","invalid_origin_"+AB);AA(2);return;}}}else{AF="yui3/build/";}AH=location.protocol+"//"+location.host+"/"+AF+AD.path;}if(i.UA.webkit){AH+="?.rand="+new Date().getTime();}z={autopurge:true,timeout:AE,onSuccess:function(){if(!AC&&s[AB]){AC=1;r("origin");AA(1);}else{this.onFailure();}},onFailure:function(){if(!AC){AC=1;AA(2);}}};z.onTimeout=z.onFailure;i.Get.script(AH,z);}};}delete C.Env._loader.rollups;C._config({requireRegistration:true,loadErrorFn:Q(),timeout:F,maxURLLength:U,groups:R});});},"1.0.0");

YUI.add("mail-templates",function(B){var A={mailTmpl:{name:"mailTmpl",comboBase:YUI_config.groups.mailMods.comboBase,root:YUI_config.groups.mailMods.root+"templates/js/",base:YUI_config.groups.mailMods.base+"templates/js/",combine:true,modules:{"_shared_module_calendar_dialog_add_event_mail_rollup":{"path":"_shared/module/calendar/dialog/add-event-mail_rollup_12.js"},"_shared_module_calendar_menu_times":{"path":"_shared/module/calendar/menu/times_12.js"},"_shared_module_compose":{"path":"_shared/module/compose_12.js","requires":["_shared_module_compose_message_header","_shared_module_rte_well","_shared_module_compose_message_body"]},"_shared_module_compose_fresh":{"path":"_shared/module/compose-fresh_12.js","requires":["_shared_module_compose_message_header_fresh","_shared_module_rte_well_fresh","_shared_module_compose_message_body"]},"_shared_module_compose_loading":{"path":"_shared/module/compose/loading_12.js"},"_shared_module_compose_message_body":{"path":"_shared/module/compose/message-body_12.js","requires":["_shared_module_message_loading_error"]},"_shared_module_compose_message_header":{"path":"_shared/module/compose/message-header_12.js"},"_shared_module_compose_message_header_fresh":{"path":"_shared/module/compose/message-header-fresh_12.js"},"_shared_module_compose_reply":{"path":"_shared/module/compose/reply_12.js"},"_shared_module_compose_title":{"path":"_shared/module/compose/title_12.js"},"_shared_module_contact_card_confirm":{"path":"_shared/module/contact/card-confirm_12.js","requires":["_shared_module_contact_fragments_photo","_shared_module_contact_fragments_activity","_shared_module_contact_fragments_name","_shared_module_contact_fragments_info"]},"_shared_module_contact_card_email":{"path":"_shared/module/contact/card-email_12.js","requires":["_shared_module_contact_fragments_dl_email"]},"_shared_module_contact_card_email_rollup":{"path":"_shared/module/contact/card-email_rollup_12.js"},"_shared_module_contact_card_lg":{"path":"_shared/module/contact/card-lg_12.js","requires":["_shared_module_contact_fragments_activity","_shared_module_contact_fragments_follow","_shared_module_contact_fragments_photo","_shared_module_contact_fragments_name","_shared_module_contact_fragments_info"]},"_shared_module_contact_card_md":{"path":"_shared/module/contact/card-md_12.js","requires":["_shared_module_contact_fragments_activity","_shared_module_contact_fragments_photo","_shared_module_contact_fragments_name","_shared_module_contact_fragments_info","_shared_module_contact_fragments_follow"]},"_shared_module_contact_card_sm":{"path":"_shared/module/contact/card-sm_12.js","requires":["_shared_module_contact_fragments_activity","_shared_module_contact_fragments_photo","_shared_module_contact_fragments_name","_shared_module_contact_fragments_info","_shared_module_contact_fragments_follow"]},"_shared_module_contact_fragments_activity":{"path":"_shared/module/contact/fragments/activity_12.js"},"_shared_module_contact_fragments_dl_email":{"path":"_shared/module/contact/fragments/dl/email_12.js"},"_shared_module_contact_fragments_dl_mobile":{"path":"_shared/module/contact/fragments/dl/mobile_12.js"},"_shared_module_contact_fragments_dl_yim":{"path":"_shared/module/contact/fragments/dl/yim_12.js"},"_shared_module_contact_fragments_follow":{"path":"_shared/module/contact/fragments/follow_12.js"},"_shared_module_contact_fragments_info":{"path":"_shared/module/contact/fragments/info_12.js","requires":["_shared_module_contact_fragments_dl_email","_shared_module_contact_fragments_dl_yim","_shared_module_contact_fragments_dl_mobile"]},"_shared_module_contact_fragments_name":{"path":"_shared/module/contact/fragments/name_12.js"},"_shared_module_contact_fragments_photo":{"path":"_shared/module/contact/fragments/photo_12.js"},"_shared_module_contacts_list_jp_contact":{"path":"_shared/module/contacts-list/jp/contact_12.js"},"_shared_module_contacts_list_jp_contacts_list":{"path":"_shared/module/contacts-list/jp/contacts-list_12.js"},"_shared_module_conversation_fragments_conversation_history":{"path":"_shared/module/conversation/fragments/conversation-history_12.js","requires":["_shared_module_conversation_fragments_conversation_timestamp","_shared_module_conversation_fragments_history"]},"_shared_module_conversation_fragments_conversation_timestamp":{"path":"_shared/module/conversation/fragments/conversation-timestamp_12.js"},"_shared_module_conversation_fragments_history":{"path":"_shared/module/conversation/fragments/history_12.js","requires":["_shared_module_conversation_fragments_msg"]},"_shared_module_conversation_fragments_msg":{"path":"_shared/module/conversation/fragments/msg_12.js"},"_shared_module_feedback":{"path":"_shared/module/feedback_12.js"},"_shared_module_folder_empty_rollup":{"path":"_shared/module/folder-empty_rollup_12.js"},"_shared_module_message_attachments":{"path":"_shared/module/message/attachments_12.js"},"_shared_module_message_blocked":{"path":"_shared/module/message/blocked_12.js"},"_shared_module_message_display":{"path":"_shared/module/message-display_12.js","requires":["_shared_module_message_blocked","_shared_module_message_inlineattachment","_shared_module_conversation_fragments_conversation_history","_shared_module_message_loading_error","_shared_module_message_truncated","_shared_module_message_photos","_shared_module_message_attachments","_shared_module_message_header"]},"_shared_module_message_display_fresh":{"path":"_shared/module/message-display-fresh_12.js","requires":["_shared_module_message_blocked","_shared_module_message_inlineattachment","_shared_module_conversation_fragments_conversation_history","_shared_module_message_loading_error","_shared_module_message_truncated","_shared_module_message_photos","_shared_module_message_attachments","_shared_module_message_header_fresh"]},"_shared_module_message_display_fresh_rollup":{"path":"_shared/module/message-display-fresh_rollup_12.js"},"_shared_module_message_display_rollup":{"path":"_shared/module/message-display_rollup_12.js"},"_shared_module_message_header":{"path":"_shared/module/message-header_12.js","requires":["_shared_module_message_header_attachments","_shared_module_message_header_from","_shared_module_message_header_to","_shared_module_message_header_cc","_shared_module_message_header_bcc","_shared_module_message_header_participants","_shared_module_message_header_with","_shared_module_updates_ycw"]},"_shared_module_message_header_attachments":{"path":"_shared/module/message-header/attachments_12.js"},"_shared_module_message_header_bcc":{"path":"_shared/module/message-header/bcc_12.js"},"_shared_module_message_header_cc":{"path":"_shared/module/message-header/cc_12.js"},"_shared_module_message_header_fresh":{"path":"_shared/module/message-header-fresh_12.js","requires":["_shared_module_message_header_fresh_attachments","_shared_module_message_header_fresh_from","_shared_module_message_header_fresh_to","_shared_module_message_header_fresh_cc","_shared_module_message_header_fresh_bcc","_shared_module_message_header_fresh_participants","_shared_module_message_header_fresh_with","_shared_module_updates_ycw"]},"_shared_module_message_header_fresh_attachments":{"path":"_shared/module/message-header-fresh/attachments_12.js"},"_shared_module_message_header_fresh_bcc":{"path":"_shared/module/message-header-fresh/bcc_12.js"},"_shared_module_message_header_fresh_cc":{"path":"_shared/module/message-header-fresh/cc_12.js"},"_shared_module_message_header_fresh_from":{"path":"_shared/module/message-header-fresh/from_12.js"},"_shared_module_message_header_fresh_participants":{"path":"_shared/module/message-header-fresh/participants_12.js"},"_shared_module_message_header_fresh_to":{"path":"_shared/module/message-header-fresh/to_12.js"},"_shared_module_message_header_fresh_with":{"path":"_shared/module/message-header-fresh/with_12.js"},"_shared_module_message_header_from":{"path":"_shared/module/message-header/from_12.js"},"_shared_module_message_header_participants":{"path":"_shared/module/message-header/participants_12.js"},"_shared_module_message_header_to":{"path":"_shared/module/message-header/to_12.js"},"_shared_module_message_header_with":{"path":"_shared/module/message-header/with_12.js"},"_shared_module_message_inlineattachment":{"path":"_shared/module/message/inlineattachment_12.js"},"_shared_module_message_list_refresh_rollup":{"path":"_shared/module/message-list-refresh_rollup_12.js"},"_shared_module_message_list_rollup":{"path":"_shared/module/message-list_rollup_12.js"},"_shared_module_message_list_thread_expansion_error":{"path":"_shared/module/message-list/thread_expansion_error_12.js"},"_shared_module_message_list_threaded_rollup":{"path":"_shared/module/message-list-threaded_rollup_12.js"},"_shared_module_message_loading_error":{"path":"_shared/module/message/loading-error_12.js"},"_shared_module_message_norton_logo":{"path":"_shared/module/message/norton-logo_12.js"},"_shared_module_message_pane":{"path":"_shared/module/message-pane_12.js","requires":["_shared_module_message_prompt","minty_module_comm_modes","_shared_module_message_display_rollup"]},"_shared_module_message_pane_fresh":{"path":"_shared/module/message-pane-fresh_12.js","requires":["_shared_module_message_prompt","minty_module_comm_modes","_shared_module_message_display_fresh_rollup"]},"_shared_module_message_photos":{"path":"_shared/module/message/photos_12.js"},"_shared_module_message_prompt":{"path":"_shared/module/message/prompt_12.js"},"_shared_module_message_quick_reply":{"path":"_shared/module/message-quick-reply_12.js"},"_shared_module_message_quick_reply_wrapper":{"path":"_shared/module/message-quick-reply-wrapper_12.js"},"_shared_module_message_truncated":{"path":"_shared/module/message/truncated_12.js"},"_shared_module_offscreen_bin_compose":{"path":"_shared/module/offscreen-bin/compose_12.js"},"_shared_module_offscreen_bin_compose_jp_menu_spell_langs":{"path":"_shared/module/offscreen-bin/compose/jp/menu-spell-langs_12.js"},"_shared_module_offscreen_bin_compose_menu_color_picker":{"path":"_shared/module/offscreen-bin/compose/menu-color-picker_12.js"},"_shared_module_offscreen_bin_compose_menu_list":{"path":"_shared/module/offscreen-bin/compose/menu-list_12.js"},"_shared_module_offscreen_bin_compose_menu_spell_langs":{"path":"_shared/module/offscreen-bin/compose/menu-spell-langs_12.js"},"_shared_module_offscreen_bin_compose_menu_spellcheck":{"path":"_shared/module/offscreen-bin/compose/menu-spellcheck_12.js"},"_shared_module_offscreen_bin_compose_menu_text_align":{"path":"_shared/module/offscreen-bin/compose/menu-text-align_12.js"},"_shared_module_offscreen_bin_compose_modal_cancel_compose":{"path":"_shared/module/offscreen-bin/compose/modal-cancel-compose_12.js","requires":["_shared_module_offscreen_bin_modal_close_icon"]},"_shared_module_offscreen_bin_compose_modal_check_spelling_rollup":{"path":"_shared/module/offscreen-bin/compose/modal-check-spelling_rollup_12.js"},"_shared_module_offscreen_bin_contacts_lists_create_list_confirmation":{"path":"_shared/module/offscreen-bin/contacts/lists/create-list-confirmation_12.js","requires":["_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btn_done","_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btn_done","_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btn_done","_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btn_ok"]},"_shared_module_offscreen_bin_contacts_menu_contact_compact_compose":{"path":"_shared/module/offscreen-bin/contacts/menu-contact-compact-compose_12.js","requires":["_shared_module_contact_fragments_photo","_shared_module_contact_fragments_name"]},"_shared_module_offscreen_bin_contacts_menu_contact_compact_compose_fresh":{"path":"_shared/module/offscreen-bin/contacts/menu-contact-compact-compose-fresh_12.js"},"_shared_module_offscreen_bin_contacts_menu_contact_compact_fresh":{"path":"_shared/module/offscreen-bin/contacts/menu-contact-compact-fresh_12.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_bd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/fragments/modal-kiosk-addcontact-bd_12.js","requires":["minty_module_contacts_edit_error","minty_module_contacts_edit_name","minty_module_contacts_edit_basics_emails","minty_module_contacts_edit_basics_ims","minty_module_contacts_edit_basics_phones"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_ft":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/fragments/modal-kiosk-addcontact-ft_12.js","requires":["_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_hd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/fragments/modal-kiosk-addcontact-hd_12.js","requires":["_shared_module_offscreen_bin_modal_close_icon"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontactconfirm_bd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/fragments/modal-kiosk-addcontactconfirm-bd_12.js","requires":["_shared_module_contact_card_confirm"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontactconfirm_ft":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/fragments/modal-kiosk-addcontactconfirm-ft_12.js","requires":["_shared_module_offscreen_bin_modal_btn_done"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontactconfirm_hd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/fragments/modal-kiosk-addcontactconfirm-hd_12.js","requires":["_shared_module_offscreen_bin_modal_close_icon"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_jp_fragments_modal_kiosk_addcontact_bd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/jp/fragments/modal-kiosk-addcontact-bd_12.js","requires":["minty_module_contacts_edit_error","minty_module_contacts_edit_name","minty_module_contacts_edit_basics_jp_emails","minty_module_contacts_edit_basics_jp_ims"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_jp_modal_kiosk_addcontact":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/jp/modal-kiosk-addcontact_12.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_hd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_jp_fragments_modal_kiosk_addcontact_bd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_ft"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_count":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-count_12.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_filter":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-filter_12.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_bd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-pane-bd_12.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_hd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-pane-hd_12.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_loading":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-pane-loading_12.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_name":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-pane-name_12.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_name_error"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_name_error":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-pane-name-error_12.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_name_error_strings"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_name_error_strings":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-pane-name-error-strings_12.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_modal_kiosk_addlist_bd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/modal-kiosk-addlist-bd_12.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_choose_filter","_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_hd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_bd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_loading","_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_name","_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_count","_shared_module_offscreen_bin_modal_toast_saving"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_modal_kiosk_addlist_ft":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/modal-kiosk-addlist-ft_12.js","requires":["_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_modal_kiosk_addlist_hd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/modal-kiosk-addlist-hd_12.js","requires":["_shared_module_offscreen_bin_modal_close_icon"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_modal_kiosk_addlist":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/modal-kiosk-addlist_12.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_modal_kiosk_addlist_hd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_modal_kiosk_addlist_bd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_modal_kiosk_addlist_ft"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_modal_kiosk_addcontact":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/modal-kiosk-addcontact_12.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_hd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_bd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_ft"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_count":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/choose-count_12.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_filter":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/choose-filter_12.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_look_for":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/choose-look-for_12.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/choose-pane_12.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane_hd","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane_bd"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane_bd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/choose-pane-bd_12.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane_hd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/choose-pane-hd_12.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane_loading":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/choose-pane-loading_12.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_modal_kiosk_choosecontact_bd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/modal-kiosk-choosecontact-bd_12.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_filter","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_look_for","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane_loading","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_count"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_modal_kiosk_choosecontact_ft":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/modal-kiosk-choosecontact-ft_12.js","requires":["_shared_module_offscreen_bin_modal_btn_done","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_modal_kiosk_choosecontact_hd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/modal-kiosk-choosecontact-hd_12.js","requires":["_shared_module_offscreen_bin_modal_close_icon"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_modal_kiosk_choosecontact":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/modal-kiosk-choosecontact_12.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_modal_kiosk_choosecontact_hd","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_modal_kiosk_choosecontact_bd","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_modal_kiosk_choosecontact_ft"]},"_shared_module_offscreen_bin_inbox":{"path":"_shared/module/offscreen-bin/inbox_12.js","requires":["_shared_module_offscreen_bin_menus_actions","_shared_module_offscreen_bin_menus_actions_fresh","_shared_module_offscreen_bin_menus_thread_list","_shared_module_offscreen_bin_menus_msg_actions","_shared_module_offscreen_bin_menus_compose","_shared_module_offscreen_bin_modal_attach_download","_shared_module_offscreen_bin_menus_tab_overflow","_shared_module_offscreen_bin_modal_set_encodings","_shared_module_offscreen_bin_menus_conv_actions","_shared_module_offscreen_bin_menus_bubble_actions","_shared_module_offscreen_bin_menus_conv_reply","_shared_module_offscreen_bin_menus_message_list_preview","_shared_module_offscreen_bin_menus_message_list_switcher","_shared_module_offscreen_bin_menus_message_list_sortby","_shared_module_offscreen_bin_menus_message_list_cbox_select","_shared_module_offscreen_bin_menus_message_list_count"]},"_shared_module_offscreen_bin_jp_cal_allday":{"path":"_shared/module/offscreen-bin/jp/cal-allday_12.js"},"_shared_module_offscreen_bin_jp_cal_day":{"path":"_shared/module/offscreen-bin/jp/cal-day_12.js"},"_shared_module_offscreen_bin_jp_cal_hour":{"path":"_shared/module/offscreen-bin/jp/cal-hour_12.js"},"_shared_module_offscreen_bin_jp_cal_limit":{"path":"_shared/module/offscreen-bin/jp/cal-limit_12.js","requires":["_shared_module_offscreen_bin_jp_cal_year","_shared_module_offscreen_bin_jp_cal_month","_shared_module_offscreen_bin_jp_cal_day","_shared_module_offscreen_bin_jp_cal_year","_shared_module_offscreen_bin_jp_cal_month","_shared_module_offscreen_bin_jp_cal_day"]},"_shared_module_offscreen_bin_jp_cal_minute":{"path":"_shared/module/offscreen-bin/jp/cal-minute_12.js"},"_shared_module_offscreen_bin_jp_cal_month":{"path":"_shared/module/offscreen-bin/jp/cal-month_12.js"},"_shared_module_offscreen_bin_jp_cal_task_status":{"path":"_shared/module/offscreen-bin/jp/cal-task-status_12.js"},"_shared_module_offscreen_bin_jp_cal_term_hour":{"path":"_shared/module/offscreen-bin/jp/cal-term-hour_12.js"},"_shared_module_offscreen_bin_jp_cal_term_minute":{"path":"_shared/module/offscreen-bin/jp/cal-term-minute_12.js"},"_shared_module_offscreen_bin_jp_cal_year":{"path":"_shared/module/offscreen-bin/jp/cal-year_12.js"},"_shared_module_offscreen_bin_jp_glass":{"path":"_shared/module/offscreen-bin/jp/glass_12.js"},"_shared_module_offscreen_bin_jp_modal_attach_download_rollup":{"path":"_shared/module/offscreen-bin/jp/modal-attach-download_rollup_12.js"},"_shared_module_offscreen_bin_jp_modal_event":{"path":"_shared/module/offscreen-bin/jp/modal-event_12.js","requires":["_shared_module_offscreen_bin_modal_btn_save","_shared_module_offscreen_bin_modal_btn_delete","_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_jp_cal_year","_shared_module_offscreen_bin_jp_cal_month","_shared_module_offscreen_bin_jp_cal_day","_shared_module_offscreen_bin_jp_cal_hour","_shared_module_offscreen_bin_jp_cal_minute","_shared_module_offscreen_bin_jp_cal_allday","_shared_module_offscreen_bin_jp_cal_term_hour","_shared_module_offscreen_bin_jp_cal_term_minute","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_jp_modal_kiosk_mail_preview_rollup":{"path":"_shared/module/offscreen-bin/jp/modal-kiosk-mail-preview_rollup_12.js"},"_shared_module_offscreen_bin_jp_modal_set_encodings":{"path":"_shared/module/offscreen-bin/jp/modal-set-encodings_12.js","requires":["_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btns_done_cancel"]},"_shared_module_offscreen_bin_jp_modal_task":{"path":"_shared/module/offscreen-bin/jp/modal-task_12.js","requires":["_shared_module_offscreen_bin_jp_cal_limit","_shared_module_offscreen_bin_modal_btn_save","_shared_module_offscreen_bin_modal_btn_delete","_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_jp_cal_task_status","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_menus_actions":{"path":"_shared/module/offscreen-bin/menus/actions_12.js"},"_shared_module_offscreen_bin_menus_actions_fresh":{"path":"_shared/module/offscreen-bin/menus/actions-fresh_12.js"},"_shared_module_offscreen_bin_menus_att_external_links":{"path":"_shared/module/offscreen-bin/menus/att-external-links_12.js"},"_shared_module_offscreen_bin_menus_bubble_actions":{"path":"_shared/module/offscreen-bin/menus/bubble-actions_12.js"},"_shared_module_offscreen_bin_menus_compose":{"path":"_shared/module/offscreen-bin/menus/compose_12.js"},"_shared_module_offscreen_bin_menus_compose_attach":{"path":"_shared/module/offscreen-bin/menus/compose-attach_12.js"},"_shared_module_offscreen_bin_menus_conv_actions":{"path":"_shared/module/offscreen-bin/menus/conv-actions_12.js"},"_shared_module_offscreen_bin_menus_conv_reply":{"path":"_shared/module/offscreen-bin/menus/conv-reply_12.js"},"_shared_module_offscreen_bin_menus_debug":{"path":"_shared/module/offscreen-bin/menus/debug_12.js"},"_shared_module_offscreen_bin_menus_external_links":{"path":"_shared/module/offscreen-bin/menus/external-links_12.js"},"_shared_module_offscreen_bin_menus_help":{"path":"_shared/module/offscreen-bin/menus/help_12.js"},"_shared_module_offscreen_bin_menus_help_fresh":{"path":"_shared/module/offscreen-bin/menus/help-fresh_12.js"},"_shared_module_offscreen_bin_menus_jp_contact":{"path":"_shared/module/offscreen-bin/menus/jp/contact_12.js"},"_shared_module_offscreen_bin_menus_jp_option":{"path":"_shared/module/offscreen-bin/menus/jp/option_12.js"},"_shared_module_offscreen_bin_menus_loading":{"path":"_shared/module/offscreen-bin/menus/loading_12.js"},"_shared_module_offscreen_bin_menus_message_list_cbox_select":{"path":"_shared/module/offscreen-bin/menus/message-list-cbox-select_12.js"},"_shared_module_offscreen_bin_menus_message_list_count":{"path":"_shared/module/offscreen-bin/menus/message-list-count_12.js"},"_shared_module_offscreen_bin_menus_message_list_preview":{"path":"_shared/module/offscreen-bin/menus/message-list-preview_12.js"},"_shared_module_offscreen_bin_menus_message_list_sortby":{"path":"_shared/module/offscreen-bin/menus/message-list-sortby_12.js"},"_shared_module_offscreen_bin_menus_message_list_switcher":{"path":"_shared/module/offscreen-bin/menus/message-list-switcher_12.js"},"_shared_module_offscreen_bin_menus_msg_actions":{"path":"_shared/module/offscreen-bin/menus/msg-actions_12.js"},"_shared_module_offscreen_bin_menus_mts_external_links":{"path":"_shared/module/offscreen-bin/menus/mts-external-links_12.js"},"_shared_module_offscreen_bin_menus_openmail_extension":{"path":"_shared/module/offscreen-bin/menus/openmail-extension_12.js"},"_shared_module_offscreen_bin_menus_options":{"path":"_shared/module/offscreen-bin/menus/options_12.js"},"_shared_module_offscreen_bin_menus_options_fresh":{"path":"_shared/module/offscreen-bin/menus/options-fresh_12.js"},"_shared_module_offscreen_bin_menus_ovi_account":{"path":"_shared/module/offscreen-bin/menus/ovi-account_12.js"},"_shared_module_offscreen_bin_menus_ovi_support":{"path":"_shared/module/offscreen-bin/menus/ovi-support_12.js"},"_shared_module_offscreen_bin_menus_sbc_external_links":{"path":"_shared/module/offscreen-bin/menus/sbc-external-links_12.js"},"_shared_module_offscreen_bin_menus_spam":{"path":"_shared/module/offscreen-bin/menus/spam_12.js"},"_shared_module_offscreen_bin_menus_tab_overflow":{"path":"_shared/module/offscreen-bin/menus/tab-overflow_12.js"},"_shared_module_offscreen_bin_menus_thread_list":{"path":"_shared/module/offscreen-bin/menus/thread-list_12.js"},"_shared_module_offscreen_bin_menus_uh_account":{"path":"_shared/module/offscreen-bin/menus/uh-account_12.js"},"_shared_module_offscreen_bin_modal":{"path":"_shared/module/offscreen-bin/modal_12.js","requires":["_shared_module_offscreen_bin_modal_close_icon"]},"_shared_module_offscreen_bin_modal_attach_download":{"path":"_shared/module/offscreen-bin/modal-attach-download_12.js","requires":["_shared_module_offscreen_bin_modal_close_icon","_shared_module_message_norton_logo","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_modal_attach_download_rollup":{"path":"_shared/module/offscreen-bin/modal-attach-download_rollup_12.js"},"_shared_module_offscreen_bin_modal_btn_cancel":{"path":"_shared/module/offscreen-bin/modal-btn-cancel_12.js"},"_shared_module_offscreen_bin_modal_btn_continue":{"path":"_shared/module/offscreen-bin/modal-btn-continue_12.js"},"_shared_module_offscreen_bin_modal_btn_delete":{"path":"_shared/module/offscreen-bin/modal-btn-delete_12.js"},"_shared_module_offscreen_bin_modal_btn_done":{"path":"_shared/module/offscreen-bin/modal-btn-done_12.js"},"_shared_module_offscreen_bin_modal_btn_generic":{"path":"_shared/module/offscreen-bin/modal-btn-generic_12.js"},"_shared_module_offscreen_bin_modal_btn_ok":{"path":"_shared/module/offscreen-bin/modal-btn-ok_12.js"},"_shared_module_offscreen_bin_modal_btn_save":{"path":"_shared/module/offscreen-bin/modal-btn-save_12.js"},"_shared_module_offscreen_bin_modal_btns_done_cancel":{"path":"_shared/module/offscreen-bin/modal-btns-done-cancel_12.js","requires":["_shared_module_offscreen_bin_modal_btn_done","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_modal_btns_ok_cancel":{"path":"_shared/module/offscreen-bin/modal-btns-ok-cancel_12.js","requires":["_shared_module_offscreen_bin_modal_btn_ok","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_modal_close_icon":{"path":"_shared/module/offscreen-bin/modal-close-icon_12.js"},"_shared_module_offscreen_bin_modal_colors_rollup":{"path":"_shared/module/offscreen-bin/modal-colors_rollup_12.js"},"_shared_module_offscreen_bin_modal_kiosk_mail_preview_rollup":{"path":"_shared/module/offscreen-bin/modal-kiosk-mail-preview_rollup_12.js"},"_shared_module_offscreen_bin_modal_launch_error_rollup":{"path":"_shared/module/offscreen-bin/modal-launch-error_rollup_12.js"},"_shared_module_offscreen_bin_modal_preview_rollup":{"path":"_shared/module/offscreen-bin/modal-preview_rollup_12.js"},"_shared_module_offscreen_bin_modal_quick_filters":{"path":"_shared/module/offscreen-bin/modal-quick-filters_12.js","requires":["_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btn_save","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_modal_set_encodings":{"path":"_shared/module/offscreen-bin/modal-set-encodings_12.js","requires":["_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btns_done_cancel"]},"_shared_module_offscreen_bin_modal_shortcuts_rollup":{"path":"_shared/module/offscreen-bin/modal-shortcuts_rollup_12.js"},"_shared_module_offscreen_bin_modal_toast_saving":{"path":"_shared/module/offscreen-bin/modal-toast-saving_12.js"},"_shared_module_offscreen_bin_modal_upsell_rollup":{"path":"_shared/module/offscreen-bin/modal-upsell_rollup_12.js"},"_shared_module_offscreen_bin_notification_notifications":{"path":"_shared/module/offscreen-bin/notification/notifications_12.js"},"_shared_module_offscreen_bin_print_print_rollup":{"path":"_shared/module/offscreen-bin/print/print_rollup_12.js"},"_shared_module_offscreen_bin_progress_bar":{"path":"_shared/module/offscreen-bin/progress-bar_12.js"},"_shared_module_offscreen_bin_quick_reply_modal_account_blocked_rollup":{"path":"_shared/module/offscreen-bin/quick-reply/modal-account-blocked_rollup_12.js"},"_shared_module_offscreen_bin_renamer":{"path":"_shared/module/offscreen-bin/renamer_12.js"},"_shared_module_offscreen_bin_shell_navigation_newfolder_body_rollup":{"path":"_shared/module/offscreen-bin/shell-navigation/newfolder/body_rollup_12.js"},"_shared_module_offscreen_bin_shell_navigation_newfolder_header_rollup":{"path":"_shared/module/offscreen-bin/shell-navigation/newfolder/header_rollup_12.js"},"_shared_module_offscreen_bin_tooltip_fresh":{"path":"_shared/module/offscreen-bin/tooltip-fresh_12.js"},"_shared_module_open_mail_application_content":{"path":"_shared/module/open-mail/application-content_12.js"},"_shared_module_open_mail_application_dialog":{"path":"_shared/module/open-mail/application-dialog_12.js"},"_shared_module_open_mail_application_hidden":{"path":"_shared/module/open-mail/application-hidden_12.js"},"_shared_module_open_mail_application_lightbox":{"path":"_shared/module/open-mail/application-lightbox_12.js"},"_shared_module_open_mail_application_list":{"path":"_shared/module/open-mail/application-list_12.js"},"_shared_module_open_mail_application_list_menu":{"path":"_shared/module/open-mail/application-list-menu_12.js"},"_shared_module_open_mail_application_messagepane":{"path":"_shared/module/open-mail/application-messagepane_12.js"},"_shared_module_open_mail_application_overlay":{"path":"_shared/module/open-mail/application-overlay_12.js"},"_shared_module_open_mail_application_panel":{"path":"_shared/module/open-mail/application-panel_12.js"},"_shared_module_open_mail_application_pod":{"path":"_shared/module/open-mail/application-pod_12.js"},"_shared_module_open_mail_application_simple":{"path":"_shared/module/open-mail/application-simple_12.js"},"_shared_module_open_mail_legal_dialog":{"path":"_shared/module/open-mail/legal-dialog_12.js"},"_shared_module_open_mail_legal_dialog_feature":{"path":"_shared/module/open-mail/legal-dialog-feature_12.js"},"_shared_module_open_mail_webservice_container":{"path":"_shared/module/open-mail/webservice-container_12.js"},"_shared_module_rte_well":{"path":"_shared/module/rte-well_12.js","requires":["_shared_module_rte_well_tabs_compose","_shared_module_rte_well_tabs_conversation","_shared_module_rte_well_tabs_sms","_shared_module_rte_well_content_emoticons","_shared_module_rte_well_content_format","_shared_module_rte_well_content_rich_text_switch","_shared_module_rte_well_content_attachments"]},"_shared_module_rte_well_content_attach_item":{"path":"_shared/module/rte-well/content/attach-item_12.js"},"_shared_module_rte_well_content_attachments":{"path":"_shared/module/rte-well/content/attachments_12.js","requires":["_shared_module_rte_well_content_attach_item","_shared_module_rte_well_content_file_count"]},"_shared_module_rte_well_content_attachments_fresh":{"path":"_shared/module/rte-well/content/attachments-fresh_12.js"},"_shared_module_rte_well_content_attachments_well_fresh":{"path":"_shared/module/rte-well/content/attachments-well-fresh_12.js","requires":["_shared_module_rte_well_content_attach_item","_shared_module_rte_well_content_file_count"]},"_shared_module_rte_well_content_emoticons":{"path":"_shared/module/rte-well/content/emoticons_12.js"},"_shared_module_rte_well_content_emoticons_fresh":{"path":"_shared/module/rte-well/content/emoticons-fresh_12.js"},"_shared_module_rte_well_content_file_count":{"path":"_shared/module/rte-well/content/file-count_12.js","requires":["_shared_module_message_norton_logo"]},"_shared_module_rte_well_content_fontname_fresh":{"path":"_shared/module/rte-well/content/fontname-fresh_12.js"},"_shared_module_rte_well_content_fontsize_fresh":{"path":"_shared/module/rte-well/content/fontsize-fresh_12.js"},"_shared_module_rte_well_content_format":{"path":"_shared/module/rte-well/content/format_12.js"},"_shared_module_rte_well_content_format_fresh":{"path":"_shared/module/rte-well/content/format-fresh_12.js"},"_shared_module_rte_well_content_jp_emoticons":{"path":"_shared/module/rte-well/content/jp/emoticons_12.js"},"_shared_module_rte_well_content_rich_text_switch":{"path":"_shared/module/rte-well/content/rich-text-switch_12.js"},"_shared_module_rte_well_fresh":{"path":"_shared/module/rte-well-fresh_12.js","requires":["_shared_module_rte_well_content_attachments_fresh","_shared_module_rte_well_content_format_fresh","_shared_module_rte_well_content_attachments_well_fresh"]},"_shared_module_rte_well_tabs_compose":{"path":"_shared/module/rte-well/tabs/compose_12.js"},"_shared_module_rte_well_tabs_compose_fresh":{"path":"_shared/module/rte-well/tabs/compose-fresh_12.js"},"_shared_module_rte_well_tabs_conversation":{"path":"_shared/module/rte-well/tabs/conversation_12.js"},"_shared_module_rte_well_tabs_sms":{"path":"_shared/module/rte-well/tabs/sms_12.js"},"_shared_module_search_empty_rollup":{"path":"_shared/module/search-empty_rollup_12.js"},"_shared_module_search_non_snippet_refresh_rollup":{"path":"_shared/module/search-non-snippet-refresh_rollup_12.js"},"_shared_module_search_non_snippet_rollup":{"path":"_shared/module/search-non-snippet_rollup_12.js"},"_shared_module_search_refresh_rollup":{"path":"_shared/module/search-refresh_rollup_12.js"},"_shared_module_search_rollup":{"path":"_shared/module/search_rollup_12.js"},"_shared_module_send_confirm_captcha":{"path":"_shared/module/send-confirm/captcha_12.js","requires":["_shared_module_offscreen_bin_modal_btn_continue","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_send_confirm_captcha_blocked":{"path":"_shared/module/send-confirm/captcha-blocked_12.js"},"_shared_module_send_confirm_jp_captcha_rollup":{"path":"_shared/module/send-confirm/jp/captcha_rollup_12.js"},"_shared_module_send_confirm_recipients_rollup":{"path":"_shared/module/send-confirm/recipients_rollup_12.js"},"_shared_module_send_confirm_rollup":{"path":"_shared/module/send-confirm_rollup_12.js"},"_shared_module_shell_navigation_search_rollup":{"path":"_shared/module/shell-navigation/search_rollup_12.js"},"_shared_module_thread_loading_error":{"path":"_shared/module/thread/loading-error_12.js"},"_shared_module_thread_thread_display":{"path":"_shared/module/thread/thread-display_12.js","requires":["_shared_module_thread_loading_error","_shared_module_thread_thread_item_header","_shared_module_thread_thread_item_body","_shared_module_thread_thread_header"]},"_shared_module_thread_thread_display_rollup":{"path":"_shared/module/thread/thread-display_rollup_12.js"},"_shared_module_thread_thread_header":{"path":"_shared/module/thread/thread-header_12.js"},"_shared_module_thread_thread_item_attachments":{"path":"_shared/module/thread/thread-item/attachments_12.js","requires":["_shared_module_message_photos","_shared_module_message_attachments"]},"_shared_module_thread_thread_item_body":{"path":"_shared/module/thread/thread-item/body_12.js","requires":["_shared_module_message_blocked","_shared_module_message_loading_error","_shared_module_thread_thread_item_attachments","_shared_module_rte_well_content_attach_item"]},"_shared_module_thread_thread_item_header":{"path":"_shared/module/thread/thread-item/header_12.js"},"_shared_module_thread_thread_pane":{"path":"_shared/module/thread/thread-pane_12.js","requires":["_shared_module_message_prompt","minty_module_comm_modes","_shared_module_thread_thread_display"]},"_shared_module_toolbar_compose":{"path":"_shared/module/toolbar/compose_12.js"},"_shared_module_toolbar_compose_fresh":{"path":"_shared/module/toolbar/compose-fresh_12.js"},"_shared_module_toolbar_jp_compose":{"path":"_shared/module/toolbar/jp/compose_12.js"},"_shared_module_updates_ycw":{"path":"_shared/module/updates/ycw_12.js"},"minty_module_afc_afc":{"path":"minty/module/afc/afc_12.js"},"minty_module_amazon_amzn_rec":{"path":"minty/module/amazon/amzn_rec_12.js"},"minty_module_amazon_amzn_sky":{"path":"minty/module/amazon/amzn_sky_12.js"},"minty_module_comm_modes":{"path":"minty/module/comm-modes_12.js"},"minty_module_contacts_edit_basics_emails":{"path":"minty/module/contacts/edit/basics/emails_12.js","requires":["minty_module_contacts_edit_select_lists_emails"]},"minty_module_contacts_edit_basics_ims":{"path":"minty/module/contacts/edit/basics/ims_12.js","requires":["minty_module_contacts_edit_select_lists_ims"]},"minty_module_contacts_edit_basics_jp_emails":{"path":"minty/module/contacts/edit/basics/jp/emails_12.js"},"minty_module_contacts_edit_basics_jp_ims":{"path":"minty/module/contacts/edit/basics/jp/ims_12.js"},"minty_module_contacts_edit_basics_phones":{"path":"minty/module/contacts/edit/basics/phones_12.js","requires":["minty_module_contacts_edit_select_lists_phones"]},"minty_module_contacts_edit_error":{"path":"minty/module/contacts/edit/error_12.js"},"minty_module_contacts_edit_name":{"path":"minty/module/contacts/edit/name_12.js"},"minty_module_contacts_edit_select_lists_emails":{"path":"minty/module/contacts/edit/select-lists/emails_12.js"},"minty_module_contacts_edit_select_lists_ims":{"path":"minty/module/contacts/edit/select-lists/ims_12.js"},"minty_module_contacts_edit_select_lists_phones":{"path":"minty/module/contacts/edit/select-lists/phones_12.js"},"minty_module_jp_accordion_title":{"path":"minty/module/jp/accordion-title_12.js"},"minty_module_jp_alert_mbox_alert":{"path":"minty/module/jp/alert-mbox-alert_12.js"},"minty_module_jp_alert_mbox_error":{"path":"minty/module/jp/alert-mbox-error_12.js"},"minty_module_jp_alert_mbox_slimfast":{"path":"minty/module/jp/alert-mbox-slimfast_12.js"},"minty_module_jp_dummy_header":{"path":"minty/module/jp/dummy-header_12.js"},"minty_module_jp_quota":{"path":"minty/module/jp/quota_12.js"},"minty_module_jp_truncate":{"path":"minty/module/jp/truncate_12.js"},"minty_module_jp_unread_message_folderlist":{"path":"minty/module/jp/unread-message-folderlist_12.js"},"minty_module_list_view_ad_search":{"path":"minty/module/list-view-ad/search_12.js"},"minty_module_shell_navigation_updates_rollup":{"path":"minty/module/shell-navigation/updates_rollup_12.js"},"minty_module_static_themes_js":{"path":"minty/module/static/themes-js_12.js"},"minty_module_tabs_tab_removable":{"path":"minty/module/tabs/tab-removable_12.js"},"minty_module_toolbar_inbox":{"path":"minty/module/toolbar/inbox_12.js"},"minty_module_toolbar_inbox_conversation_fresh_rollup":{"path":"minty/module/toolbar/inbox/conversation-fresh_rollup_12.js"},"minty_module_toolbar_inbox_conversation_rollup":{"path":"minty/module/toolbar/inbox/conversation_rollup_12.js"},"minty_module_toolbar_inbox_conversation_thread_rollup":{"path":"minty/module/toolbar/inbox/conversation-thread_rollup_12.js"},"minty_module_toolbar_inbox_default_fresh_rollup":{"path":"minty/module/toolbar/inbox/default-fresh_rollup_12.js"},"minty_module_toolbar_inbox_default_rollup":{"path":"minty/module/toolbar/inbox/default_rollup_12.js"},"minty_module_toolbar_inbox_default_thread_rollup":{"path":"minty/module/toolbar/inbox/default-thread_rollup_12.js"},"minty_module_toolbar_inbox_drafts_fresh_rollup":{"path":"minty/module/toolbar/inbox/drafts-fresh_rollup_12.js"},"minty_module_toolbar_inbox_drafts_rollup":{"path":"minty/module/toolbar/inbox/drafts_rollup_12.js"},"minty_module_toolbar_inbox_drafts_thread_rollup":{"path":"minty/module/toolbar/inbox/drafts-thread_rollup_12.js"},"minty_module_toolbar_inbox_jp_default_rollup":{"path":"minty/module/toolbar/inbox/jp/default_rollup_12.js"},"minty_module_toolbar_inbox_jp_drafts_rollup":{"path":"minty/module/toolbar/inbox/jp/drafts_rollup_12.js"},"minty_module_toolbar_inbox_jp_message":{"path":"minty/module/toolbar/inbox/jp/message_12.js"},"minty_module_toolbar_inbox_jp_search_rollup":{"path":"minty/module/toolbar/inbox/jp/search_rollup_12.js"},"minty_module_toolbar_inbox_jp_sent_rollup":{"path":"minty/module/toolbar/inbox/jp/sent_rollup_12.js"},"minty_module_toolbar_inbox_jp_spam_rollup":{"path":"minty/module/toolbar/inbox/jp/spam_rollup_12.js"},"minty_module_toolbar_inbox_message":{"path":"minty/module/toolbar/inbox/message_12.js"},"minty_module_toolbar_inbox_message_fresh":{"path":"minty/module/toolbar/inbox/message-fresh_12.js"},"minty_module_toolbar_inbox_message_thread":{"path":"minty/module/toolbar/inbox/message-thread_12.js"},"minty_module_toolbar_inbox_search_fresh_rollup":{"path":"minty/module/toolbar/inbox/search-fresh_rollup_12.js"},"minty_module_toolbar_inbox_search_rollup":{"path":"minty/module/toolbar/inbox/search_rollup_12.js"},"minty_module_toolbar_inbox_search_thread_rollup":{"path":"minty/module/toolbar/inbox/search-thread_rollup_12.js"},"minty_module_toolbar_inbox_sent_fresh_rollup":{"path":"minty/module/toolbar/inbox/sent-fresh_rollup_12.js"},"minty_module_toolbar_inbox_sent_msg_rollup":{"path":"minty/module/toolbar/inbox/sent-msg_rollup_12.js"},"minty_module_toolbar_inbox_sent_msg_thread_rollup":{"path":"minty/module/toolbar/inbox/sent-msg-thread_rollup_12.js"},"minty_module_toolbar_inbox_sent_rollup":{"path":"minty/module/toolbar/inbox/sent_rollup_12.js"},"minty_module_toolbar_inbox_sent_thread_rollup":{"path":"minty/module/toolbar/inbox/sent-thread_rollup_12.js"},"minty_module_toolbar_inbox_spam_fresh_rollup":{"path":"minty/module/toolbar/inbox/spam-fresh_rollup_12.js"},"minty_module_toolbar_inbox_spam_rollup":{"path":"minty/module/toolbar/inbox/spam_rollup_12.js"},"minty_module_toolbar_inbox_spam_thread_rollup":{"path":"minty/module/toolbar/inbox/spam-thread_rollup_12.js"},"minty_module_toolbar_updates":{"path":"minty/module/toolbar/updates_12.js"}}}};
if(B.Env._loader){B.Env._loader._config({groups:A});}else{B._config({groups:A});}},"1.0.0");

YUI.add("common-net-diag",function(A){A.namespace("common.net");A.common.net.Diag=function(){var U=A.common,V=U.Utils,O=U.net.Status,S={},Y={},K={},Z,B=NeoConfig.chkStaleReq||30000,E,W=V.traceMsg,J=V.rocketstats,N='<span style="font-weight:bold">',T="</span>";function I(){return new Date().getTime();}function G(b){function a(){var d,c;if((d=S[b])&&!d.end){c=I()-d.start;if(c>B){d.stale=true;W(["Session stale : ",b,":",d.key,"stale for",c," ms"].join(" "));P("stalecheck");}}}A.later(B,null,a);}function X(b,a){if(!Y[b]){Y[b]=[];}Y[b].push(a);}function D(){var c,b=arguments[0],e=Y["net:"+b],d="",a="",f,g=[];for(c=1;c<arguments.length;c++){g.push(arguments[c]);}for(c=0;e&&c<e.length;c++){if(f=e[c].apply(null,g)){d+=(f.log&&(f.log+";"))||"";a+=(f.dbgui&&(f.dbgui+";"))||"";}}return{log:d,dbgui:a};}function M(c,h,a){var g=c.id,e=D("start",c,h,a),b=h.method||((h.service||"")+c.request.url.match(/\/[^\/]*\?+/)),d=e.log,f=e.dbgui||"";S[g]={id:g,key:b,desc:[f],start:c.start||I(),args:h&&h.args};P("start");G(g);W(["net [start] id:",g,b,"desc:",f,d].join(" "));}function C(a,g){var c=S[a.id],e=D("complete",a,g),f=e.dbgui,d="",b=e.log||"";if(c){c.end=a.end||I();g.method&&F("net","RespTime_"+g.method,d=(c.end-c.start));f.length&&c.desc.push(f);}P("complete");W(["net [complete] id:",c.id,c.key,"time :",d,b].join(" "));}function H(b,d,a){var c=S[b.id];if(c){c.end=b.end||I();c.aborted=true;c.timedout=a;P("abort");W(["net [aborted] id: "+b.id,"timeout: ",a,c?(c.end-c.start):-1,D("abort",b,d,a).log].join(" "));}}function R(c,b){var a=b.status,h=c.id,f=D("end",c,b),e=S[h],g=f.dbgui,d=f.log;if(e){g.length&&e.desc.push(g);P("done");if(a!=O.abort&&O!=O.xhr){W(["net [done] id:"+h,"total: "+(e.end?e.end-e.start:-1),"msecs http: "+b.status,d].join(" "));}}}function F(){J&&J.stat.apply(J,arguments);}function P(g){if(Z){var k='<span style="color:red">Open sessions : </span>',e=0,l,m,c,d,f,j=[],b=[],a=[],h,n;for(m in S){n=S[m];n.done=n.end||n.abort;if(n.done){b.push(m);}else{a.push(m);}}while(b.length&&((b.length+a.length)>10)){delete S[b[0]];b.shift();}for(m in S){n=S[m];d=(n.stale&&('<span style="color:red">'+(!n.end?"STALE":(n.aborted?(n.timedout?"TIMEDOUT":"ABORTED"):"DONE"))+"</span>"))||(!n.end&&"OPEN");l=["<br/>","[",n.id,"]",'<span style="color:blue">'+n.key+"</span>",d||"",n.desc.join("<br/>"),n.end?["<br/>client :",N,(n.end-n.start),T,"ms"].join(" "):""].join(" ");j.push(l);}j.reverse();Z.setBody(k+a.length+j.join(""));}}function Q(){if(Z){return;}A.use("common-ui-diagpanel",function(){Z=new A.common.ui.DiagPanel({},function(){Z=null;});P("panelopen");});}A.on("net:start",M);A.on("net:complete",C);A.on("net:abort",H);A.on("net:end",R);var L={addLogger:X,showSessions:Q,addStat:F};return L;}();},"1.0.0",{requires:["common-net-session","rocket-stats","common-utils"]});

YUI.add("common-net-session",function(C){C.namespace("common.net");var E=C.Lang,a=C.common.Utils,c=C.common.net,T=c.Status={},G=0,b=C.config.win||window,B=typeof XMLHttpRequest!=="undefined",j=(C.config&&C.config.net)?C.config.net.XMLHttpRequest:window.XMLHttpRequest,V,f="GET",N,L=[],M="net:exc",h="net:start",S="net:complete",g="net:abort",i="net:end",I="net:idle",e=0;function d(k){try{C.fire.apply(C,k);}catch(Y){a.assert(0);C.use("common-utils-error",function(){a.error.report("netsession error",Y,1,1);});}}function O(){return new Date().getTime();}function H(){try{return B?new j:new ActiveXObject("Microsoft.XMLHTTP");}catch(Y){}return;}function Q(Y){if(Y._timeoutid){b.clearTimeout(Y._timeoutid);Y._timeoutid=V;}}function U(Y){try{var k=Y._conn;if(k&&B){k.onreadystatechange=V;}}catch(l){}Y._conn=V;}function K(Y,m,l){var n,k=Y.match(/\?([\w\W])*/);k=k&&k[0]?(k[0].length>1?"&":""):"?";n=X(m,l);return[Y,n.length?k:"",n].join("");}function X(m,n){var s,r,o,q,Y,p,k=[],l=W(m,n);for(s in m){p=l[s];Y=p?encodeURIComponent(s):s;r=m[s];if(E.isArray(r)){for(o=0,q=r.length;o<q;o++){k.push([Y,p?encodeURIComponent(r[o]):r[o]].join("="));}}else{k.push([Y,p?encodeURIComponent(m[s]):m[s]].join("="));}}return k.join("&");}function W(m,l){if(E.isObject(l)){return l;}var k={},Y;if(l!==false){for(Y in m){k[Y]=1;}}return k;}function R(m){if(E.isString(m)){var l=this.responseHeaders,k=m.toLowerCase(),Y;for(Y in l){if(Y.toLowerCase()==k){return l[Y];}}}return V;}function J(u){function o(y,w){var z=w;try{z=l[y];}catch(x){}return z;}var n,v={},p=0,s,Y,l=u._conn,m=l.status==1223,k,r,q;try{n={status:m?204:l.status,statusText:m?"No Content":o("statusText",""),callback:u._callback,request:u.request,responseHeaders:"",allHeadersText:"",getResponseHeader:R,responseText:o("responseText"),responseXML:o("responseXML"),id:u.id};k=l.getAllResponseHeaders();q=k.split("\n");s=q.length;while(s--){r=q[p++];Y=r.indexOf(":");if(Y!=-1){v[r.substring(0,Y)]=r.substring(Y+2);}}n.responseHeaders=v;n.allHeadersText=k;}catch(t){}return n;}function D(r,Y,o){var n,l=r._conn,m,k="unknown",q=o&&(o.name==M)&&o.code,p=-1;try{if(Y){m=Y.timeout?T.timeout:T.abort;k="abort";}else{if(l){p=l.readyState;}if(p<=3){m=q;k="readyState."+p;}else{n=J(r);}}}catch(q){}if(!n){n={status:m||T.xhr,statusText:k,responseText:(o&&o.message)||V,callback:r._callback,request:r.request,getResponseHeader:R,id:r.id};}return n;}function P(Y){a.assert(Y._conn.readyState);if(Y._conn.readyState===4){Q(Y);Y.end=O();d([S,Y,Y._callback]);F(Y);}}function A(k,m,o){function l(){d([i,k,m]);U(k);m=V;e--;if(!e){d([I,1]);}}var Y=k._callback||{},n=o?Y.success:Y.failure;n?n.call(Y.scope,k,m,l):l();}function F(Y,n){var l=0,k,p,m=Y._conn;try{l=(m&&m.status)||0;}catch(o){a.assert(0);}p=!n&&(l>=200&&l<300||l==1223);k=p?J(Y):D(Y,n);A(Y,k,p);}c.Session=function(k,q,Y,n,m,p){var o=this,l;Y=Y?Y.toUpperCase():f;l=Y==f;o.request={url:k,urlparams:(l?n||{}:{}),post:(!l?n:V),mthd:Y,enc:W(n,m),headers:{}};o._callback=q;if(!p&&p!==0){o.id=G;}else{o.id=p;}++G;};var Z=c.Session;Z.formatQueryParams=X;Z.suspendRequests=function(Y){N=Y;};Z.resumeRequests=function(){N=V;while(L.length){L[0].send();L.splice(0,1);}};Z.isIdle=function(){return e==0;};Z.prototype={_callback:{},_conn:V,tries:0,_timeoutid:V,start:0,end:0,addUrlParam:function(Y,m,l){var k=this.request,n=k.urlparams;n[Y]=m;if(l!==false){k.enc[Y]=1;}},send:function(){var m=this,l=m.request,r=m._callback||{},p=l.mthd,Y=l.url,s,q,o,k;if(N){L.push(m);return;}m.abort();try{m.tries++;Y=K(Y,l.urlparams,l.enc);if(!r.cache&&Y.indexOf("&r=")==-1){Y+=((Y.indexOf("?")==-1)?"?":"&")+"r="+(l.rand=(new Date()).getTime());}if(Y.length>=2048){throw {name:M,code:T.maxsize};}m._conn=H();s=m._conn;q=l.post;l.postdata=q=E.isFunction(q)?q():q;s.open(p,Y,true);m.applyHeaders();s.onreadystatechange=function(){if(m._conn){P(m);}};o=r.timeout;if(o){m._timeoutid=b.setTimeout(function(){m.abort(true);},o);}m.end=0;m.start=O();d([h,m,r,Y]);s.send(q||"");if(!e){d([I,0]);}e++;}catch(n){k=D(m,V,n);b.setTimeout(function(){A(m,k);},0);}},setHeader:function(Y,k){this.request.headers[Y]=k;},getHeaders:function(){var Y=[],l,k=this.request.headers;for(l in k){Y.push([l,k[l]].join("="));}return Y.join(";");},applyHeaders:function(){var m,l=this,Y=l._conn,k=l.request.headers;if(Y){a.assert(!a.isEmpty(k));for(m in k){Y.setRequestHeader(m,k[m]);}if(C.config&&C.config.net){Y.setRequestHeader("Cookie",C.config.net.cookie);}}},abort:function(Y){var l,k=this._conn;if(k){l=this;if(k.readyState!==4&&k.readyState!==0){Q(l);U(l);k.abort();d([g,l,l._callback,Y]);F(l,{timeout:Y});}}}};C.mix(T,{timeout:-1,xhr:-2,maxsize:-3,abort:-4});},"1.0.0",{requires:["event-custom","common-utils"]});

YUI.add("common-net-sessionmgr",function(B){var A=B.common.net;A.SessionMgr=function(){var U=A.Session,G=B.Lang,E=B.JSON,S=A.Error,K=NeoConfig.wssid,P,M=[],C="net:success",H="net:failure",Z="net:suspended",D="net:resumed";function R(f,d,b,a,c){var e;if(f){e={code:f,message:d,detail:b,host:c,subcode:a};}return e;}function N(b){var a=b.responseText||"",c;a=a.replace(/<!--?(.*)?-->[\r\n]*$/,"");try{b.body=E.parse(a);}catch(d){c=S.parse;b.fault=R(c,(d.message||"")+" Response parse failed.",{respTxt:a});}}function W(a,b){var c=J.validate[a];if(c){c(b);}else{b.body=b.responseXML||b.responseText;}}function T(d,f){var c,b=0,e,a=f.callback;c=S.getErrType(d,f);if(c){if(c==S.conn){b=2;}e=c==S.abort||c==S.timeout||c==S.login||c.indexOf(S.send)==0;f.fault={code:c};}else{W(a.responseType,f);}if(a.formatter){a.formatter(d,f);}a.retries=e?0:(G.isNumber(a.retries)?a.retries:b);}function Y(d){var c=d.allHeadersText||"",b=d.responseText,a;if(c.indexOf("Content-Type: text/html")>-1||((/^<html/i.test(b)||/^<!doctype html/i.test(b))&&(/<\/html>[\s]*$/i.test(b)||/<\/html>[\s]*[\r\n]*<!--?(.*)?-->[\r\n]*$/i.test(b)))){if(/<\/html>[\s]*$/i.test(b)){a="External";}else{if(/<\/html>[\s]*[\r\n]*<!--?(.*)?-->[\r\n]*$/i.test(b)){a="Internal";}else{a="Unknown";}}return a;}}function L(a){a.fault=R(S.unknown);}function Q(b){function a(){var c=this;c.success=c.failure=F;c.scope=J;}a.prototype=b;a.prototype.constructor=a;return new a();}function O(a){return a.constructor.prototype;}function F(f,i,d){var b=i,m=i.callback,n,j=i.status,g,h,k,a;function c(){if(a=n&&n.failure){a.call(h,b,g,f);}d();X();}try{T(f,b);if(b.fault&&(f.tries<=m.retries)){B.later(500,null,function(){f.send();});return true;}if(j!=200&&!b.fault){L(b);}n=b.callback=O(m);if(n){g=n.args;h=n.scope;}if(!b.fault){B.fire(C,b);k=n&&n.success;if(k){k.call(h,b,g,f);d();X();}}else{if(j==A.Status.abort){c();}else{B.fire(H,f,b);S._handle(f,b,c);}}}catch(l){}}function I(a){M.push(a);}function X(){if(!P&&M.length){var a=M.shift();if(a&&a.send){a.send();}else{X();}}}function V(d,c){var g=c.data||"",a,h={},b,f=null,e;c=c||{};a=c.on||{};g=c.data||"";b=c.method||"GET";h.service=c.service;h.scope=c.context;h.timeout=c.timeout;h.args=c.args;if(a.success){h.success=function(i,j){a.success(0,i,j);};}if(a.failure){h.failure=function(i,j){a.failure(0,i,j);};}h.responseType=c.responseType||"json";h.suppressCodes=c.suppressCodes||["*"];e=(G.isUndefined(c.sync))?true:!c.sync;return J.request(d,g,h,b,f,e);}var J={request:function(a,c,i,h,d,g){var b,e,f;i=i||{};if(!i.args){i.args={};}f=Q(i);if(NeoConfig.disableFullSSL&&NeoConfig.userOptedIntoSSL&&!NeoConfig.isFullSSL&&(a.indexOf("/ws/mail")>-1||a.indexOf("/showMessage")>-1||a.indexOf("/mailsearch/v2/search")>-1)){if(a.indexOf("?")>-1){a+="&ssl=ignore";}else{a+="?ssl=ignore";}}b=new A.Session(a,f,h,c,d);b.setHeader("Content-Type","application/"+(f.responseType||"json"));if(K&&!i.suppressWssid){b.addUrlParam("wssid",K,false);}b.addUrlParam("windowid",NeoConfig.windowId,false);b.callbackData=i.args;if(g){if(P||M.length){I(b);}else{b.send();}}else{e=b.send;b.send=function(){var j=this;j.send=e;if(P||M.length){I(j);}else{e.apply(j);}};}return b;},requestProxy:V,formatQueryParams:function(b,a){return U.formatQueryParams(b,a);},getWssid:function(){return K;},setWssid:function(c){K=c;for(var b=0,a=M.length;b<a;b++){M[b].addUrlParam("wssid",K,false);}},makeFaultObject:R,validate:{"json":N},isHtml:Y,suspend:function(a){P=a;B.fire(Z,a);},resume:function(){P=0;X();B.fire(D);},queue:I,_qsize:function(){return M.length;},_qclear:function(){M=[];},pingTest:function(){B.common.Utils.rocketstats.stat("net","pingTest");}};return J;}();},"1.0.0",{requires:["event-custom-base","common-net-session","common-net-error-base","rocket-stats","json-parse"]});

YUI.add("common-net-error-base",function(B){B.namespace("common.net");var D=B.common,C=D.net,J=D.Utils,A="HTTPError.",I=C.Error=C.Error||{},G=[502,900,12007,12029,12030,12031,13030,0],E=I.handler=[];function F(K){for(var L=0;L<G.length;L++){if(K==G[L]){return true;}}}function H(L,K){K=K&&K.replace(/<br\/>/g,"\n").replace(/<p\/>/g,"\n");K&&window.alert(K);L&&L();}B.mix(I,{base:A,conn:A+"conn",ydod:A+"999",abort:"abort",timeout:"timeout",unknown:"unknown",login:"login",loginfail:"loginfail",parse:"parse",send:"xhrsend",wssid:"invalidwssid",isHttp:function(K){return/^HTTPError/.test(K);},isConn:function(K){return K=="HTTPError.conn";},isUnexpected:function(K,L){return(!F(K)&&I.isHttp(L)&&(K!=2)&&(K!=999)&&(K!=302));},getErrType:function(M,O){var L=O.status,N=C.Status,K,P;if(L!=200&&L!=500){if(L==N.xhr||L==N.maxsize){K=I.send+"."+O.statusText;}else{if(L==N.abort){K=I.abort;}else{if(L==N.timeout){K=I.timeout;}else{if(M.tries==1){P=(L==0||L==302)&&!D.UserSession.same();}K=P?I.login:(F(L)?I.conn:A+L);O.status=P?401:(L==0?13030:L);}}}}return K;},_fireHandlers:function(){arguments[arguments.length-1]();},_handle:function(){var K=arguments;B.use("common-net-error",function(){I._fireHandlers.apply(I,K);});},onError:function(L,M){var K;J.assert(L);if(M){if((K=B.Array.indexOf(E,L))!=-1){E.splice(K,1);}}else{E.push(L);K=1;}return(K>=0);},show:H,showAlert:H});},"1.0.0",{requires:["common-utils","common-user-session"]});

YUI.add("common-net-error",function(D){var L=3,d=D.common,b=d.UserSession,c=d.net,S=d.Utils,i=c.Session,W=c.SessionMgr,e=c.Status,k=c.Error,U=k.handler,l=S.substitute,I=d.persist.UserData,C=d.ui&&d.ui.DialogHelper,g=document.location.href,R=l(strings.str_cfg_url_yahoo_relogin,null,null,null,strings),N=S.rocketstats,Z,T={},j,O,F=null;if(NeoConfig.isCorpmail){R=R.replace(/\?/,"?.partner=ycorp&");}function B(m,Y,p,o,n){o=o||{};D.mix(o,{hd:p||l(strings["str_error_title"],null,null,null,strings),bd:(n?Y:'<div class="dlg-error">'+Y+"</div>")});if(Y){S.assert(C);if(C){C.alert(o,{ok:{handler:m}});}else{k.showAlert(m,Y,p,o);}}else{m&&m();}}function G(m,o,Y,p,n){n=n||{};D.mix(n,{hd:p||l(strings["str_error_title"],null,null,null,strings),bd:'<div class="dlg-error">'+Y+"</div>"});if(Y){S.assert(C);if(C){C.confirm(n,{ok:{handler:m},cancel:{handler:o}});}else{k.showAlert(m,Y,p,n);}}else{m&&m();}}function f(o,Y,u){if(F){W.queue(o);return true;}var t,n=o.id,s,m=T[n]||0,r=Y.fault,p=o.status;function v(x){var w=x&&x.callback;if(x.id==n||(w&&!w.suppressWssid)){delete T[n];D.unsubscribe(t);}}try{if(m==0){t=D.on("net:success",v);}T[n]=++m;if(m==L){r.code=k.wssid;r.message=["wssid net :",W.getWssid(),"resp :",u].join(" ");V({msg:strings.str_error_wstoken,stat:"BadWssid"});return;}else{if(m>=L){N.stat("net","Reload_BadWssid_ignore",null,true);return true;}}if(u){s=b.getState();if(!s.newuser){W.setWssid(u);o.addUrlParam("wssid",u,false);o.send();}else{E();}}}catch(q){}return !!u;}function V(o){var n=o||{},Y=n.url||g,m=n.stat;m&&N.stat("net","Reload_"+m,null,true);B(function(){D.later(0,null,function(){if(Y){window.location=Y;}else{window.location.reload();}});},n.msg,0,{hideClose:true});}function a(n){var Y,m=n.request;if(m.mthd=="GET"){Y=W.request(m.url,W.formatQueryParams(m.urlparams,m.enc),n.callback,"POST",m.enc);Y.send();return true;}return;}function H(n){var Y,o="us",m=n&&['"',strings["str_cfg_url_arc_help"]+"?token=",n,"&.intl=",o,"&property=abuse_ops",'"'].join("");Y=["<p class=userMessage >",strings["str_error_ydod_error"],".<br/>",m?strings["str_error_ydod_token_link"].replace("{linkURL}",m):"","</p>"].join("");B(null,Y,strings["str_error_ydod_title"]);}function E(){V({msg:l(strings.str_error_reload_user_change,{username:I.get("userSendPref.loggedInAlias")},null,null,strings),stat:"UserChange"});}window.reloginCallback=function(){F&&F.destroy();O=F=null;if(b.getState().newuser){D.later(0,null,E);}else{b.update();if(Z){V({url:Z,stat:"HostCorrection"});}else{W.resume();}}D.fire("net:reloginSuccessful");};function J(n,p,Y){if(F){n&&W.queue(n);return true;}function r(){if(O){O.close();}O=window.open(m,"_blank",NeoConfig.loginParams||"height=650,width=850,resizable,scrollbars=yes");}var t=p||{},m=R+g.replace(/[^\/]+([?#]+|$)/,"relogin?"),s=l(strings.str_error_title,null,null,null,strings),q=t.stat||(n&&n.request.url.replace(/http:\/\/[^\/]*/,"")),o={hd:s,bd:'<div class="dlg-error">'+(t.msg||strings.str_error_relogin)+"</div>",suppressActive:true,maskId:"opaque-overlay",noScroll:true,hideClose:true,disableEsc:true};if(n&&n.id==j){S.assert(0,"cyclic login");if(Y&&Y.fault){Y.fault.code=k.loginfail;}N.stat("net","ReloginCyclic_"+q);S.netError("net:ReloginCyclic_"+[D.JSON.stringify(n.request),Y.responseText,n.id,j].join(" : "));return false;}Z=t.url;S.assert(C);N.stat("net","Relogin_"+(q||"unk"));S.netError("net:Relogin"+[D.JSON.stringify(n.request),Y.responseText,n.id,j].join(" : "));if(C){C.alert(o,{ok:{handler:r,stopDestroy:true,text:strings.str_error_signin}},function(u){F=u;W.suspend("relogin");j=(n&&n.id)||-1;n&&W.queue(n);});}return true;}function Q(Y,p,o){var m=p.responseHeaders,n=p.responseText||strings["str_error_Connect"];if(Y==302&&m&&m.Location){window.open(m.Location);}else{if(!o){X(Y,p,{message:n});}}}function X(n,q,r){function o(t,v){var u,s={success:function(x){v(x.responseText);},failure:function(){v(S.escapeHtml(t));},suppressCodes:["*"],timeout:10000},w="content="+encodeURIComponent(t)+"&restrictOff=true";u=W.request("/om/yiv/om_yiv.php",w,s,"POST");u.setHeader("Content-length",w.length);u.setHeader("Connection","close");u.send();}function m(u){var s,t=k.isConn(p),w=(r&&r.title&&l(r.title,null,null,null,strings))||l(strings["str_error_"+(t?"UnexpectedTitle":"MailErrorTitle")],q),v=Y||strings["str_error_"+(t?"Connect":"MailUnexpectedResponse")];s=[l(v,null,null,null,strings)];u&&s.push("<div>"+u+"</div>");s=s.join("");B(null,s,w,(s.length>1000)&&{modal_classes:"lg",focusedNode:".default"},true);}var Y=r&&r.message,p=q.fault.code;if(k.isUnexpected(n,p)&&W.isHtml(q)){o(q.responseText,m);}else{m();}}function K(m){var Y=m.match(/[\&\?(amp;)>]wssid=([^<\&}\"]+)/i)||m.match(/^wssid=([^<\&}\"]+)/i)||m.match(/<WSSID>([\w\W]+)<\/WSSID>/i);return(Y&&Y[1]);}function P(o,m,n){var Y,p;for(Y=0;m&&Y<m.length;Y++){p=m[Y];if(p=="*"||n(p)){return false;}}for(Y=0;o&&Y<o.length;Y++){p=o[Y];if(p=="*"||n(p)){return true;}}}function h(v,q,o,m,s,t){var w=m.callback||{},Y,y,p,u=m.fault,n=u&&u.code,x=k.isConn(n),r=P(w.suppressCodes,w.exceptCodes,function(z){return q==z;});switch(q){case 402:Y=f(o,m,s);break;case 401:Y=J(o,s,m);t=false;break;case 310:Y=V(s);break;case 999:if(!r){H(s);}break;case e.maxsize:Y=a(m);break;case e.abort:break;case 302:case 13030:Q(q,m,r);break;case e.xhr:y=true;default:if(!r||m.fault.code.indexOf("-unk")>-1){X(q,m,s);}break;}if(t&&!Y){p=x?"E_HTTPConnect":(y?"E_XHR":"E_HTTP");N.stat("net",p);N.stat("net",[p,(w.service||"service"),(w.method||"method"),q,n].join("_"));}v.done(Y);}function A(q,n,m,p,t,o){var Y=p||m.status,r=t||(Y==402?K(m.responseText):(Y==999?null:m));h(q,Y,n,m,r,o);}k._fireHandlers=function(){var o,Y,n,p=new c.ErrorEvent(arguments,A,k),m=[p];for(o=0,Y=arguments.length-1;o<Y;o++){m.push(arguments[o]);}for(o=0;o<U.length;o++){if(p.isdone()||(n=U[o].apply(this,m))){break;}}if(!(p.isdone()||n===p.asyncval)){p.callDefault(null,null,1);}};var M=function(){var n=R+g.replace(/[^\/]+([?#]+|$)/,"relogin?"),Y=function(){if(O){O.close();}O=window.open(n,"_blank",NeoConfig.loginParams||"height=650,width=850,resizable,scrollbars=yes");
},o=l(strings.str_error_title,null,null,null,strings),m={hd:o,bd:'<div class="dlg-error">'+(strings.str_error_relogin)+"</div>",suppressActive:true,maskId:"opaque-overlay",noScroll:true,hideClose:true,disableEsc:true};if(C){C.alert(m,{ok:{handler:Y,stopDestroy:true,text:strings.str_error_signin}},function(p){F=p;W.suspend("relogin");});}};D.mix(k,{relogin:J,simpleRelogin:M,show:B,showConfirm:G,suppress:P,_handle:function(){k._fireHandlers.apply(k,arguments);},_parseWssid:K},true);},"1.0.0",{requires:["common-net-error-base","common-net-errorevent","common-net-sessionmgr","common-ui-dialog-helper","json-stringify","rocket-stats","common-persist-user-data"]});

YUI.add("common-net-errorevent",function(C){C.namespace("common.net");var B=C.common.net;var A=function(D,F,E){var G=this;G.args=D;G._def=function(H){if(F){F.apply(E,H);}else{G.done();}};};A.prototype={async:function(D){var E=this;if(!E.timer){E.timer=C.later(NeoConfig.timerErrEv||10000,null,function(){if(!E.isdone()){if(D){D();}else{E.callDefault(null,null,1);}}});}return -1;},asyncval:-1,callDefault:function(H,I,G){var F,D,E,J=this;if(!J._h){E=J.args;D=[J];for(F=0;F<E.length-1;F++){D.push(E[F]);}D.push(H);D.push(I);D.push(!!G);J._def(D);}},isdone:function(){return this._h;},done:function(D){var E,F=this;F.timer&&F.timer.cancel();if(!F._h){F._h=true;F.retry=D;if(!D){E=F.args;E[E.length-1]();}}}};B.ErrorEvent=A;},"1.0.0",{requires:[]});

YUI.add("common-persist-neo-data",function(B){var A=B.namespace("common.persist");function C(D){var E={cookieDomain:{writeOnce:true},cookiePath:{writeOnce:true},cookieID:{writeOnce:true},servername:{writeOnce:true},farm:{writeOnce:true},wssid:{writeOnce:true},neoguid:{writeOnce:true},hasAds:{writeOnce:true},om:{writeOnce:true},global_url_base:{writeOnce:true},extraURLArgs:{writeOnce:true},mailnetQueue:{writeOnce:true}};this.addAttrs(E,D);}B.augment(C,B.Attribute);A.NeoData=new C(window.NeoConfig);},"1.0.0",{requires:["attribute"]});

YUI.add("common-persist-cookie-data",function(F){var E=F.namespace("common.persist");var G=E.NeoData;E.Cookies=[];var D="YM.NEO_"+G.get("cookieID");function B(H){H=H||D;if(E.Cookies[H]){return E.Cookies[H];}E.Cookies[H]=new A(H);return E.Cookies[H];}function C(H){H=H||D;F.Cookie.remove(H,{domain:G.get("cookieDomain"),path:G.get("cookiePath")});if(E.Cookies[H]){delete E.Cookies[H];}}function A(H){this.name=H;if(F.Cookie.get(this.name)===null){if(this.name!="T"&&this.name!="Y"){F.Cookie.set(this.name,"",this.getCookieArgs());}}else{var I=G.get("cookiePath");if(I&&I.length>2&&I[I.length-1]=="/"){I=I.slice(0,I.length-1);F.Cookie.remove(H,{domain:G.get("cookieDomain"),path:I});}}}A.prototype.getCookieArgs=function(){return{expires:new Date((new Date()).getTime()+(90*24*60*60*1000)),domain:G.get("cookieDomain"),path:G.get("cookiePath")};};A.prototype.set=function(H,I){return F.Cookie.setSub(this.name,H,I,this.getCookieArgs());};A.prototype.get=function(H){return F.Cookie.getSub(this.name,H,this.getCookieArgs());};A.prototype.remove=function(H){return F.Cookie.removeSub(this.name,H);};F.augment(A,F.Attribute);E.getCookie=B;E.removeCookie=C;if(NeoConfig.intl==="jp"){F.use("common-persist-cookie-data-jp",function(H){E.Cookie=E.CookieJp;E.getCookie=E.getCookieJp;E.removeCookie=E.removeCookieJp;});}},"1.0.0",{requires:["cookie","attribute","common-persist-neo-data"]});

YUI.add("common-persist-user-data",function(A){A.namespace("common.persist");function H(J){this.attributeConfig={userFeaturePref:{},userUIPref:{},userSpamPref:{},userVacationPref:{},userSendPref:{},userPopPref:{},externalAccounts:{},disposableAddresses:{},aliases:{},otherYahooMboxes:{},blockedAddresses:{},switches:{},parentalControls:{},filters:{},loaded:{value:false}};this.addAttrs(this.attributeConfig,J);if(J){this.set("loaded",true);}else{this.load();}}H.prototype.load=function(K){var J,L=this;A.mail.net.Transport.request("GetUserData",{bidiDetection:NeoConfig.bidi},{success:function(M){M=M.body.result.data;for(J in M){L.set(J,M[J]);}L.set("loaded",true);if(K){A.fire("uData:change",M);}},failure:function(){}},true);};H.prototype.update=function(J){if(A.mail.ui.Workspace){A.mail.ui.Workspace.moUpdate(J);}};H.prototype.saveOne=function(N){var J,M,L,K,P={},O=this.get(N);M=N.split(".");L=M.length-1;K=P;for(J=0;J<L;J++){K[M[J]]={};K=K[M[J]];}K[M[J]]=O;this.saveRequest(P);};H.prototype.save=function(){var M={},K,J,L=["userFeaturePref","userUIPref","userSpamPref","userVacationPref","userSendPref","userPopPref","blockedAddresses","switches","aliases"];for(J in L){K=L[J];if(K==="aliases"){M.alias=this.get("aliases.alias");}else{if(K==="userPopPref"){if(this.get(K+".popSetupEligible")){M[K]=this.get(K);}}else{M[K]=this.get(K);}}}this.saveRequest(M);};H.prototype.saveRequest=function(J){A.mail.net.Transport.request("SetUserData",{setdata:J},{success:function(){},failure:function(){}},true);};H.prototype.knownAddresses=null;function I(S){var R={},M=S.get("userSendPref.defaultFromAddress").toLowerCase(),O=S.get("externalAccounts.extAccount")||[],K=S.get("aliases.alias")||[],N=S.get("disposableAddresses").deaName||[],L=function(U){var T=U.address;if(T&&T!==""){R[T.toLowerCase()]=1;}},Q="Change",P="knownAddress|";function J(){S.knownAddresses=null;S.detach(P+"*");}R[M]=1;A.Array.each(O,L);A.Array.each(K,L);A.Array.each(N,L);S.after(P+"userSendPref"+Q,J);S.after(P+"externalAccounts"+Q,J);S.after(P+"aliases"+Q,J);S.after(P+"disposableAddresses"+Q,J);return R;}H.prototype.isUsersEmailAddress=function(J){var K=this;if(!K.knownAddresses){K.knownAddresses=I(K);}return K.knownAddresses[J.toLowerCase()];};A.augment(H,A.Attribute);if(NeoConfig.userDataObj){var F=NeoConfig.userDataObj.userSendPref,G=NeoConfig.userDataObj.externalAccounts,D=A.common.Utils.unescapeHtml;if(F){F.defaultFromName=D(F.defaultFromName);}if(G){var C=G.extAccount;if(C){var E=0,B=C.length;for(;E<B;E++){C[E].fromName=D(C[E].fromName);C[E].username=D(C[E].username);}}}}A.common.persist.UserData=new H(NeoConfig.userDataObj);},"1.0.0",{requires:["attribute","mail-net-transport","json","common-utils"]});

YUI.add("common-ui-tabs-base",function(F){var B=F.Node.one,D=F.Node.create,E=F.Lang,A=false;var C=new function(){var I=this,W="div.tabs ul",h="#shellcontent",T="active",N,b,j,M=[],p,R=F.ui.Templates.minty_module_tabs_tab_removable.base,V=F.common.Utils.substitute,Z=F.common.Utils.unescapeHtml,L=F.common.Utils.removeHtml,H=0,G=F.config.win||window,X=[219,221],o,Q=20,U=70,n="hidden",K,r;var Y=function(AC){var AL=this,y=F.guid(),AC=AC||{},AE=AC.label||"",AB=AC.url||"#",AK=AC.content||"",AA=AC.widget,AF=AC.forcePane,AM=AC.yTabEl||D(V(R,{tab_url:AB,tab_id:y,tab_label:AE},null,null,strings)),z=AM.one("a"),AD=AC.yTabContentEl||D('<div style="visibility:hidden;'+(H?"display:none;":"")+'" '+(!H&&F.UA.webkit?'class = "offscreen"':"")+">"+AK+"</div>"),AJ={},AP,AI=F.one('#main[role="tabpanel"]'),AH;if(AC.yTabEl){y=AC.yTabEl.one("a").get("id");}if(AD&&AC.inactive){AD.setStyle("visibility","hidden");w(AD,false);AD.removeClass("hidden");}if(AA){AA.render(AD);}this.cfg=AC;this.elTab=AM;this.invisible=AC.invisible;this.reuse=AC.reuse;this.widget=AA;this.elContent=AD;this.noDefault=AC.noDefault?true:false;this.allowFullpage=!AC.forcePane;this.userClose=false;AL.addTabEl();if(AE){this.NAME=AE+" Tab";}if(!AC.yTabContentEl){j.appendChild(AD);}z.setAttrs({tabIndex:-1,"aria-selected":false});Y.superclass.constructor.call(AL);function AG(AS){var AQ=AS.newVal;if(AQ){if(!AL.widget&&AC.init){AS.halt(true);AC.init(AL,function(){if(AL.widget){AL.widget.render(AD);AL.set("widget",AL.widget);AL.set("active",1);}});return;}N=AL;AM.addClass(T);z.setAttrs({"aria-selected":true,tabIndex:0});try{AI.set("aria-labelledby",z.get("id"));}catch(AR){}l(AL);F.fire("tabChange",AL.widget);}else{F.fire("tabBlur",{widget:AL.widget});if(F.UA.ie){if(!H){x();}AD.setStyle("display","none");}else{AD.setStyle("visibility","hidden");w(AD,false);}AM.removeClass(T);z.setAttrs({"aria-selected":false,tabIndex:-1});}}function AN(AQ){if(AQ.newVal==1){k(AL,{SwitchTab:(AL==N)});AM.hide();AD.hide();}}function x(AS){var AV,AU,AT,AR=AL.widget?AL.widget.scrolling||[]:[],AQ=AR.length;for(AT=0;AT<AQ;AT++){AV=AR[AT];AU=AD.test(AV)?AD:AD.one(AV);if(AU){AU=F.Node.getDOMNode(AU);if(AS){if(AJ[AV]>0){AU.scrollTop=AJ[AV];}}else{AJ[AV]=AU.scrollTop;}}}}function v(AQ){if(H&&!AQ){F.UA.ie?setTimeout(function(){G.scrollTo(0,0);},0):G.scrollTo(0,0);}}function w(AR,AQ){if(H){AR.setStyle("display",AQ?"block":"none");}else{if(F.UA.webkit){AQ?AR.removeClass("offscreen"):AR.addClass("offscreen");}}}function AO(AQ){var AR=AM.one("a#"+y+" b")||AM.one("a.uc b")||AM.one("a#"+y)||AM.one("a.uc"),AU=AM.one("a#"+y)||AM.one("a.uc"),AT,AS;if(AR&&E.trim(AR.get("text"))!=E.trim(AQ)){if(AQ.indexOf("::")>=0&&NeoConfig.isFresh){AT=AQ.split("::");AR.setContent(AT[0]);AQ=AT[0]+" <i>("+AT[1]+")</i>";}else{AR.setContent(AQ);}AS=Z(L(AQ));AU.setAttribute("title",AS);t(0,100);}AE=AQ;AL.NAME=AE+" Tab";}function i(AR){var AQ=AM.one("a#"+y)||AM.one("a.uc");AQ&&AQ.setAttribute("dir",AR);}AM.on("keydown",function(AQ){if(AQ.keyCode=="13"){m(AL);}});AM.on("mousedown",function(AQ){AQ.preventDefault();F.fire("tab:mousedown",AL);if(AL.get("active")!=1){m(AL);}},AL);AM.on("click",function(AQ){AQ.preventDefault();});AL.closeNode=AM.one("span.close-tab");if(AL.closeNode){AL.closeNode.on("mousedown",function(AQ){AQ.halt();AL.set("close",1);},AL);}AL.after("closeChange",function(AR){var AS=AR.newVal,AQ=AL.get("reuse");if(AS){if(AQ){AM.addClass("hidden");AD.addClass("hidden");}else{AD.remove(true);AM.remove(true);AL.closeNode.detachAll();AL.detachDarla();AL.detachAll();}k(AL,{SwitchTab:(AL==N)});}else{if(AQ){AM.removeClass("hidden");AD.removeClass("hidden");}}t(0,1000);},AL);AL.on("activeChange",AG);AL.after("activeChange",function(AQ){if(AQ.newVal){if(F.UA.ie){if(!AP&&AD.getStyle("visibility")=="hidden"){AD.setStyle("visibility","visible");AP=1;}AD.setStyle("display","block");if(!H){x(1);}}else{AD.setStyle("visibility","visible");w(AD,true);}if(!AL.isContained){AL._focus();}v(AQ.noScroll);if(NeoConfig.backButton&&(typeof window.history.state==="object")){if(this.widget.hasMsgList===true&&this.widget.fid==="Inbox"){window.history.state&&window.history.go(-1);}else{if(escape(this.label)!="WHAT%27S%20NEW"){window.history.state?window.history.replaceState({id:"1"},document.title,"#mail"):window.history.pushState({id:"1"},document.title,"#mail");}else{if(escape(this.label)==="WHAT%27S%20NEW"){window.history.state&&window.history.replaceState({id:"1"},document.title,window.location.pathname+window.location.search);}}}}}});AL.on("unloadingChange",AN);AL.on("titleChange",function(AQ){if(AQ.oldVal!=AQ.newVal){AO(AQ.newVal);}});AL.on("directionChange",function(AQ){if(AQ.oldVal!=AQ.newVal){i(AQ.newVal);}});AL.on("closeHalted",function(AQ){if(AL!=N){m(AL);}});AL.after("closeHalted",function(AQ){F.use("common-ui-dialog-helper",function(AR){setTimeout(function(){var AS={hd:strings["str_modal_tabdeactivate_title"],bd:strings["str_modal_tabdeactivate_body"]},AT=function(){AL.set("forceClose",1);AL.set("reuse",0);AL.set("close",1);};AR.common.ui.DialogHelper.confirm(AS,{ok:{handler:AT},cancel:{}});},0);});});AL.before("widgetChange",function(AU){var AT=AU.newVal,AS=AU.prevVal,AR={},AV=false,AQ=function(){var AW;F.detach(AL.widget._evt["widgetChange-Active"]);if(AV){AW=AT.get("rootNode");AW&&AW.removeClass("hidden");}else{AW=AL.widget.get("rootNode");AW&&AW.addClass("hidden");}AL.widget=null;AL.once("widgetChange",function(){AS.set("skipEvents.active-1",true);AT.set("active",1);if(!AV){AT.render(AL.elContent);}});AL.detachDarla();AL.set("widget",AT);};if(AL.widget&&AL.widget!=AT){AU.halt(true);AL.iterateChildren(function(AW){if(AW==AT){AV=true;}});if(!AV){AL.set("children",AL.get("children").concat([AT]));}if(AL.widget._evt["widgetChange-Active"]){F.detach(AL._evt["widgetChange-Active"]);}AL.widget._evt["widgetChange-Active"]=AL.widget.after("activeChange",AQ);AR=AT.get("skipEvents");delete AR["active-1"];AT.set("skipEvents",AR);if(AL.widget.get("active")){AL.widget.set("active",0);}else{AQ();}}else{AL.widget=AT;AL.widget.tab=AL;
if(!AL.get("children").length){AL.set("children",[AT]);}}},AL);F.mix(AL,{widget:AA});AL.addAttrs({id:{value:y},title:{},direction:{setter:i},widget:{setter:function(AQ){AL.attachDarla();}},children:{value:[AL.widget]}});};F.extend(Y,F.mail.ui.BaseWidget);F.mix(Y.prototype,{NAME:"Tab",addTabEl:function(){var i=this;if(!i.invisible&&!i.cfg.yTabEl){i.elTab.setStyle("visibility","hidden");b.insert(i.elTab,o);setTimeout(function(){i.elTab.setStyle("visibility","visible");},10);}},attachDarla:function(){var i=this;if(!i.darlaEvent&&i.widget){i.darlaEvent=i.widget.on("darlaEvent",function(v){v.beaconOnly=!i.widget.get("active");F.fire("darlaEvent",v);F.fire("mt:view",v);});}},detachDarla:function(){var i=this;i.darlaEvent&&i.darlaEvent.detach();i.darlaEvent=null;}});function s(){b=B(W);j=B(h);b.plug(F.comms.ui.NodeFocusBase,{descendants:"a",keys:{next:"39",previous:"37"}});o=b.one(".tab-overflow");o.once("click",function(i){F.use("common-ui-tabs-overflow");i.preventDefault();});F.on("windowresize",function(){t(1);});F.on("pagemodeChange",function(i){d(i);});F.on("tabview:handleKeyDown",J);F.on("key",J,document,"down:"+X.join("+ctrl,")+"+ctrl",I);F.on("key",J,document,"down:"+X.join("+meta,")+"+meta",I);}function O(v,w){var i;if(v.tab){v.tab.addTabEl();v.tab.set("title",v.label);}w.label=v.label;i=P();w.prevTabId=i?i.get("id"):-1;if(v.widget&&v.widget!=w.get("widget")){w.set("widget",v.widget);}M.push(w);if(!v.yTabEl){t(0,((F.UA.ie==8||F.UA.ie==7)?100:0));}b.fire("refresh");w.fire("tab:add",{cfg:v,tab:w});}function e(i){return new Y(i);}function m(v,i){if(N&&(N==v)){if(!N.get("active")){N.set("active",1);}A=false;return;}if(N&&A&&N!=v){if(!N.get("active")){A=false;}return;}if(!N||v.get("active")){N=v;if(!N.get("active")){N.set("active",1);}A=false;return;}if(N._evt["switchToTab-deactivateOldTab"]){F.detach(N._evt["switchToTab-deactivateOldTab"]);delete N._evt["switchToTab-deactivateOldTab"];}N._evt["switchToTab-deactivateOldTab"]=N.after("activeChange",function(w){F.detach(N._evt["switchToTab-deactivateOldTab"]);delete N._evt["switchToTab-deactivateOldTab"];if(w.newVal){return;}if(v._evt["switchToTab-activateNewTab"]){F.detach(v._evt["switchToTab-activateNewTab"]);delete v._evt["switchToTab-activateNewTab"];}v._evt["switchToTab-activateNewTab"]=v.after("activeChange",function(){F.detach(v._evt["switchToTab-activateNewTab"]);delete v._evt["switchToTab-activateNewTab"];A=false;i&&i(v);});F.fire("tabDeactivated",v);v.set("active",1);});if(N.get("active")){A=true;q();N.set("active",0);}else{A=false;}}function q(){if(N._evt["switchToTab-activeHaltedOldTab"]){F.detach(N._evt["switchToTab-activeHaltedOldTab"]);delete N._evt["switchToTab-activeHaltedOldTab"];}N._evt["switchToTab-activeHaltedOldTab"]=N.once("activeHalted",function(i){F.detach(N._evt["switchToTab-activeHaltedOldTab"]);delete N._evt["switchToTab-activeHaltedOldTab"];A=false;});}function k(y,AC){var AD=0,z,AB,x=y.get("id"),w,AA=y.get("active"),v,AE=y.prevTabId;while(z=M[AD++]){w=z.get("id");if(x===w){I.tabs=M=M.slice(0,AD-1).concat(M.slice(AD));AD--;continue;}if(w==AE){v=z;}}if(!v){AB=M.length-1;while(AB>0){if(M[AB]&&M[AB].noDefault){AB--;}else{break;}}v=M[AB]||M[0];}if(AC.SwitchTab){N=null;F.fire("tabDeactivated",v);m(v,function(){b.fire("refresh");});}}function f(x){var v,y=M.length;while(y--){v=M[y].widget||{};if(x(v,M[y])){return M[y];}}}function S(AB,AE){var AD,AC=M,x=AE?-1:AC.length,z=AE?AC.length-1:0,v=AE?-1:1,AA=AC.length,y;for(y=z;y!=x;y+=v){if(AB(AC[y])){break;}}}function u(i){return(!i||!i.widget||!i.widget.get||i.widget.get("canDeactivate"));}function P(){return N;}function c(){var w,v;for(v=M.length;v--;){w=M[v];if(w&&w.get("active")){return v;}}return -1;}function J(y){var x=y.keyCode,w=y.metaKey,v=y.ctrlKey;function i(AA){var z=c();if(z!=-1){z=z+(AA?-1:1);if(z<0){z=M.length-1;}else{if(z>=M.length){z=0;}}}else{z=0;}y.halt();if(M[z]){m(M[z]);}}switch(x){case 219:if((w||v)&&!y.shiftKey&&!y.altKey){i(true);}break;case 221:if((w||v)&&!y.shiftKey&&!y.altKey){i(false);}break;}}function a(){s();}function d(v){var i=P();H=v;if(i){l(i);}}function l(w){var v=F.one("body"),x=H&&w.allowFullpage?"fullpage":"panescroll",i=v.hasClass("panescroll")?"panescroll":v.hasClass("fullpage")?"fullpage":"none";if(x!==i){if(i=="none"){F.one("body").addClass(x);}else{F.one("body").replaceClass(i,x);}}}function g(z){var y=F.one("div.tabs"),i=y.all("li").size()-1,x=F.one(".nav-bar").get("clientWidth"),z=z||parseInt(y.getStyle("paddingRight")),v=parseInt(y.getStyle("paddingLeft"))+z+10+Q,w=parseInt(Math.min((x-v)/i,160))-1;p={"tabCount":i,"totalPadding":v,"workingWidth":x-v,"width":w};}function t(i,v){v=v||0;if(K){K.cancel();}K=E.later(v,this,function(){K=0;F.use("stylesheet",function(y){var w=160,x=110;if(!p){g();}else{p.tabCount=M.length;if(i){p.workingWidth=y.one(".nav-bar").get("clientWidth")-p.totalPadding;}p.width=parseInt(Math.min(p.workingWidth/p.tabCount,w))-1;if(p.width<=x){o.removeClass(n);}else{o.addClass(n);}}y.StyleSheet("TR").set(".nav-bar .tabs li",{maxWidth:p.width+"px"});y.mail.Tabs.maxTabsReached=(p.width<U||(y.UA.ie==7&&M.length>14))?1:0;});});}F.augment(I,F.Attribute);F.mix(I,{render:a,createTab:e,addTab:O,switchToTab:m,removeTab:k,setPageMode:d,cfgTabResize:g,tabs:M,getTab:f,iterateTabs:S,getActiveTab:P,getActiveTabIndex:c,canDeactivateTab:u});}();F.namespace("mail");F.mail.Tabs=C;},"1.0.0",{requires:["mail-ui-basewidget","minty_module_tabs_tab_removable","comms-ui-nodefocus-base","common-utils"]});

YUI.add("common-ui-toolbar-base",function(G){G.Node.DOM_EVENTS.beforedeactivate=1;var A=strings["str_msg-view_btn_hidepreview"],D=strings["str_msg-view_btn_showpreview"],C;G.augment(E,G.Attribute);function E(J){var R=this,P=0,U,W,H,V,T=null,L=null;J=J||{};U=J.root;W=J.template;H=J.menu;R.root=U;R.addAttrs({content:{value:U,getter:N},close:{setter:Q},active:{}});R._evts=[];if(U){K();X();}function X(){U.all(".btn a").each(function(Y){Y.setAttribute("role","button");});U.all(".menu a").each(function(Y){Y.setAttribute("aria-haspopup","true");});U.all(".btn a i").each(function(Y){Y.setAttribute("role","presentation");});}function I(Y){var Z=U?U.one("#btn-togglepreview a"):0;if(Z){Z.setContent(Y?A:D);}}function N(){if(!U&&W){U=G.Node.create(G.common.Utils.substitute(W,0,0,0,strings));R.root=U;R.set("content",U);X();}if(!P){K();}return U||"&nbsp;";}function K(){if(U){R._evts.push(G.on("toolbar:ui-automation",O));U.delegate("mousedown",function(Z){if(G.UA.ie&&G.UA.ie<=8){document.activeElement&&G.one(document.activeElement).once("beforedeactivate",function(a){a.preventDefault();});}else{Z.preventDefault();}},".btn a");U.on("click",function(a){if(!G.common.Utils.isProcessDefaultEnabled(a)){a.preventDefault();}if(!C){var Z=((a.target!=U)&&a.target.one("a"))?{target:a.target.one("a"),currentTarget:a.currentTarget}:a;dataAction=G.common.Utils.getDataAction(Z),action=dataAction.action,node=dataAction.node,target=a.target;S(action,node,target,a);C=setTimeout(function(){C=0;},300);}});R.on("activeChange",function(Z){if(Z.newVal){G.fire("toolbar:refresh");}});var Y=U?U.one("#btn-togglepreview a"):0;if(Y){V=G.on("ws:previewChange",I);}P=1;}}function O(a,Y){var Z;if(R.get("active")&&a=="menu"){Z=U.one("#btn-"+Y);if(Z){if(!Z.menu){S(a,Z);}else{if(Z.menu.show&&R.buttonEnabled({root:U,node:Z})){R.setNodeButtonMenu({node:Z});Z.menu.show();}}}}}function S(a,Z,c,d){var g=a,Y=Z.get("id"),e={},f,b=0;if(a){if(a=="menu"&&H&&R.buttonEnabled({root:U,node:Z})){if(!(Z.menu)){G.use("common-ui-menu-helper",function(i){var h=i.common.ui.MenuHelper;h.createLoadingMenu(Z);H.template.call(this,Y,function(){M(Z);});});}(Y=="btn-actions"||Y=="btn-msg-actions")&&G.fire("darlaEvent",{action:"action_menu"});g+=Y;switch(Y){case"btn-new":e.action="compose_menu_toolbar";G.fire("mt:click",e);break;}}else{R.fire("itemSelected",{dataAction:a,item:c,rawEvent:d});}if(a==="menu"&&Y!=="btn-new"){f=c&&c.ancestor(".list-view-footer");if(G.mail.Tabs.getActiveTab().get("widget").type=="messagepane"){e.append={sec:(f)?"msgReadTlbrBtm":"msgReadTlbr"};b=1;}e.action="tlbr_"+g;if(f){e.action+="_btm";}G.fire("mt:click",e);switch(e.action){case"tlbr_menubtn-spam":case"tlbr_menubtn-spam_btm":e.action=e.action.replace("tlbr_menubtn-spam","spam_menu");if(b){e.action+="_msg_read";}G.fire("mt:view",e);break;}}}}function M(Y){G.use("common-ui-menu-helper",function(d){var c=Y.get("id").replace("btn-","menu-"),b=d.one("#"+c),a=d.common.ui.MenuHelper,Z={menu:b,button_enabled:function(){return R.buttonEnabled({root:U,node:Y});},keys:function(e){H.keys.call(this,b,e);},enterAccel:function(e){H.enterAccel.call(this,e);}};if(c==="menu-move"){Z.fixedMenuGroup={menu:"menu-move-folder",height:275};}a.create(Y,Z,function(){var e;b.on("menuSelected",function(f){R.fire("itemSelected",{dataAction:f.dataAction,item:f.item});});b.on("menu:state",function(f){if(f.state=="show"&&R.buttonEnabled({root:U,node:Y})){R.setNodeButtonMenu({node:Y});Y.addClass("pressed");}else{Y.removeClass("pressed");}});Y.addClass("pressed");e=R.on("activeChange",function(f){if(!f.newVal){Y.menu&&Y.menu.hide();Y.unplug(d.Plugin.Menu);e.detach();}});R.setNodeButtonMenu({node:Y});});});}function Q(Z){if(Z){if(V){V.detach();}for(var Y in R._evts){G.detach(R._evts[Y]);}R.get("content").destroy(true);R.get("content").remove(true);R.detachAll();}}}function B(H){return true;}G.mix(E.prototype,{buttonEnabled:B,setNodeButtonMenu:B});G.namespace("mail.ui").Toolbar=E;var F=function(){var H=G.one("#toolbar");if(H){H.plug(G.comms.ui.NodeFocusBase,{descendants:"span.btn a",keys:{next:"39",previous:"37"}});G.on("toolbar:refresh",function(){H.fire("refresh");});}};G.mail.ui.ToolbarContainer=new F;},"1.0.0",{requires:["attribute","event-custom-base","common-utils","comms-ui-nodefocus-base"]});

YUI.add("common-ui-contentwidget",function(A){var C=0,B=function(){},E={"input":1,"textarea":1,"select":1},I=null,G=function(J){if(J&&J.hasAttribute){try{if(!J.hasAttribute("tabIndex")){J.setAttribute("tabIndex","0");}}catch(K){}}return J;},F=function(Q,K,P){var R=Q?Q.split(","):[],M=R?R.length:0,J,N={},O,L;for(J=0;J<M;J++){O=R[J].split("+");L=O[1];O=O[0];N[O]=1;if(L){P.push(R[J]);}else{K.push(O);}if(O>=48&&O<=57){K.push(parseInt(O)+48);}}if(N["46"]){K.push("8");}},D=function(J){var K=this;if(!this.NAME){this.NAME="ContentWidget";}K.accelKeyHandle=[];K.accelLocalKeyHandle=[];A.augment(K,A.Attribute);K.addAttrs({"active":{setter:K._active},"reuse":{value:0},"close":{setter:K._close},"skipEvents":{value:{}},"contentToolbar":{setter:K._setContentToolbar},"parentNode":{},"rootNode":{setter:K._setRoot},"focus":{setter:K._setFocus},"dirty":{getter:K._getDirty},"children":{setter:K._setChildren,value:[]},"focusNode":{setter:G},"forceClose":{value:0},"canClose":{value:1,getter:K._canClose,setter:function(L){this._canCloseFlag=L;}},"forceDeactivate":{value:0},"canDeactivate":{value:1,getter:K._getCanDeactivate,setter:function(L){this._canDeactivateFlag=L;}},"title":{},"direction":{},"navToolbar":{},"navKeys":{},"charCodes":{},"localCharCodes":{},"handleKeysLocally":{}},J||{},true);K._evt={};K.before("closeChange",function(N){var L=N.newVal,M=K.get("active")||0;if(N.newVal&&!(K.get("forceClose")||K.get("canClose"))){K.fire("closeHalted");N.halt(true);return;}if(M==L&&!K.get("reuse")){N.halt(true);if(K._evt["deactivateB4Close"]){A.detach(K._evt["deactivateB4Close"]);}K._evt.deactivateB4Close=K.after("activeChange",function(O){K.set("close",L);});K.set("active",!L);}});K.on(["closeChange","reuseChange","activeChange","forceCloseChange","forceDeactivateChange"],function(S){var M=S.attrName,L=S.newVal,R=S.type,P=0,Q=K.get("children").length,O,N;if(K.get(M)==L){S.halt(true);return;}if(M=="active"&&!L&&!(K.get("forceDeactivate")||K.get("canDeactivate"))){if(K._evt["deactivateB4Close"]){A.detach(K._evt["deactivateB4Close"]);}K.fire("activeHalted");S.halt(true);return;}O=function(){if(P==Q&&K.get(M+"Flag")){if(N){if(K._evtAfterAction){A.detach(K._evtAfterAction);}K._evtAfterAction=K.after(R,function(){K.set(M+"Flag",0);});K.set(M,L);}else{K.set(M+"Flag",0);}}};K.set(M+"Flag",1);K.iterateChildren(function(U){var T=U.get("skipEvents."+M+"-"+(L&&1));if(U.get(M)!=L&&!T){if(U._myActionEvt){A.detach(U._myActionEvt);}U._myActionEvt=U.after(R,function(){P++;O();});U.set(M,L);}else{P++;}},K);if(K.get(M+"Flag")&&Q&&Q!=P){N=1;S.halt(true);return;}});K.after("closeChange",function(M){var L=function(N){N.detachAll();N.ondestroy();N=null;delete N;};if(M.newVal&&!K.get("reuse")){setTimeout(function(){try{K.iterateChildren(L);if(!K.parentCW){L(K);}}catch(N){A.error("An error occurred in the clean up phase of this contentWidget",N);}},500);}});K.after("activeChange",function(M){if(M.newVal){var L=K.get("contentToolbar");K.set("contentToolbar",L?L:"");L=K.get("navToolbar");if(L){K.set("navToolbar",L);}K.set("navKeys",K.get("navKeys"));}});},H=function(O){var K=this.NAME,J=false;C--;if(A.Lang.isString(O)&&O.length>1){K=O;}try{var N=this;for(var L in N){if(N.hasOwnProperty(L)){if(N[L] instanceof A.Node){}N[L]=null;}}L=null;N=null;J=true;}catch(M){}K=null;return J;};A.mix(D.prototype,{keyHandle:null,localKeyHandle:null,accelKeyHandle:null,accelLocalKeyHandle:null,bound:null,ondestroy:function(){H.apply(this,arguments);},iterateChildren:function(K){var O=this,N,M=O.get("children"),J=M.length,L;for(L=0;L<J;L++){N=M[L];if(N instanceof D){K.call(O,N,L);}else{}}},addChild:function(L){var K=this,J=false;if(!L||!(L instanceof D)){return;}K.iterateChildren(function(M){if(M==L){J=true;return;}});if(!J){K.set("children",K.get("children").concat([L]));}},removeChild:function(K){var L=this,J=function(N){var M=[];if(N.newVal){L.iterateChildren(function(O){if(O==K){O.parentCW=null;return;}M.push(O);});L.set("children",M);}};if(K.get("close")){J({newVal:1});}else{K.once("closeChange",J);K.set("close",1);}},_active:function(K){var L=this,J=L.get("contentToolbar");if(K){if(!L.isContained){I=L;}if(!L.get("active")){setTimeout(function(){if(L.get("active")){if(window.bktest2){}L._bindToKeys();}},0);}}else{if(!L.isContained){I=null;}if(!L.isContained){L._blur();}L._detach();}J&&J.set("active",K);},_setFocus:function(J){var K=this;J?K._focus(J):K._blur(J);},_focus:function(K){var N,M=this,L=M.get("focusNode"),J;if((A.UA.gecko>=2)&&(J=document.activeElement)){J.blur();}if(L){try{N=M.onFocus(L);}catch(K){N=false;}if(!N){try{if(L){L.focus();}}catch(K){}}}},_blur:function(J){var L=this,K=L.get("focusNode");if(K&&K.blur){try{K.blur();}catch(J){}}},_close:function(J){if(J==1){this._detach();}},_handleKeyDown:function(O){var J=false;try{var L=O.keyCode,N=O.target,K=N?N.get("tagName").toLowerCase():"";var M=N.get("type")&&(N.get("type").toLowerCase()==="text"||N.get("type").toLowerCase()==="textarea");if(O.ctrlKey||O.metaKey||O.altKey||!(K in E)||!M){if(A.UA.os=="macintosh"&&L==8){O.charCode=46;O.keyCode=46;}if(L>=96&&L<=105){O.charCode=L-48;O.keyCode=L-48;}J=this.onKeyDown(O);}}catch(O){J=false;}if(J){O.halt();return false;}return J;},_setRoot:function(J){var K=this;if(J){if(!K.get("focusNode")){K.set("focusNode",J);}else{G(J);}if(K.get("active")){K._bindToKeys(J);}}},_bindToKeys:function(L){var M,P,O=this,S=O.get("charCodes"),K=O.get("localCharCodes"),Q=O.get("handleKeysLocally"),L=L||O.get("rootNode");if(O.bound){return;}if(S&&(!Q||L)){var N=[],R=[],J=Q?(L||document):document;F(S,N,R);if(N.length){O.keyHandle=A.on("key",O._handleKeyDown,J,("down:"+N.join(",")),O);O.bound=1;}P=R?R.length:0;for(M=0;M<P;M++){O.accelKeyHandle.push(A.on("key",O._handleKeyDown,J,("down:"+R[M]),O));O.bound=1;}}if(K&&L){var N=[],R=[];F(K,N,R);if(N.length){O.localKeyHandle=A.on("key",O._handleKeyDown,L,("down:"+N.join(",")),O);O.bound=1;}P=R?R.length:0;for(M=0;M<P;M++){O.accelLocalKeyHandle.push(A.on("key",O._handleKeyDown,L,("down:"+R[M]),O));O.bound=1;}}},_nest:function(K){var J=this;
K.isContained=1;K.after(["activeChange","closeChange"],function(M){var N=M.attrName,L=M.newVal,O=0,P=J.get("children").length;J.iterateChildren(function(R){var Q=K.get("skipEvents."+N+"-"+(L&&1));if((K==R)||R.get(N)==L||Q){O++;}if(O==P&&J.get(N+"Flag")!=1){J.set(N,L);}});},J);K.on(["titleChange","focusNodeChange","dirtyChange","directionChange","navKeysChange"],function(L){if(L.oldVal!=L.newVal){J.set(L.attrName,L.newVal);}},J);},_setContentToolbar:function(J){var K=this.get("contentToolbar");if(K!=J){K&&K.set("active",0);J&&J.set("active",1);}return J;},_setChildren:function(L){var K=0,J=L?L.length:0,O,M=[],N=this;for(K;K<J;K++){O=L[K];if(O&&O instanceof D){if(O.parentCW!=N){O.parentCW=N;N._nest(O);}M.push(O);}}return M;},_detach:function(){var L=this,J=L.accelKeyHandle.length;if(L.keyHandle){L.keyHandle.detach();}if(L.localKeyHandle){L.localKeyHandle.detach();}for(var K=0;K<J;K++){L.accelKeyHandle[K].detach();}L.accelKeyHandle=[];J=L.accelLocalKeyHandle.length;for(K=0;K<J;K++){L.accelLocalKeyHandle[K].detach();}L.accelLocalKeyHandle=[];L.bound=0;J=null;},_getDirty:function(){var K=this,J=false;K.iterateChildren(function(L){if(L.get("isDirty")){J=true;return;}});return J||(K.isDirty&&K.isDirty());},_getCanDeactivate:function(){var L=this,K=L.get("children"),J=false;if(L._canDeactivateFlag==-1||L._canDeactivateFlag==2){return(L._canDeactivateFlag>0);}L.iterateChildren(function(M){if(!M.get("canDeactivate")){J=true;return;}});return(K.length)?!J:L._canDeactivateFlag;},_canClose:function(){var L=this,K=L.get("children"),J=false;if(L._canCloseFlag==-1||L._canCloseFlag==2){return(L._canCloseFlag>0);}L.iterateChildren(function(M){if(!M.get("canClose")){J=true;return;}});return(K.length)?!J:L._canCloseFlag;},allowSelection:function(J){J.addClass("reselectable");},render:B,onKeyDown:B,onFocus:B,isDirty:function(){return false;}});A.namespace("common.ui").ContentWidget=D;},"1.0.0",{requires:["event-key"]});

YUI.add("common-ui-notification",function(A){var E=A.common.Utils,J=3000;function I(L){var M=this,L=L||{};M.dir=L.dir||"top";M.sticky=L.sticky||false;M.closeButton=L.closeButton||false;M.height=L.height||"50px";M.type=L.type||"slide";M.className=L.className||"";M.create();}function C(){var M=this,L;if(M.type==="slide"){L=M.dir+":-"+M.height;}else{if(M.type==="fade"){L="opacity:0";}}M.container=A.Node.create('<div id = "notification" class="'+M.className+'" style="'+L+'"></div>');A.one("body").appendChild(M.container);M.bindUI();}function B(){var L=this;L.container.delegate("click",function(O){var N=O.target,P=A.common.Utils.getDataAction(O),M=P&&P.action;O.preventDefault();if(M){if(M=="close"){L.hide();}else{L.fire("clickEvent",{action:M});}}},"a");if(L.sticky){A.once("click",function(M){L.hide();});}}function K(M,L){var N=this;if(!M){return;}L=L||3000;N.container.set("innerHTML",M);A.Lang.later(0,N,function(){this.show(L);});}function H(L){var M=this;if(M.type==="slide"){M.container.setStyle(M.dir,0);}else{if(M.type==="fade"){M.container.setStyle("opacity",100);}}if(!M.sticky){A.Lang.later(L,M,function(){this.hide();});}}function D(){var N=this,L,M;if(N.type==="slide"){L=N.dir;M="-"+N.height;}else{if(N.type==="fade"){L="opacity";M=0;}}if(N.container&&N.container._node){N.container.setStyle(L,M);A.Lang.later(J,N,function(){this.destroy();});}}function G(){var L=this;L.container.remove(true);L=null;delete L;}function F(L){}I.prototype={create:C,notify:K,show:H,hide:D,getMsg:F,destroy:G,bindUI:B};A.namespace("common.ui");A.augment(I,A.EventTarget);A.common.ui.Notification=I;},"1.0.0",{requires:["common-utils"]});

YUI.add("comms-ui-nodefocus-base",function(A){function B(C){B.superclass.constructor.apply(this,arguments);}A.extend(B,A.Plugin.Base,{initializer:function(D){var E=this,F,I,K,H=E.get("host"),C=A.comms.ui,J=C.NodeFocus;if(J){H.plug(J,D);}else{K=[D.keys.next,D.keys.previous];function G(L){F.detach();I.detach();A.use("comms-ui-nodefocus",function(){H.unplug(C.NodeFocusBase);H.plug(C.NodeFocus,D);H.nodeFocus.onKeyDown(L);});}F=A.on("key",G,H,"down:"+K.join(","),E);I=A.on("nodeFocus:load",G,E);}}});B.NAME="NodeFocusBase";B.NS="nodeFocusBase";A.on("keydown",function(C){C.keyCode==9&&A.fire("nodeFocus:load",C);});A.namespace("comms.ui").NodeFocusBase=B;},"1.0.0",{requires:["plugin","node","event-key"]});

YUI.add("minty_module_tabs_tab_removable",function(A){A.namespace("ui.Templates");A.ui.Templates.minty_module_tabs_tab_removable={base:'<li role="presentation" class="removable"><a data-action="navigate" href="{{tab_url}}" role="tab" id="{{tab_id}}" title="{{tab_label}}"><b>{{tab_label}}</b></a><span class=\'tab-progress\'></span><span class="close-tab" data-action="close-tab" title="{{str_tabs_close_attr}}">{{str_tabs_close}}</span></li>'};},"1.0.0");

YUI.add("mail-ui-accounts",function(F){var C=NeoConfig,B=F.common.Utils.substitute,A=F.common.persist.UserData;function D(){var M,L,U,I,K,O,Q,P,T,S=strings.str_cfg_tog_accnt_user_color||NeoConfig.userColorIndicParam,G=C.extAccountColors,R=G.length,N=F.Lang.trim(A.get("userSendPref.defaultFromName"))||A.get("userSendPref.defaultFromAddress"),H=(A.get("externalAccounts")||{}).extAccount,J=H?H.length:0;P={Inbox:{id:"Inbox",color:"ypurple",name:N,pretty_name:N,check_mbox:B(strings.str_nav_left_checkmail_account_attr,{mailbox_pretty_name:N})}};for(M=0,L=0;M<J;++M){U=H[M];T=null;if(S){Q=U.colorIndicator;if(C.colorIndicatorsStr[Q]){T=C.colorIndicatorsStr[Q];}else{Q=U.colorIndicator?U.colorIndicator:"";if(Q>0){T=C.colorIndicators[Q];}}}K=U.server?F.Lang.trim(U.server):null;O=U.username&&K?U.username+"@"+K:null;if(O){I="data-mboxid"+L;N=F.Lang.trim(U.accountName)||U.address;P[I]={id:I,color:T||G[L%R],name:U.address,pretty_name:N,check_mbox:B(strings.str_nav_left_checkmail_account_attr,{mailbox_pretty_name:N}),server_addr:O};if(T){P[I].user_color=T;}++L;}}if(L===0){P=null;}return P;}function E(){var H,N,S,K,O,Q,L,G=C.colorIndicators,R=strings.str_cfg_tog_accnt_user_color||NeoConfig.userColorIndicParam,J={},P=D(),I=(A.get("aliases")||{}).alias||[],M=(A.get("disposableAddresses")||{}).deaName||[];if(strings.str_cfg_tog_msgListColorIndic||C.showExtAccountsParam>1){if(P){for(H in P){S=P[H];O=S.server_addr;L=R?S.user_color:S.color;if(O&&L){J[O]=S.color;}}}if(R){I=I.concat(M);N=I.length;for(H=0;H<N;++H){S=I[H];Q=S.colorIndicator?S.colorIndicator-0:0;if(Q>0){J[S.address]=C.colorIndicators[Q];}}}}return J;}F.namespace("mail.ui");F.mail.ui.Accounts={buildExtAccountList:D,buildAccountList:E};},"1.0.0",{requires:["common-utils","common-persist-user-data"]});

YUI.add("mail-ui-foldersview-base",function(B){var G=B.Node.one,M=B.Node.all,P=NeoConfig,O=P.folderListTmpl,N=B.common.Utils,F=N.rocketstats.stat,H=N.substitute,D=strings.str_nav_left_checking_mail,J=strings.str_nav_inbox,I=strings.str_tabs_inbox,K=P.mailboxes,C="knownAddress|externalAccountsChange",A=B.common.persist.UserData,E="mail-ui-foldersview-bind";B.Node.DOM_EVENTS.beforedeactivate=1;var L=new function(){var AC="#system-folders",X="#custom-folders",r="#smart-folders",e="#nav-smart-folders",x="a[role=option]",b=AC+" "+x+", "+X+" "+x,j='a[tabindex="0"]',T=this,m="selected",U="has-unread",d="hasnomsg",R="hasmultimsg",n={"in":"Inbox",chats:"%40C%40Chats",drafts:"Draft",sent:"Sent",folder:"%40B%40Bulk",spam:"%40B%40Bulk",trash:"Trash"},W={Inbox:"str_tabs_inbox",Draft:"str_tabs_drafts",Sent:"str_tabs_sent","%40B%40Bulk":"str_tabs_spam","%40C%40Chats":"str_tabs_conversations",Trash:"str_tabs_trash"},z=(Neo&&Neo.fid)||"",y,s=false,w=B.mail.Controller.Folders,Q=B.Lang,t=null,V,AB=null;function Y(AE){if(s){return G('li[data-vfid="'+AE+'"]');}return G("li[data-fid='"+AE+"']");}function h(){var AE={fid:{value:{fid:"",name:"",checkMail:false,mailboxId:"",extraParams:null,smartFolder:false,forceRefresh:false},setter:function(AG){var AJ,AF,AH=AG.fid,AP=AG.checkMail,AK=AG.mailboxId,AN=AG.extraParams,AR=AG.forceRefresh,AL,AI,AM=false,AO,AQ=false;s=AG.smartFolder;if((AH===z&&AH===n["in"]&&!s)||AP){if(AB===null){S(AK);AL=AK;if(AK&&AK!==""&&AK!=="Inbox"){AL=K&&K[AK]?K[AK].name:"";}if(((AO=B.common.persist.UserData.get("externalAccounts"))||{}).extAccount&&AL===""){AB=w.refresh({},{success:function(){o();B.later(0,null,function(){w.refresh({accountId:AL},{},"checkmail");});},failure:o,timeout:30000},"checkmail");}else{AB=w.refresh({accountId:AL},{success:o,failure:o,timeout:30000},"checkmail");}F("folders","checkmailmanual_"+(AO?"ext":"noext"));}}if(AH!==z||s||AR){AM=s&&!AR;if(AM){s=false;}AJ=Y(z)||Y("Inbox");if(AM){s=true;}AQ=s&&AR;if(AQ){s=false;}AF=Y(AH);if(NeoConfig.backButton&&(typeof window.history.state==="object")){if(!window.history.state||window.history.state.id!=1){if(AH!="Inbox"){window.history.pushState({id:"1"},document.title,window.location.pathname+window.location.search);}}AH==="Inbox"?window.history.state&&window.history.go(-1):window.history.replaceState({id:"1"},document.title,"#mail");}if(AJ){AJ.removeClass(m);AJ.one("a").setAttrs({tabIndex:-1,"aria-selected":false});}if(AF){if((AI=AF.ancestor("ul").one(j))){AI&&AI.set("tabIndex",-1);}AF.addClass(m);AF.one("a").setAttrs({tabIndex:0,"aria-selected":true});AF.one("a").focus();}Z();z=AH;return AG;}},lazyAdd:true},isCheckingMail:{value:false},active:{value:false}};T.addAttrs(AE);}function u(AF,AE){return function(AG){if(!AE){AG.preventDefault();}B.use(E,function(AH){AH.mail.FoldersView[AF](AG);});};}function AA(){var AK=G("#shellnavigation"),AJ,AG,AI=B.mail.persist.MetaData,AE=G(AC),AH=G(X),AL=G(r),AF=G(e);AK.delegate("keydown",u("upDownNavigation",true),b);G("#btn-newfolder").on("click",u("newFolderClick"));G("#btn-newfolder").on("keydown",function(AM){if(AM.keyCode===37){AK.one("#custom-folders-btn").focus();}if(AM.keyCode===38){AM.halt();}if(AM.keyCode===40){AK.one("#custom-folders li a").focus();AM.halt();}});AK.delegate("mousedown",function(AM){if(!this.hasClass("selected")&&AM.button===1&&!AM.ctrlKey){if(B.UA.ie&&B.UA.ie<=8){document.activeElement&&G(document.activeElement).once("beforedeactivate",function(AN){AN.preventDefault();});}else{AM.preventDefault();}}},"li, h2 span[role=button], h2 .btn input");AE.on("contextmenu",u("contextClick"),T);AE.delegate("click",u("checkMailClick"),"input.check-mail");AE.delegate("keydown",u("sysFoldersKeyDown",true),"li");AH.delegate("keydown",u("usrFoldersKeyDown",true),"li");AE.delegate("click",u("emptyFolderOnClick"),"li a span.btn");AE.delegate("click",function(AN){AN.smartFolder=s;var AM=AN.currentTarget;if(AM.getAttribute("fdepth")){u("usrFoldersClick")(AN);}else{u("sysFoldersClick")(AN);}},"li");if(AH){AG=AI.after("neoChanged",function(){var AM=true,AN=G(X+"-nav");if(AI.get("neo.pref.folderState")){AN.replaceClass("collapsed","expanded");}else{AN.replaceClass("expanded","collapsed");AM=false;}AN.one(".label").set("aria-expanded",AM);AI.detach(AG);});AH.delegate("click",function(AM){AM.fid=z;AM.smartFolder=s;u("usrFoldersClick")(AM);},"li");AH.on("contextmenu",u("usrFoldersContextClick"));AJ=G(X+"-btn");AJ.on("click",u("onLabelClick",true));AJ.on("keydown",function(AM){if(AM.keyCode===13){u("onLabelClick")(AM);}if(AM.keyCode===37){AM.halt();}if(AM.keyCode===38){AM.halt();}if(AM.keyCode===39){AK.one("#btn-newfolder").focus();AM.halt();}if(AM.keyCode===40){AK.one("#custom-folders li a").focus();AM.halt();}});}if(AL){AL.all("a").each(function(AM){AM.set("href","#");});AL.delegate("click",function(AN){AN.preventDefault();var AM=AN.currentTarget;if(AM.hasClass("emails-contacts")){B.fire("openRUEFCInbox");}else{if(AM.hasClass("btn-apps")){B.fire("om:appclick",AN);}}s=true;},"li");AL.on("contextmenu",function(AM){});}AF&&AF.on("click",function(AO){var AN=AO.currentTarget,AM=AN.get("parentNode");if(AM.hasClass("expanded")){AM.removeClass("expanded");AM.addClass("collapsed");}else{if(AM.hasClass("collapsed")){AM.removeClass("collapsed");AM.addClass("expanded");}}});B.common.persist.UserData.after(C,function(AM){if(strings.str_cfg_tog_renderExternalAccounts||P.showExtAccountsParam){B.mail.FoldersView.renderMailboxes();}});AE.all("a").each(function(AM){AM.set("href","#");});B.on("key",function(AM){M("input.check-mail").each(function(){if(this.contains(AM.currentTarget)||this.compareTo(AM.currentTarget)){AM.stopPropagation();}});},AK,"",T);B.on("foldersview:resetFocus",function(AN){var AM=Y(AN);AM=AM&&AM.one("a");AM&&AM.focus();});}function a(){var AE=M("li.inbox-sub");if(AE){AE.remove();}K=B.mail.ui.Accounts.buildExtAccountList();if(K){Neo.drawMailboxes(K);}}function g(AH,AG){var AE=P.grayoutEnabled&&B.mail.ui.ContextButton,AF;if(AE&&AG){AF=Y(AG);if(!AE.folderActionEnabled(AH.dataAction,AF)){return;
}}B.use("mail-ui-folderevents",function(AI){AI.mail.ui.FolderEvents.handle(AH,(AG||z));});}function Z(){var AF=G(AC),AG=G(X),AE;if(!AF.one(j)&&(AE=AF.one(x))){AE.set("tabIndex",0);}if(!AG.one(j)&&(AE=AG.one(x))){AE.set("tabIndex",0);}}function v(){var AF=G(AC),AG=G(X),AH=G("doc").get("activeElement"),AE=-1;if(AF.contains(AH)||AG.contains(AH)){AE=B.all(b).indexOf(AH);}return AE;}function i(AH){var AG=B.all(b),AF=AG.item(AH),AE;if(!AF){AE=AH+1;if(AE>AG.size()){AE=AH-1;}AF=AG.item(AE);}if(AF){AF.set("tabIndex",0);AF.focus();}}function p(){var AE=G(X+"-btn");AA();Z();if(AE){AE.set("aria-expanded",G(X+"-nav").hasClass("expanded"));}}function f(AG){var AF="Inbox",AE=strings[W[AF]];B.fire("checkmail:before");T.set("isCheckingMail",true);if(s){T.set("fid",{fid:AF,name:strings[W[AF]],checkMail:true,mailboxId:AG,smartFolder:s,forceRefresh:true});}else{T.set("fid",{fid:AF,name:strings[W[AF]],checkMail:true,mailboxId:AG});}}function S(AG){var AF,AE=G(AC);if(!AG||AG===""||!K){AE.all("#Inbox i, li.inbox-sub i").setContent(strings.str_nav_left_checking_mail);AE.all("li input.check-mail").addClass("loading");}else{if(K){AF=AE.one('li.inbox-sub i[data-mboxid="'+AG+'"]');if(AF){AF.setContent(strings.str_nav_left_checking_mail);}AF=AE.one('li.inbox-sub input[data-mboxid="'+AG+'"]');if(AF){AF.addClass("loading");}}}B.fire("checkmail:clicked");if(NeoConfig.backButton&&(typeof window.history.state==="object")){window.history.state&&window.history.go(-1);}}function o(){var AH,AG,AF,AE=G(AC);AE.one("#Inbox i").setContent(J);AE.all("li input.check-mail").removeClass("loading");if(K){for(AH in K){AG=K[AH];AF=AE.one('li.inbox-sub i[data-mboxid="'+AH+'"]');if(AF){AF.setContent(AG.pretty_name||AG.server_addr);}}}B.fire("checkmail:succeeded");T.set("isCheckingMail",false);AB=null;}function k(AK){var AG=AK.folderInfo.fid,AH=AG==="Draft",AF=AG==="%40C%40Chats",AJ=(AH||AF)?AK.total:AK.unread,AE="{{str_nav_inbox_unread_attr}}",AL={},AI;if(AH){AE=(AJ==1)?"{{str_nav_draft_attr}}":"{{str_nav_drafts_attr}}";}else{if(AF){AE=(AJ==1)?"{{str_nav_conv_attr}}":"{{str_nav_convs_attr}}";}}AI=Y(AG);if(AI){if(AK.isSystem===false||(!AH&&AG!=="Sent")){if(AK.unread>0){AI.addClass(U);}else{AI.removeClass(U);}}}AI=AI&&AI.one(".unread-count");if(AI&&Q.isNumber(AJ)){if(AJ<0){AJ=0;}if(NeoConfig.isFresh){AJ>999?AI.set("innerHTML","(999+)"):AI.set("innerHTML","("+AJ+")"||"");}else{AI.set("innerHTML",AJ||"");}if(AJ){AI.removeClass("invisible");}else{AI.addClass("invisible");}AL.inbox_unread_cnt=AJ;if(AF){AL.conv_cnt=AJ;}AI.set("title",H(AE,AL,null,null,P.strings));}}function l(AJ){var AF=AJ.folderInfo.fid,AI=Y(AF);AI=AI&&AI.one("a");if(AI){var AE=AI.get("title"),AH=AJ.total,AG=AH==1?"str_email_cnt_one":"str_email_cnt_multi",AK="{{str_nav_folder_email_cnt}}",AL={total_cnt:AH,email_str:strings[AG]};switch(AF){case"Draft":AK=(AH==1)?"{{str_nav_draft_attr}}":"{{str_nav_drafts_attr}}";AL.inbox_unread_cnt=AH;break;case"%40C%40Chats":AK=(AH==1)?"{{str_nav_conv_attr}}":"{{str_nav_convs_attr}}";AL.conv_cnt=AH;break;}if(s){AK="{{str_nav_email_from_ctcts_attr}}";AL.email_ctcts_cnt=AH;}AI.set("title",(NeoConfig.isFresh&&!AJ.isSystem?unescape(AF)+" - ":"")+H(AK,AL,null,null,strings));}}function AD(AT){var AN="",AL,AH,AU,AF,AP,AR,AQ,AE,AJ,AS=G(X),AO=v(),AK=AT.length,AV,AI,AG=0;Neo&&Neo.sortFolders(AT);for(AQ=0;AQ<AK;AQ++){AF=AT[AQ];AE=AF.folderInfo.fid;AP=AQ<(AK-1)?AT[AQ+1]:null;AU=false;AL="";if(AE.indexOf("Sync%20Trap")==0){continue;}if(y===AE){AH=AF.folderInfo.name;}if(!AF.isSystem){AV=AF.folderInfo.name;if(AP&&(AP.folderInfo.name.indexOf(AV+"/")===0)){AU=true;}AV=AV.split("/");AI=AV.length-1;if(AI){if(AR.folderInfo.name===AV[0]){AV=AV[AI];}else{AI=0;AV=AF.folderInfo.name;}}else{AR=AF;}if(AG<AI){AL="<ul class='sub'>";AG++;}else{while(AG>AI){AL+="</ul>";AG--;}}var AM={name:AV,fid:AE,unread_cnt:AF.unread||"",total_cnt:AF.total,inbox_unread_cnt:AF.unread||"",isSelected:(z==AE)?m:"",isParent:AU?"papa-folder":"",clicker:AU?'<div class="clicker" style="width:'+(AI*10+16)+'px;"></div>':"",email_str:(AF.total==1?P.strings.str_email_cnt_one:P.strings.str_email_cnt_multi),depth_attr:AI?'fdepth="'+AI+'"':"",indent_level:AI?'style="padding-left:'+(AI*10+16)+"px;background-position-x:"+(AI*10)+'px;"':""};if(NeoConfig.bidi&&AF.folderInfo.dir){AM.name=(AF.folderInfo.dir=="rtl"?"\u202B":"\u202A")+AM.name+"\u202C";}if(!AF.unread){AM.has_unread="";}if(NeoConfig.isFresh&&!AF.unread){AM.hidden_class=" invisible";}AL+=H(O.folders,AM,null,null,P.strings,O);if(AI&&AR.isSystem){}else{AN+=AL;}}else{AR=AF;if(AE==="Inbox"){V=AF.unread;}l(AF);k(AF);}}q();AS.setContent(AN?AN:"");if(AO>=0){i(AO);}else{Z();}y&&T.set("fid",{fid:y,name:AH});y=null;}function c(AE,AF){if(AE){if("show"==AF&&!AE.hasClass("selected")){AE.addClass("cntxtmenu");}else{if("hide"==AF){AE.removeClass("cntxtmenu");}}}}function q(){var AF=(P.userDataObj&&P.userDataObj.otherYahooMboxes&&P.userDataObj.otherYahooMboxes.otherYahooMboxesTotal)?"userSendPref.defaultID":"userSendPref.loggedInAlias";var AE=A.get(AF);B.config.doc.title=(V>0)?H("{{str_page_title_unread}}",{unread_cnt:V,title:AE},null,null,strings):H("{{str_page_title}}",{title:AE},null,null,strings);t=null;}B.on("ds:folder:change",function(AM,AJ,AN,AK){var AE,AI,AG,AH,AF,AL;if(AK==="launch"){for(AI in AJ){AE=AJ[AI];AG=AE.folderInfo.fid;if(AG.indexOf("Sync%20Trap")==0){continue;}if(AG==="Inbox"){V=AE.unread;}if(P.grayoutEnabled&&!AE.total){AH=Y(AG);AH.replaceClass(R,d);}}q();return;}if(!AM){AD(AJ,AK=="ruefc");}else{for(AI in AN){AE=AJ[AI];AG=AE.folderInfo.fid;if(AK=="ruefc"){AE.folderInfo.name=strings.str_nav_email_from_ctcts;AF=B.mail.ui.common.StringUtils.getSystemFolderName(AG,AE.folderInfo.name,true,true);AL=B.mail.ui.Workspace.getFolderContent();if(NeoConfig.bidi){AF=AL.widget.msgList.getFolderNameBidi(AF,AE.folderInfo.dir,AE.total);}else{AF+="  <i>("+AE.total+")</i>";}AL.set("title",AF);}if(Q.isNumber(AN[AI].unread)||AG==="Draft"){k(AE,AK=="ruefc");if(AG==="Inbox"){V+=AE.unread-AM[AI].unread;q();}}if(AE.total!=AM[AI].total){l(AE,AK=="ruefc");}if(P.grayoutEnabled){AH=Y(AG,AK=="ruefc");
if(AE.total>0){AH.replaceClass(d,R);}else{AH.replaceClass(R,d);}}}}});B.on("ds:folder:add",function(AE,AF){if(AF!="move"&&AF!="qf_folder"){y=AE.folderInfo.fid;}});B.on("ds:folder:remove",function(AE){if(AE.folderInfo.fid===T.get("fid").fid){y="Inbox";}});B.on("ds:folder:rename",function(AF,AE){if(AF.folderInfo.fid===T.get("fid").fid){y=AE.folderInfo.fid;}});B.on("checkmail:pressed",function(AE){var AF=AE?"":"Inbox";f(AF);});B.on("newfolder:pressed",function(){g({dataAction:"folder-new"},null);});B.on("#custom-folders.li:keydown",function(AI){var AH=AI.currentTarget.getAttribute("data-fid"),AG=AI.keyCode===69&&AH&&P.emptyFolders?"folder-empty":"folder-rename",AF=B.UA.os,AE=(AF=="windows"||AF=="win");if((AE&&AI.shiftKey&&AI.keyCode==121)||(!AE&&AI.ctrlKey&&AI.shiftKey&&AI.altKey&&AI.keyCode==77)){AI.preventDefault();N.simulateContextMenu(AI.target);}else{g({dataAction:AG,target:AI.currentTarget},AH);}});B.on("#system-folders.li:keydown",function(AI){var AJ={"%40B%40Bulk":"folder-empty-spam",Trash:"folder-empty-trash"},AH=AI.currentTarget.getAttribute("data-fid"),AG,AF=B.UA.os,AE=(AF=="windows"||AF=="win");if(AI.keyCode===69&&AH&&!AI.ctrlKey&&!AI.shiftKey&&!AI.altKey&&!AI.metaKey){AG=AJ[AH]||(P.emptyFolders&&"folder-empty");if(AG){g({dataAction:AG,restoreFocus:1,target:AI.currentTarget},AH);}}else{if((AE&&AI.shiftKey&&AI.keyCode==121)||(!AE&&AI.ctrlKey&&AI.shiftKey&&AI.altKey&&AI.keyCode==77)){AI.preventDefault();N.simulateContextMenu(AI.target);}}});B.after("tabChange",function(){if(null===t){t=B.later(1000,null,q,null,false);}});B.augment(T,B.Attribute);h();B.mix(T,{render:p,renderMailboxes:a,checkMail:f,handleFolderActions:g,updateTitle:q});};B.namespace("mail");B.mail.FoldersView=L;},"1.0.0",{requires:["common-utils","rocket-stats","mail-controller-folders","attribute","node","mail-persist-meta-data","common-persist-user-data","mail-ui-accounts"]});

YUI.add("mail-persist-user-preferences",function(D){D.namespace("mail.persist");var B,C=["userFeaturePrefs","userUIPrefs","userSpamPrefs","userSendPrefs","switches","livewordsPrefs","popForwardPrefs"];function A(E){this.attributeConfig={userFeaturePrefs:{},userUIPrefs:{value:{displayPersonalFolders:NeoConfig.expandPF,expandExtAccounts:NeoConfig.expandEA,msgListDensity:NeoConfig.msgListDensity}},userSpamPrefs:{},userSendPrefs:{},switches:{},livewordsPrefs:{},popForwardPrefs:{},loaded:{value:false}};this.addAttrs(this.attributeConfig,E);if(E){this.set("loaded",true);}else{this.load();}}A.prototype.load=function(){var E=this;D.mail.net.Transport.request("GetUserPreferences",{},{success:function(F){var H=F.body.result["userPrefs"];for(var G in H){E.set(G,H[G]);}E.set("loaded",true);},failure:function(){}},true);};A.prototype.save=function(){var G={},F,E;for(E=0;E<C.length;E++){F=C[E];G[F]=this.get(F);}this.saveRequest(G);};A.prototype.saveRequest=function(E){D.mail.net.Transport.request("SetUserPreferences",{setprefs:E},{success:function(){},failure:function(){}},true);};A.prototype.afterSettingsChange=function(){if(this.get("loaded")){this.save();}};D.augment(A,D.Attribute);D.mail.persist.UserPreferences=new A();if(NeoConfig.intl!=="jp"){for(B=0;B<C.length;B++){D.mail.persist.UserPreferences.after(C[B]+"Change",D.mail.persist.UserPreferences.afterSettingsChange);}}},"1.0.0",{requires:["attribute","mail-net-transport","json"]});

YUI.add("mail-persist-meta-data",function(H){var F,G,C,A;H.namespace("mail.persist");function B(){this.addAttr("_save",{value:true});this.addAttr("_timer",{});}B.prototype.wait=function(){this.set("_save",false);};B.prototype.resume=function(){this.set("_save",true);};B.prototype.parse=function(K,J){var I;J+=K.name;if(K.meta&&K.meta.length>0){this._set(J,{});J+=".";for(I=0;I<K.meta.length;I++){if(K.meta[I].meta){this.parse(K.meta[I].meta,J);}this.parse(K.meta[I],J);}}else{if(K.value){this._set(J,K.value);}}};B.prototype.make_cascade=function(K,I){var J;for(J in K){if(typeof K[J]==="object"){I.push({name:J,meta:[]});this.make_cascade(K[J],I[I.length-1].meta);}else{I.push({name:J,value:K[J]});}}};B.prototype.cascade_dump=function(){var M=[],I,K,L,J=this.getAttrs();for(I in J){if(I.match(/^_/)){continue;}K=J[I];L={name:I};if(typeof K==="object"){L.meta=[];this.make_cascade(K,L.meta);}else{L.value=K;}M.push(L);}return{meta:M};};B.prototype.load=function(){var I=this;H.mail.net.Transport.request("GetMetaData",{},{success:function(K){var J=K.body.result.meta,L,M;for(L=0;L<J.length;L++){M=J[L];if(!I.attrAdded(M.name)){I.addAttr(M.name);}I.wait();I.parse(M,"");I.resume();}H.fire("metaDataLoadComplete");},failure:function(){}},true);};B.prototype.update=function(){};B.prototype.save=function(){this.set("_save",true);H.mail.net.Transport.request("SetMetaData",this.cascade_dump(),{success:function(){},failure:function(){}},true);};B.prototype.set=function(K,N){var M,L,J,I=H.Attribute.prototype.set;if(K.indexOf(".")>0){M=K.split(".");for(J=0;J<M.length;J++){if(L){L+="."+M[J];}else{L=M[J];}if(!this.get(L)){if(L===K){I.apply(this,[K,N]);}else{I.apply(this,[L,{}]);}}else{if(L===K){I.apply(this,[K,N]);}}}}else{I.apply(this,[K,N]);}};H.augment(B,H.Attribute);F=new B();if(typeof NeoConfig.metaDataObj!=="undefined"&&NeoConfig.metaDataObj){A=NeoConfig.metaDataObj;for(C=0;C<A.length;C++){G=A[C];F.addAttr(G.name,{});F.parse(G,"");}}else{F.load();}if(!F.attrAdded("neo")){F.addAttr("neo",{pref:{}});}if(!F.get("neo.pref")){F.set("neo",{pref:{}});}function E(){if(this.get("_save")){if(this.get("_timer")){this.get("_timer").cancel();}this.set("_timer",H.later(5000,this,"save"));}}function D(){if(this.get("_save")){this.save();}}F.after("neoChange",E,F);F.after("cgChange",D,F);H.mail.persist.MetaData=F;},"1.0.0",{requires:["attribute","mail-net-transport"]});

YUI.add("mail-track",function(B){B.namespace("mail.track");var C={welcome_gx:["a","978500241",false,"DEFAULT","welcome_galaxy"],welcome_gx_news:["a","978500241",true,"DEFAULT","welcome_galaxy"],gx_action:["a","978500241",true,"DEFAULT"],updates_gx:["a","978500277",false,"onlySKY","updates_galaxy"],updates_action:["a","978500277",true,"onlySKY"],launch_welcome:["a","978500273",false,"DEFAULT","welcome_galaxy"],launch_inbox:["a","978500271",false,"messagelist","folder_inbox"],launch_compose:["a","978500270",false,"compose","compose_new"],launch_message:["a","978500272",false,"messagelist","msgread_tabview"],launch_inbox_empty:["a","978500271",false,"emptyfld","folder_inbox"],launch_welcome_ssl:["a","978500285",false,"DEFAULT","welcome_galaxy"],launch_inbox_ssl:["a","978500286",false,"messagelist","folder_inbox"],launch_compose_ssl:["a","978500288",false,"compose","compose_new"],launch_message_ssl:["a","978500287",false,"messagelist","msgread_tabview"],launch_inbox_empty_ssl:["a","978500286",false,"emptyfld","folder_inbox"],launch_welcome_low:["a","978500293",false,"DEFAULT","welcome_galaxy"],launch_inbox_low:["a","978500294",false,"messagelist","folder_inbox"],launch_compose_low:["a","978500296",false,"compose","compose_new"],launch_message_low:["a","978500295",false,"messagelist","msgread_tabview"],launch_inbox_low_empty:["a","978500294",false,"emptyfld","folder_inbox"],launch_welcome_optin:["a","978500360",false,"DEFAULT","welcome_galaxy"],launch_inbox_optin:["a","978500361",false,"messagelist","folder_inbox"],launch_inbox_optin_empty:["a","978500361",false,"emptyfld","folder_inbox"],action_menu:["b","978500002",true],inbox_menu_print:["b","978500004",true],lftpane_add_folder:["b","978500006",true],attch_dwd_av_display:["b","978500008",true],attch_dwd_av_click:["b","978500009",true],attch_upload_av_display:["b","978500010",true],attch_upload_av_click:["b","978500011",true],attach_upload_classic:["b","978500020",true],checkmail_all_click:["b","978500068",true],checkmail_auto:["b","978500069",true],compose_new:["a","978500077",false,"compose","compose_new"],compose_forward:["a","978500079",false,"compose","compose_fwd"],compose_reply_sender:["a","978500081",false,"compose","compose_reply"],compose_reply_all:["a","978500246",false,"compose","compose_reply_all"],compose_draft:["a","978500266",false,"compose","compose_draft"],dd_msg_to_folder:["b","978500084",true],dd_msg_to_trash:["b","978500085",true],empty_spam:["b","978500087",true],empty_trash:["b","978500088",true],empty_spam_ssl:["b","978500484",true],mark_spam_ssl:["b","978500486",true],sent_ssl:["a","978500414",false,"sent","send_confirm"],folderview_inbox_ssl:["a","978500434",false,"messagelist","folder_inbox"],folderview_inbox_empty_ssl:["a","978500434",false,"emptyfld","folder_inbox"],folderview_bulk:["a","978500091",false,"messagelist","folder_bulk"],folderview_draft:["a","978500092",false,"messagelist","folder_draft"],folderview_inbox:["a","978500093",false,"messagelist","folder_inbox"],folderview_sent:["a","978500095",false,"messagelist","folder_sent"],folderview_trash:["a","978500096",false,"messagelist","folder_trash"],folderview_custom:["a","978500267",false,"messagelist","folder_custom"],folderview_custom_ssl:["a","978500436",false,"messagelist","folder_custom"],folderview_inbox_frm_wel:["a","978500094",false,"messagelist","fwinbox_frm_welcome"],folderview_chat:["a","978500439",false,"messagelist","folder_chat"],folderview_bulk_empty:["a","978500091",false,"emptyfld","folder_bulk"],folderview_draft_empty:["a","978500092",false,"emptyfld","folder_draft"],folderview_inbox_empty:["a","978500093",false,"emptyfld","folder_inbox"],folderview_sent_empty:["a","978500095",false,"emptyfld","folder_sent"],folderview_trash_empty:["a","978500096",false,"emptyfld","folder_trash"],folderview_custom_empty:["a","978500093",false,"emptyfld","folder_custom"],folderview_chat_empty:["a","978500439",false,"emptyfld","folder_chat"],help_dd_click:["b","978500098",true],help_dd_click_blog:["b","978500099",true],help_dd_click_help:["b","978500100",true],help_dd_click_newfeature:["b","978500101",true],help_dd_click_mobile:["b","978500105",true],help_dd_click_options:["b","978500197",true],msgheader_addtoAB:["b","978500155",true],msgread_reading_pane:["a","978500162",false,"messagelist","msgread_preview"],message_tabpane:["a","978500163",false,"messagelist","msgread_tabview"],msgread_reading_pane_ssl:["a","978500301",false,"messagelist","msgread_preview"],message_tabpane_ssl:["a","978500302",false,"messagelist","msgread_tabview"],msgread_reading_pane_low:["a","978500297",false,"messagelist","msgread_preview"],message_tabpane_low:["a","978500298",false,"messagelist","msgread_tabview"],previewpane_close:["a","978500334",false,"messagelist","msgread_pp_close"],previewpane_expand:["a","978500336",false,"messagelist","msgread_pp_open"],scroll_spam:["a","978500212",false,"messagelist_scroll"],scroll_contacts:["a","978500213",false,"messagelist_scroll"],scroll_draft:["a","978500214",false,"messagelist_scroll"],scroll_folder:["a","978500215",false,"messagelist_scroll"],scroll_inbox:["a","978500216",false,"messagelist_scroll"],scroll_msgpane:["a","978500217",false,"messagelist_scroll"],scroll_search:["a","978500218",false,"messagelist_scroll"],scroll_sent:["a","978500219",false,"messagelist_scroll"],scroll_trash:["a","978500220",false,"messagelist_scroll"],search_refinement:["a","978500222",false,"search","search_refinements"],search_snipp_chkbox:["a","978500223",false,"search","search_snipp_chkbox"],search_results:["a","978500252",false,"search","search_results"],search_results_empty:["a","978500252",false,"emptysearch","search_results_empty"],sent:["a","978500224",false,"sent","send_confirm"],sent_api:["a","978500224",false,"messagelist","send_confirm"],mark_spam:["b","978500225",true],spell_chk:["b","978500226",true],switch_mail:["b","978500227",true],switch_mail_cancel:["b","978500228",true],om_app_click:["a","978500248",false,"omapp","om_app"],appbox_closed:["b","978500013",true],appbox_open:["b","978500014",true],contacts_tab:["a","978500278",false,"onlySKY","contacts"],update_theme:["a","978500230",false,"DEFAULT","themes"],calendar_zodiac:[null,"967178001",null,null,null]},A=function(D){if(D.match(/launch_inbox/)){D="launch_inbox_optin";
}else{if(D.match(/launch_/)){D="launch_welcome_optin";}}NeoConfig.neoOptIn=false;return D;};B.mail.track.getTrackingParam=function(F,H){var E={};if(F&&typeof C[F]!=="undefined"){if(NeoConfig.neoOptIn){F=A(F);}if(F.match(/launch_/)){E.launch=true;}if(NeoConfig.isFullSSL&&!F.match(/_ssl/)){var D=F+"_ssl";if(C[D]){F=F+"_ssl";}}E.type=C[F][0];E.name=C[F][3]||null;E.evt={};E.evt.sp=C[F][1];E.evt.npv=C[F][2];if(typeof C[F][4]!=="undefined"){var G=C[F][4];if(typeof H!=="undefined"&&B.Lang.trim(H)!=""&&typeof H!="object"){E.evt.trace=G+":"+H;}else{E.evt.trace=G;}}}return E;};(function(){var D=function(F,G){var I,E,H;if(G){if(G.msgPane&&G.msgPane.message){B.use("mail-ui-messagepane-utils",function(J){I=G.msgPane.fid;E=J.mail.model.DataStore.Folders.get(I);H=J.mail.ui.common.StringUtils.getSystemFolderName(I,E.folderInfo.name);G.fire("darlaEvent",{action:F,value:{siteAttr:J.mail.ui.MessagePaneUtils.getAdSiteAttribsFromMesgObj(G.msgPane.message,I),foldername:H}});});}else{G.fire("darlaEvent",{action:F});}}else{B.fire("darlaEvent",{action:F});}};B.after("om:list:collapse",function(){D("appbox_closed");});B.after("om:list:expand",function(){D("appbox_open");});B.after("previewPane:expanded",function(E){D("previewpane_expand",E);});B.after("previewPane:collapsed",function(E){D("previewpane_close",E);});B.after("checkmail:clicked",function(){});B.after("gx:switchNews",function(){D("welcome_gx_news");});B.after("updates:updates",function(F,E){D("updates_action",E);});B.after("gx:updateStatus",function(){D("updates_action");});})();},"1.0.0",{requires:[]});

YUI.add("ult-tracker",function(B){B.namespace("mail.ult");var M=B.Lang,T=B.common.Utils,D=B.JSON,C=NeoConfig,K={clk:{},lnVw:{},pg:{},config:{}},A={},J,L=J=978500001,Z,N=new Image(),U="/neo/php/ultLog.php?",P=function(c){var Y=B.mail.track.getTrackingParam,d=Y(c),e=J;if(C.low_bandwidth&&!T.isEmpty(Y(c+"_low"))){d=Y(c+"_low");}else{if(C.ssl_launch&&!T.isEmpty(Y(c+"_ssl"))){d=Y(c+"_ssl");}}if(d&&d.evt&&d.evt.sp){e=d.evt.sp;}else{}return(parseInt(e)+C.offsetSpaceId).toString();},G=function(c,Y){if((T.isEmpty(c)||!M.isObject(c))&&T.isEmpty(Y)){return;}if(Y.ck.spid){var d=P(Y.ck.spid);if(d!==J){X({sp:d});}}else{V();}b(false,false,c,Y);},W=function(d,c,Y){if((T.isEmpty(d)||!M.isObject(d))&&T.isEmpty(Y)){return;}if(c){Z=c.t1;}if(Y&&Y.ln&&Y.ln.action){var e=P(Y.ln.action);if(e!==J){X({sp:e});}}b(d,c,false,Y);},R=function(d,c,Y){if((T.isEmpty(d)||!M.isObject(d))&&T.isEmpty(Y)){return;}c.t1=Z;b(d,c,false,Y);},Q=function(c,Y){if((T.isEmpty(c)||!M.isObject(c))&&T.isEmpty(Y)){return;}b(false,c,false,Y);},b=function(e,d,c,Y){if(e){B.mix(K.lnVw,e);}if(d){B.mix(K.pg,d);}if(c){B.mix(K.clk,c);}if(Y){K.config=Y;}if(NeoConfig.enableExpUltTracker&&(NeoConfig.expBucketId!="0"||NeoConfig.isUltThrottled==="1")){H();}},I=function(Y){var d={},c={};switch(Y){case"CLICK":d=A.clk?A.clk:{};c=F();break;case"LINK":d=A.lnVw?A.lnVw:{};c=O();break;case"PAGE":d=A.pg?A.pg:{};c=E();break;case"CONFIG":d=A.config?A.config:{};break;}if(!T.isEmpty(c)){B.mix(d,c);}return d;},H=function(){var d="",Y={sid:J,rand:Math.floor(Math.random()*1000000)},c={};S();c=I("CLICK");if(!T.isEmpty(c)){Y.ck=D.stringify(c);}c=I("PAGE");if(!T.isEmpty(c)){Y.pg=D.stringify(c);}c=I("LINK");if(!T.isEmpty(c)){Y.ln=D.stringify(c);}c=I("CONFIG");if(!T.isEmpty(c)){Y.config=D.stringify(c);}d=T.mergeQueryString(U,Y);N=new Image();N.src=d;},a=function(){var c={ult:{}},Y={};S();Y=I("CLICK");if(!T.isEmpty(Y)){c.ult.ck=Y;}Y=I("LINK");if(!T.isEmpty(Y)){c.ult.ln=Y;}Y=I("PAGE");if(!T.isEmpty(Y)){c.ult.pg=Y;}Y=I("CONFIG");if(!T.isEmpty(Y)){c.ult.config=Y;}return c;},S=function(){A=K;K={clk:{},lnVw:{},pg:{},config:""};},F=function(){return{_S:L,_s:J};},O=function(){return{};},E=function(){var Y={};if(NeoConfig.enableExpUltTracker&&(NeoConfig.expBucketId!="0"||NeoConfig.isUltThrottled==="1")){Y={intl:NeoConfig.intl,lang:NeoConfig.lang,mt:(NeoConfig.isMailPlus==1)?"plus":"free",pt:NeoConfig.partnerType,t0view:NeoConfig.buildNumber};}if(NeoConfig.expBucketId&&NeoConfig.expBucketId!="0"){Y.test=NeoConfig.expBucketId;}return Y;},X=function(Y){L=J;J=Y.sp;},V=function(){L=J;J=J;};B.on("ult:spaceIdChange",X);B.on("ult:trackClick",G);B.on("ult:trackView",W);B.on("ult:trackAdView",R);B.on("ult:trackPageParam",Q);B.on("ult:sendULTData",H);B.mix(B.mail.ult,{getULTData:a});},"1.0.0",{requires:["json","mail-track"]});

YUI.add("mail-common-tracker",function(B){var F=B.common.Utils.rocketstats.stat,L=NeoConfig,A,C="",D="",E=1000,J=500,H=function(){var M,N;if(!A){A=B.mail.Tabs;}N=A.getActiveTab().get("widget").fid||"";switch(N){case"Inbox":M="inbxTb";break;case"%40C%40Chats":M="chtTb";break;case"Draft":M="drftTb";break;case"Sent":M="sntTb";break;case"%40B%40Bulk":M="spmTb";break;case"Trash":M="trshTb";break;default:if(!N){M="whtsnwTb";}else{M="fldrTb";}break;}return M;},I=function(Q){var N=Q.args||{},R,P,M=Q.append||{},O;if(!(N.fid||M.t1)){if(!A){A=B.mail.Tabs;}O=A.getActiveTab().get("widget");if(O.type=="messagepane"){M.t1="msgRdTb";}else{N.fid=O.fid||"";}}R={ck:{action:Q.action,args:N,append:M,spid:Q.spid,thrd:L.hasConv}};P=B.JSON.stringify(R);if(D&&D===P){F("ULT","dupClick_"+Q.action);}else{B.fire("ult:trackClick",null,R);D=P;setTimeout(function(){D="";},J);}},K=function(U,O){var W=U.type,X=U.adPos||"UNK",M=B.common.persist.UserData,T,N,R={},S={leftRail:{"MNW":1,"REC":1},rightRail:{"SKY":1},content:{"LREC":1,"MON":1,"MIP4":1,"MIP5":1,"MIP6":1},header:{}},Q,P,V;if(!L.enableUltTest||B.common.Utils.isEmpty(U)||!B.Lang.isObject(U)){return;}V=H();switch(W){case"post_request":Q="adview_"+X+"_new";break;case"render":Q="adview_"+X+"_render_"+V;break;default:return;}if(X in S.leftRail){T="leftRail";}else{if(X in S.rightRail){T="rightRail";}else{if(X in S.content){T="content";}else{if(X in S.header){T="header";}else{T="unknown";}}}}N={sec:T,t2:"Ad-"+X,slk:"Ad-"+X,fp:L.fullPage,pp:M.get("userUIPref.msgPaneVisible"),mpp:M.get("userUIPref.messagesPerPage")};R={ln:{action:Q,rspns:"new",fp:L.fullPage,rndTm:U.render}};B.fire("ult:trackAdView",null,N,R);},G=function(U){var S=U.action,V,O=U.append||{};if(S){var T,P,Q;if(window.NeoGV&&NeoGV.cancelViewBeacon){NeoGV.cancelViewBeacon=false;if(S.substr(0,11)=="folderview_"){return;}}if(!T){if(!A){A=B.mail.Tabs;}Q=A.getActiveTab().get("widget").fid||"";}switch(S){case"spam_menu":case"spam_menu_btm":T=H();O.t1={inbxTb:T};break;case"spam_menu_msg_read":case"spam_menu_btm_msg_read":T="msgRdTb";O.t1={inbxTb:T};break;case"options_menu":case"options_menu_fresh":case"help_menu":case"hdr_ac":case"hdr_ac_sugg":T="hdr";break;case"launch_welcome":S="welcome_gx";T="whtsnwTb";break;case"launch_inbox":S="folderview_inbox";case"folderview_inbox":T="inbxTb";break;case"folderview_custom":T="fldrTb";break;case"folderview_chat":T="chtTb";break;case"folderview_draft":T="drftTb";break;case"folderview_sent":T="sntTb";break;case"folderview_bulk":T="spmTb";break;case"folderview_trash":T="trshTb";break;case"message_tabpane":T="msgRdTb";V=L.isFresh;if(Q=="%40B%40Bulk"){S="message_tabpane_bulk";}else{if(Q=="%40C%40Chats"){S="message_tabpane_chat";}}break;case"msgread_reading_pane":T=H();S="msgread_pp_"+T;break;case"compose_new":case"compose_reply_sender":case"compose_reply_all":case"compose_forward":S="compose";break;case"sendconfirm_full":T="sndcnfrmTb";break;case"search_results":case"search_refinement":T="srchTb";S=L.fullPage?"srch_fullpage":"srch";break;case"folderview_inbox_empty":case"folderview_chat_empty":case"folderview_draft_empty":case"folderview_sent_empty":case"folderview_trash_empty":case"folderview_bulk_empty":case"folderview_custom_empty":T=H();S="folderview_empty";break;default:return;break;}var M=B.common.persist.UserData,W=M.get("userUIPref.msgPaneVisible"),N={t1:T,fp:L.fullPage,pp:W,mpp:M.get("userUIPref.messagesPerPage")},R={ln:{action:S,fp:L.fullPage,pp:W,fr:V,om:L.om,append:O,thrd:L.hasConv}};P=B.JSON.stringify({pgData:N,lnData:R});if(C&&C===P){F("ULT","dupView_"+S);}else{B.fire("ult:trackView",null,N,R);C=P;setTimeout(function(){C="";},E);}}};if(L.enableUltTest){B.on("mt:view",G);B.on("mt:click",I);}},"1.0.0",{requires:["ult-tracker"]});

YUI.add("mail-ui-workspace-base",function(A){var W=A.Node,L=W.create,B=A.common.Utils,R=B.substitute,P=B.escapeHtml,S=B.unescapeHtml,K=B.loadDarlaAndExecute,T=A.config.win||window,C=T.Neo||0,V,G=NeoConfig,I=!(G.pfm&&G.pfm.count),E=0,Z=false,U=["_shared_module_compose","_shared_module_toolbar_compose","_shared_module_compose_message_header","_shared_module_offscreen_bin_compose","_shared_module_offscreen_bin_compose_menu_color_picker","_shared_module_offscreen_bin_compose_menu_spellcheck","_shared_module_offscreen_bin_compose_modal_cancel_compose","_shared_module_offscreen_bin_compose_menu_spell_langs","_shared_module_compose_reply","mail-ui-authorview-base"],F="%40B%40Bulk",Q,D,N=false,H=(parseInt(G.uploaderVersion,10)===2),O="mail-service-uploader-v"+(G.uploaderVersion||"1");if(G.bidi){U.push("comms-intl-bidihighlight");}if(G.om){U.push("om-controller-compose");}U.push(O);A.Node.prototype.focus=function(){try{this._node.focus();}catch(Y){}};function J(){var Y=arguments;A.use("rocket-stats",function(){B.rocketstats.stat.apply(0,Y);});}function X(a){var Y=a||function(){};if(!G.isFresh&&G.intl!=="jp"){A.use("gx_bootstrap",Y);}}A.namespace("mail.ui");A.mail.ui.Workspace=new function(){var l=this,AE=A.mail,n=AE.FoldersView,Aq=AE.ui.Toolbar,A0=AE.Controller,h=A0.Folders,AL=AE.Tabs,A4,AT,Au,A5,Ac="#toolbar",AV=".switcher",d=".commontasks",A2={},AM={},AN=0,AO,Av,A9,y,i,Am,z,As,Ae,Ab,BE=A.on("ds:msg:remove",function(BI,BH){if(BI==="Inbox"){for(var BG in BH){A2[BH[BG].mid]=true;}}});A.once("ds:msg:change",function(){Ae=1;});function Ag(){if(N){K(function(BG){BG.fire("renderPrefetchedAd",{action:((N.isFolderEmpty&&N.goTo==1)?D+"_empty":D)});},false);N=false;}}function AR(BI){var BG=A.mail.Tabs,BH=A.mail.FoldersView;window.onhashchange=function(BJ){if(typeof BJ.newURL==="string"){if(BJ.newURL.indexOf("#")>0&&BJ.oldURL.indexOf("#")>0){return;}}if(BG.tabs[0].NAME.indexOf("INBOX")!=-1){BG.switchToTab(BG.tabs[0]);window.history.state&&window.history.go(-1);}else{folder={fid:"Inbox",forceRefresh:"",name:"Inbox",mailboxId:"Inbox",smartFolder:""};BH.set("fid",folder);}if(typeof window.history.state==="object"&&window.history.state!=null){window.history.state.id=0;}J("launch","backButton");return false;};}function An(BM){var BI=(G.isFresh)?"minty_module_toolbar_inbox_message_fresh":"minty_module_toolbar_inbox_message",BH=[G.hasConv?"minty_module_toolbar_inbox_message_thread":BI,"common-ui-menu-helper"],BL=(E==1),BK=G.hasGalaxy&&!BL,BG,BJ;G.hasConv?BH.push("mail-ui-convpane-read"):BH.push("mail-ui-messagepane-read");if(G.notification){BH.push("common-ui-notification");}if(BM.UA.ie>0){G.backButton=0;}if(G.backButton){AR();}if(!BM.Lang.isUndefined(G.om)){BH.push("om-controller-views","_shared_module_open_mail_application_messagepane","om-ui-views-simple","om-ui-views-hidden","om-controller-internalapi");if(G.hasIM){BH.push("om-ui-views-folderpane");}}if(G.cw&&!G.noCache){BH.push("mail-common-cachewarmer");}BJ=G.usingSearch?"":((Math.random()<G.preCacheChampThreshold)?"mail-common-precache-ranking":"mail-common-precache-unread");if(!G.usingSearch&&G.fullPage){G.hasConv?BH.push("common-ui-conv-listview-ext"):BH.push("common-ui-listview-ext");}if(G.bidi){BH.push("comms-intl-bidi");}if(BK){BM.galaxy&&BM.galaxy.isRushMore&&BH.push("gx_profiledata");BH.push("gx_messages");}if(G.themeJSModule!=="false"){BH.push(G.themeJSModule);}if(G.isFresh){BH.push("mail-ui-workspace-fresh","searchautocomplete");}if(G.uh2Enabled){BH.push("uh2-base","substitute","node-focusmanager","querystring-stringify");}BH.push(BJ,"mail-ui-workspace-horizontal-slider","contacts-api-config","contacts-ui-contactseventstranslator","mail-error",function(BS){if(G.prefetchAd&&(G.prefetchAdType==2)){Ag();}if(G.themeJSModule!=="false"){BS.mail.ui.themes[G.themeJSModule].init();}var BR={},BQ=BS.one("#rail-resize-hori");if(BQ&&!G.usingSearch){BR=new BS.mail.ui.WorkspaceHSlider();}var BP=BS.mail.common,BN=BP&&BP.cachewarmer,BO;if(BN){if(G.disablePrefetchLaunchMsgs==0){BN.setupLaunch(BL);BL&&!I++&&(BO=2000)&&BN.addInboxPreFetching();BN.addCompose(BO,!BO,U);if(!BO){BN.addDelay(5000);BN.addInboxPreFetching();BN.add(function(){I=1;});}}BN.warmUp("pixiedust",["mail-common-pixiedust"]);BN.run();}if(G.uh2Enabled){G.setFinished&&G.setFinished("uh2");if(G.isBizmail){BS.fire("change:username");}if(G.hasUh2Notification){BS.Lang.later(9000,null,function(){BS.use("uh2-notification-base",function(){var BT=G.isInternalIP&&window.location.href.match(/&rtb_extra=1/)||window.location.href.match(/\?rtb_extra=1/);BT&&((new Image()).src="/neo/rtbeacon.gif?uh2_done=1");});});}}if(window.location.search.indexOf("qa=1")>0){J("launch","flushStat",null,true);}if(G.isFresh){l._setUpFreshToolTips();if(G.isInternalIP&&G.showFeedback){l._setupFeedback();}}});BM.Lang.later(0,null,function(){BM.use.apply(BM,BH);});l.presetMsgs();l.set("postLoadFired",1);BM.fire("ws:postLoad");}function e(){var BG,BH=NeoGV.statQueue;for(BG=0;BG<BH.length;BG++){J(BH[BG].name,BH[BG].well);}NeoGV.statQueue=[];}function Af(BK,BJ){var BL,BG=B.parseQueryString(),BH;e();D="launch_welcome"+((G.low_bandwidth)?"_low":((G.ssl_launch||G.isFullSSL)?"_ssl":""));M();A.namespace("contacts");A.contacts.clientConfig={requestFn:A.common.net.SessionMgr.requestProxy,wssid:G.wssid,guid:G.neoguid,wspath:G.socdirProxyPath};if(G.strings){strings.str_ctrl=G.strings.str_ctrl;strings.str_enter=G.strings.str_enter;strings.str_ctrl_shift=G.strings.str_ctrl_shift;strings.str_ctrl_alt=G.strings.str_ctrl_alt;strings.str_right_click=G.strings.str_right_click;}if(C.ff3dot5&&G.fullPage){A.one("#main").setStyle("position","relative");}G.windowId=Math.round(Math.random()*1000000000);G.permMsgDelOp1=0;G.permMsgDelOp2=0;A.on("ds:msg:remove",function(BO,BN){if(BO=="Trash"||BO=="%40B%40Bulk"){G.permMsgDelOp1=1;G.permMsgDelOp2=1;}});function BM(){G.permMsgDelOp2=0;A.Lang.later(30000,null,BM);}A.Lang.later(0,null,BM);function BI(){var BO=false,BW=false,BN;if(!A9){AQ();}A.mail.Tabs.setPageMode(G.fullPage);var BS=A.one(Ac),BZ,BR,BU,BV,BX;if(!AO&&BS){AO=new Aq({root:BS.one(AV),menu:{template:function(Bd,Ba){var Bc=G.mnuTmplMap[Bd.replace("btn","menu")],Bb=Bc?["mail-ui-inboxmenu-base",Bc]:"mail-ui-inboxmenu-base";
A.use(Bb,function(Be){Be.mail.ui.InboxMenu.insert(Bd,Ba);});},keys:function(Bb,Ba){A.use("mail-ui-inboxmenu-base",function(Bc){Ba(Bc.mail.ui.InboxMenu.getValidKeys(Bb));});},enterAccel:function(Ba){A.use("mail-ui-inboxmenu-base",function(Bb){Ba(Bb.mail.ui.InboxMenu.getEnterAccel());});}}});AO.on("itemSelected",AD);V.originalNav=AO;Av=BS.one(d);}var BY=function(){if(C.msgHdrStack.length){var Ba=A.one("#tablist .messagetabs.active a"),Bb=0,Bd=[],Bf,Bc,Be=false;BR="Inbox";if(Ba){Bc=parseInt(Ba.getAttribute("tabindex"));}A.all("#tablist .messagetabs").each(function(Bg){Bb=parseInt(Bg.one("a").getAttribute("tabindex"));var Bh="div#shellcontent #messageid"+Bb;Bg.remove();Bf=A.mail.model.DataStore.Messages.toMessage(BR,C.msgHdrStack[Bb]);if(Bb==Bc){Be=[Bf,Bh];}else{Bd.push([Bf,Bh]);}});if(Be){Bd.push(Be);BK=2;if(G.hasGalaxy){X();}}if(Bd){setTimeout(function(){var Bg,Bh=A.mail.Tabs.getActiveTab();for(Bg in Bd){A.fire("openMessage",{fid:BR,msg:Bd[Bg][0]},A.bind(function(Bj){try{A.one(Bj).remove();}catch(Bi){}},null,Bd[Bg][1]));}Bh&&A.mail.Tabs.switchToTab(Bh);},10);}}};if(!BJ&&BK==0){if(A.one("#tabinbox").get("parentNode").hasClass("active")){BK=1;X();}BY();}else{if(BK==1){BY();}}if(BK==1){D=(G.low_bandwidth)?"launch_inbox_low":((G.ssl_launch||G.isFullSSL)?"launch_inbox_ssl":"launch_inbox");}else{X();}if(G.intl!=="jp"&&!G.isFresh){if(!AT){A.use("gx-ui-galaxyview-base",function(Bd){var Bb=null;if(G.udbOpenFailed==true){Bb=Bd.Node.create('<div > <ul class="error">'+R(strings["str_whats_new_udb_failure_msg"],{},null,null,strings)+"</ul></div>");}BU=new Aq({root:Bb});BV=new Bd.gx.ui.GalaxyView({contentToolbar:BU});BX={yTabEl:Bd.one("#tabwhatsnew").get("parentNode"),yTabContentEl:Bd.one("#galaxyPageContainer"),label:"WHAT'S NEW",ult:{action:"whats_new_tab",spid:"welcome_gx"},widget:BV,sync:true,inactive:(BK!=0)};AT=AI(BX);BL=1;var Bc=false;var Ba=function(){var Be="galaxy=1";C.async("GET","whatsnew?"+Be+"&mode=data&ncrumb="+G.ncrumb+G.extraURLArgs,{success:function(Bf){BK=0;if(!Bc){C.exec(Bf.responseText);}if(G.userAdLocations.LREC){var Bg=Bd.one("#slot_LREC");Bg&&Bg.setStyle("display","");}!G.noDarla&&K(function(Bh){BV.fire("darlaEvent",{action:"welcome_gx",refreshAds:true});},false);X(function(Bh){Bh.galaxy.loadRushmoreImages();});Bd.fire("galaxyLoaded");},chunked:function(Bf){C.exec(Bf);Bc=true;}});};l.fetchWhatsNew=Ba;if(G.isMPWelcomeLaunch){Ba();}BV.after("activeChange",function(Be){if(Be.newVal){if(Be.newVal==1&&BK!=0){Ba();}else{BV.fire("darlaEvent",{action:"welcome_gx"});}}});});}}else{if(!G.isFresh){BU=new Aq({root:null});A.use("mail-ui-whatsnew-base-jp",function(Ba){BV=new Ba.mail.ui.WhatsNewView({contentToolbar:BU});});BX={yTabEl:A.one("#tabwhatsnew").get("parentNode"),yTabContentEl:A.one("#galaxyPageContainer"),label:"WHAT'S NEW",content:A.one("#shellcontent").get("innerHTML"),ult:{action:"whats_new_tab",spid:"welcome_gx"},widget:BV,inactive:(BK==1)};AI(BX);if(G.userAdLocations.LREC){BN=A.one("#slot_LREC");BN&&BN.setStyle("display","");}BV.after("activeChange",function(Ba){if(Ba.newVal){A.fire("jpwhatsnew:active");BV.fire("darlaEvent",{action:"welcome_gx"});}});}}if(!A4){var BT,BQ;A.fire("Y.mail.ui.Workspace:switchToInbox:start");BR=(C&&C.fid)||"Inbox";BQ={fid:BR,dontBind:Ae,type:"list"};if(G.hasConv){BZ=new A.mail.ui.ConvView(BQ);}else{BZ=(G.usingSearch)?new A.mail.ui.Search(BQ):new A.mail.ui.MessagesView(BQ);}BW=(G.usingSearch)?false:BZ.isEmpty(BR);BZ.once("renderComplete",function(){l.fire("initComplete",BT);});BX={label:BR,widget:BZ,ult:{action:"folder_tab"}};BT=A.one("#inboxcontainer");if(BT){BX.yTabEl=A.one("#tabinbox").get("parentNode");BX.yTabContentEl=BT;BX.inactive=(BK!=1);BX.sync=true;n.set("active",!BX.inactive);}A4=AI(BX);A4.widget.set("loaded",1);if(A4){A4.on("activeChange",function(Ba){n.set("active",Ba.newVal);});if(G.hasReadTabPool){A4.once("activeChange",function(Ba){setTimeout(function(){AS.check();},0);});}BL=1;A.fire("Y.mail.ui.Workspace:switchToInbox:complete");}}if(strings.str_cfg_tog_prefetch_contacts){AZ(true);}var BP=(BZ&&BZ.get("active"))?BZ:BV;if(!BO&&!G.isMPWelcomeLaunch&&(G.hasGalaxy||BK==1)&&BP){N={isFolderEmpty:BW,goTo:BK};}if(G.isFresh&&G.feature_cue_fresh&&!G.isMailPlus){A.use("common-ui-notification",function(){var Ba=new A.common.ui.Notification({dir:"bottom",sticky:false,closeButton:true,height:"45px"});Ba.notify('<div class="feature-cue hidden"><div class="tgtWNEB" id="tgtWNEB"></div></div>',60000);});}if(!G.noDarla){if(!BO){if(N){if(G.intl==="us"){J("launch","beforeDarlaInboxView");}if(G.prefetchAd){(G.prefetchAdType==1)&&Ag();A.fire("mt:view",{action:((BW&&BK==1)?D+"_empty":D)});}else{K(function(){BP.fire("darlaEvent",{action:((BW&&BK==1)?D+"_empty":D)});},false);}}else{if(G.intl==="us"){J("launch","beforeDarlaWelcomeView");}}}else{if(G.intl==="jp"){K(function(){BV.fire("darlaEvent",{action:D});},false);}}}if(!Au&&G.contactsTabEnabled){BX={yTabEl:A.one("#tabcontacts").get("parentNode"),label:"Contacts",noDefault:true,inactive:true,forcePane:true,sync:true,ult:{action:"contacts_tab",spid:"contacts_tab"},init:function(Bb,Ba){A.use("contacts-ui-contactsview",function(Bd){var Bc=Bd.contacts.ui.getContactsViewInstance();Bc.type="contactstab";A6(Bc,Bb);Bb.widget=Bc;Bd.contacts.ui.ContactsView.contactsTab=Bb;Ba();});}};Au=AI(BX);}if(!A5&&G.calendarTabEnabled){BX={yTabEl:A.one("#tabcalendar").get("parentNode"),label:"Calendar",noDefault:true,inactive:true,forcePane:true,sync:true,ult:{action:"calendar_tab",spid:"calendar_zodiac"},init:function(Bb,Ba){A.use("calendar-ui-calendarview",function(Bd){var Bc=Bd.calendar.ui.getCalendarViewInstance();Bc.type="calendartab";A6(Bc,Bb);Bb.widget=Bc;Bd.calendar.ui.CalendarView.calendarTab=Bb;Ba();});}};A5=AI(BX);}}B.startConsole(BG.ylog);BI();y=A.one("#main").get("winWidth");l.set("cascadeReady",true);E=BK;if(G.mrd&&G.mrd.action){callFromLaunch=true;g(null,true);}if(C.openCompose){A.fire("newMessage");}return BL;}function Ad(BG,BI){var BJ=A.one("#paneshell");var BH=strings.str_tog_loadRTLCss?"right":"left";if(BI){BG.set("shellcontentOffset",BJ.one("#shellcontent").getStyle(BH));
BJ.one("#shellcontent").setStyle(BH,"0");BJ.addClass("withoutshellnavigation");}else{BJ.one("#shellcontent").setStyle(BH,BG.get("shellcontentOffset"));BJ.removeClass("withoutshellnavigation");}}function BF(BG,BH){if(BH){A.one("#shellnavigation").all(".items").addClass("hidden");}else{A.one("#shellnavigation").all(".items").removeClass("hidden");}}function w(BG,BH){if(BH){A.one("#paneshell").addClass("withouttoolbar");}else{A.one("#paneshell").removeClass("withouttoolbar");}}function m(BG){var BJ=A.one(Ac),BH,BI;if(AO&&BG.newVal){BH=AO.get("content");BH&&BH.remove();BI=BG.newVal;BI=BI?BI.get("content")||"":"";BI&&BJ.insert(BI,0);BJ.hasClass("hidden")&&BJ.removeClass("hidden");AO&&AO.set("active",0);AO=BG.newVal;AO&&AO.set("active",1);}}function Az(BH){if(Av&&BH.target.get("active")){var BG=BH.prevVal,BI=BH.newVal,BJ=BI?BI.get("content")||"":"";if(BJ!=Am){if(BJ&&BJ.one&&(G.isInternal!="1"||!G.hasConv)){var BK=BJ.one(".btn-bug");if(BK&&!G.isFresh){BK.remove();}}Av.setContent(BJ);BG&&BG.set("active",0);Am=BJ;BI&&BI.set("active",1);}}}function AJ(BJ,BK){if(!BJ||!BJ.fid){return;}var BH=new B.Stopwatch("FolderView"),BM=G.bidi,BN=BJ.extraParams||(BJ.smartFolder&&BJ.forceRefresh),BG=BJ.smartFolder&&!BJ.forceRefresh,BI=BJ.fid,BL=BJ.checkMail;if(!Z){Z=true;D=(G.low_bandwidth)?"launch_inbox_low":((G.ssl_launch||G.isFullSSL)?"launch_inbox_ssl":"launch_inbox");}h.get(BI,{success:function(BW){BJ=BW;var BQ=BJ.folderInfo.fid,BO=BJ.folderInfo.name,BR=A.mail.ui.common.StringUtils.getSystemFolderName(BQ,BO,true,BG),BU,BP=G.roundTrip,BY,BS=window.rt_LogTime;if(BK){BY=n.get("fid");if(BY&&BY.fid!==BQ){n.set("fid",{fid:BQ,name:BO,checkMail:false});}}else{if(A4){if(BM){BR=A4.widget.msgList.getFolderNameBidi(BR,BJ.folderInfo.dir,BJ.total);}else{if(!G.isFresh){BR+="  <i>("+BJ.total+")</i>";}}A4.set("title",BR);if(!G.usingSearch){A4.widget.msgList.set("extraParams",BN);A4.widget.msgList.set("fid",BQ);BU=(A4.widget.msgList.get("fid")==BQ);}else{var BX=(BQ==A4.widget.fid),BT=(BL&&A4.widget.fid=="Inbox");if(!BX&&!BT){A4.widget.fire("search:start");A4.widget.listMgr.flush();A4.widget.abort();A4.widget.makeRequest("list",{fid:BQ});}}A.mail.Tabs.switchToTab(A4);}else{Af(1);if(BM){BR=A4.widget.msgList.getFolderNameBidi(BR,BJ.folderInfo.dir);}else{if(!G.isFresh){BR+="  <i>("+BJ.total+")</i>";}}A4.set("title",BR);}C.fid=BQ;function BV(){if(BI===C.fid){if(BP&&BS){if(BP.t3){BS("t3",BP.t3,true);delete BP.t3;}if(BP.t4){BS("t4",BP.t4,true);delete BP.t4;}}BH&&BH.stop();}}if(!A4.widget.handledInitialRender){BV();A4.widget.handledInitialRender=true;}A4.widget.once("renderComplete",BV);}}});}function AD(BJ){var BI=BJ?BJ.dataAction:0,BG,BH=BJ?BJ.item:0;switch(BI){case"compose":BG={action:"compose_new_nav_toolbar",spid:"compose_new"};if(BH&&BH.hasClass("menu-active-item")){BG.action="compose_menu_toolbar_sel";BG.append={ltxt:"compose"};}if(A.mail.Tabs.getActiveTab().widget.type=="messagepane"){BG.append={sec:"msgReadTlbr"};}A.fire("mt:click",BG);A.fire("newMessage",{noScroll:true});break;case"new-conv":A.use("mail-ui-messenger",function(BK){BK.mail.ui.Messenger.showErrorDialog();});break;}}function AQ(){var BG=G.neoJsHeader.module,BH=G.neoJsHeader.headerClass;A.Lang.later(0,null,function(){n.render();});AL.render();A.mail.ui.SearchBar.render();if(G.intl!=="jp"){A.Lang.later(0,null,function(){A.use(BG,function(BI){BI.mail.ui[BH].render();});});}b();A9=1;l.fire("renderComplete");}function Al(){var BG;BG="%0AURL: "+escape(window.location.host);BG+="%0AYID: "+escape(G.loginId);BG+="%0ABrowser: "+escape(A.UA.ie?"IE"+A.UA.ie:(A.UA.safari?"Safari"+A.UA.safari:(A.UA.chrome?"Chrome"+A.UA.chrome:(A.UA.gecko?"Firefox"+A.UA.gecko:"unknown"))));BG+="%0AUser Agent: "+escape(navigator.userAgent);BG+="%0AIP: "+escape(G.ipAddress);BG+="%0Afarm: "+escape(G.farm);BG+="%0ABuild Number: "+escape(G.buildNumber);BG+="%0ABuild Type: "+escape(G.buildType);BG+="%0AIntl: "+escape(G.intl);BG+="%0Asid: "+escape(G.cookieID);BG+="%0AScreen resolution: "+escape(screen.width)+"x"+escape(screen.height);return BG;}function b(){n.on("fidChange",function(BK){var BM=BK.prevVal||{},BL=BM.fid,BI=BK.newVal.fid,BH=BK.newVal.smartFolder||BM.smartFolder;if(BI==="Inbox"){J("workspace","folderSwitchToInbox");}else{J("workspace","folderSwitchFromInbox");}B.assert(BI.search("_")==-1);if(A4){var BJ=BL;if(!BJ){BJ=(C&&C.fid)||"Inbox";}(BI!=BJ||(BI==BJ&&BH))&&A4.widget.set("loaded",0);}AJ(BK.newVal);});A.on("openMessage",Ap);A.on("openConv",Ah);A.on("search:input",A8);A.on("tab:mousedown",function(BH){var BI=BH&&BH.cfg&&BH.cfg.ult,BK,BJ;if(BI){BJ=C.fid&&C.fid.toLowerCase();if(BJ&&BI.action=="folder_tab"){switch(BJ){case"inbox":case"draft":case"sent":case"trash":BK="folderview_"+BJ;break;case"%40b%40bulk":BK="folderview_bulk";break;case"%40c%40chats":BK="folderview_chat";break;default:BK="folderview_custom";}BI.spid=BK;}A.fire("mt:click",BI);}});A.on("newMessage",AK);A.on("editMessage",f);A.on("openOptions",Y);A.on("updateDataStore",AC);A.on("startPrefetch",function(BM){var BL=A.mail.common,BI=BL&&BL.cachewarmer,BK=BM.msgHdrList,BN=BM.fid,BJ=BM.delay,BH=BM.preCacheMids;BI&&BI.preFetchMessages(BN,BK,100,BH);if(BM.prefetchNextRelease){BI&&BI.prefetchNextRelease(G.prefetchRelease);}});A.on("openInbox",function(){n.set("fid",{fid:"Inbox",name:strings.str_tabs_inbox});});A.on("openRUEFCInbox",function(){n.set("fid",{fid:"Inbox",extraParams:{maxMessagesToScanForContacts:G.msgsToScanContacts||2000},smartFolder:true,name:strings.str_nav_email_from_ctcts});});A.on("openContacts",AU);A.on("openCalendar",A1);A.on("openFolder",AJ);if(G.fullPage){A.on("ws:fpMsgWidth",BD);A.on("darla:res",Ao);}A.one("#tabinbox").once("mousedown",function(BH){if(Z){return;}BH.halt(true);var BI=(C&&C.fid)?{fid:C.fid,name:BH.currentTarget.get("text")}:{fid:"Inbox",name:strings.str_tabs_inbox};n.set("fid",BI);!I++&&A.fire("startPrefetch",{fid:"Inbox",msgHdrList:null,delay:100,prefetchNextRelease:true});D=(G.low_bandwidth)?"launch_inbox_low":((G.ssl_launch||G.isFullSSL)?"launch_inbox_ssl":"launch_inbox");});var BG=A.one("#signout");
if(BG){BG.on("click",function(BH){A.fire("signout");BH.preventDefault();});A.on("signout",u);}A.on("addContact",v);A.on("mrd:launch",g);A.on("update:view",Aj);A.on("update:density",A7);if(G.fullPage){A.on("windowresize",AA);A.on("uData:change",At);A.after("tabChange",k);A.on("tabBlur",Aw);}window.onbeforeunload=Ak;window._TBCD=x;if(G.intl==="jp"){A.use("mail-ui-workspace-base-jp",function(BH){BH.mail.ui.WorkspaceJp.bindUI();});}A.on("themes:change",function(BH){var BI;if(BH.info&&BH.info.meta){BI=BH.info.meta.darktab?"addClass":"removeClass";A.one("body")[BI]("tictac-dark-theme");}});}function AA(){if(G.fullPage){C.resizeFullpage();Ay();}}function r(){if(G.launchMsgPrefetch==1&&G.prefetchObj&&G.prefetchObj.result){var BH=G.prefetchObj.result.message;for(var BG in BH){if(!A2[BH[BG].mid]){AM[BH[BG].mid]="server";AN++;A.mail.Controller.Messages._preset({fid:"Inbox",msgObj:BH[BG]});}}if(G.prefetchObj.prefetchLimitReached){A2={};A.detach(BE);}J("workspace","prefetchedMessages_"+AN);}}function At(BH){var BI=(Ab<50)?G.minPageSize:((Ab>200)?200:Ab),BG=(BH&&BH.userUIPref)?BH.userUIPref.messagesPerPage:0,BJ=(BG<50)?G.minPageSize:((BG>200)?200:BG);if(BI!=BJ){s();}}function s(){A.use("common-ui-dialog-helper",function(BH){var BG=strings.str_modal_pagination_change.replace("{{str_branding_mail}}",strings.str_branding_mail);BH.common.ui.DialogHelper.alert({hd:strings.str_modal_pagination_change_title,bd:BG,hideClose:true,disableEsc:true},{ok:{handler:function(){t(true);}}});});}function k(BG){if(BG){var BH=BG.get("scrollWidth");if(BH){j(BH);}}}function Aw(BH){if(!BH){return;}var BG=BH.widget?BH.widget.get("scrollWidth"):0;if(G.userAdLocations.SKY==="true"&&G.fullPage&&BG>0&&A.one("body").hasClass("withoutad")){BH.widget.set("scrollWidth",null,{reset:true});}A3(null);}function BD(BG){j(BG&&BG.newVal);}function Ao(BG){if(!BG){return;}if(BG.lowRes){c();}else{AG();}}function j(BG){var BH=A.one("#main").get("offsetWidth"),BI=A.one("#shellnavigation").get("offsetWidth")+BG;if(BI>BH){A3(BI);}else{if(BI<BH){A3(null);}}}function AG(){var BG=A.mail.Tabs.getActiveTab();if(BG&&BG.widget&&BG.widget.get("scrollWidth")){A3(null);BG.widget.set("scrollWidth",null,{reset:true});}}function c(){var BK,BI,BJ,BH;var BG=A.mail.Tabs.getActiveTab();if(BG&&BG.widget){BK=BG.widget.get("scrollWidth");if(!BK){A3(null);}else{BH=A.one("#main").get("winWidth");BI=A.one("#shellnavigation").get("offsetWidth");BJ=BK+BI+A.one("#theAd").get("offsetWidth");if(BH>BJ){A3(null);}}}}function Ay(){var BG;if(y&&A.one("#main")&&A.one("#shellnavigation")&&A.one("#theAd")){BG=A.one("#main").get("winWidth");if(i){if(BG>y){c();}}else{if(BG<y){AG();}}y=BG;}}function A3(BH){var BG=A.one("#main");i=BH;if(BH){BG.setStyle("width",BH+"px");}else{BG.setStyle("width",null);}}function g(BH,BG){A.use("mail-controller-mrd",function(BI){if(BI.mail.Controller.MRD){if(BG){BI.mail.Controller.MRD.handleLaunch();}else{BI.mail.Controller.MRD.handleClick(BH);}}});}function x(BG){if(BG){A.use("mail-controller-mrd",function(BH){BH.mail.Controller.MRD.handleToolbar(BG);});}}function AU(BG){A.fire("Y.mail.ui.Workspace:openContacts:start");A.use("contacts-ui-contactsview",function(BI){var BH=BI.contacts.ui.getContactsViewInstance(BG);BH.updateConfig(BG);BI.mail.Tabs.switchToTab(Au);});}function v(BI,BJ,BH,BG){if(BI==BJ){BI="";}A.use("contacts-ui-addcontactdialog","common-net-sessionmgr",function(){var BK=new A.contacts.ui.AddContactDialog[(BH||BG)?"editDialog":"createDialog"](BG?BG:(BH?{fields:BH}:{name:P(BI),email:P(BJ)}),{requestFn:A.common.net.SessionMgr.requestProxy,disableBuddyAdd:strings.str_cfg_tog_disableBuddyAdd,guid:G.neoguid,wspath:G.socdirProxyPath,composeFn:function(BM){var BL={cbfn:function(BN){var BO=BN.get("header");BO.to=[{email:BM||""}];BN.set("header",BO);}};AK(BL);}});});}function A1(){if(A5&&G.calendarTabEnabled){A.mail.Tabs.switchToTab(A5);}}function Y(BG){if(strings.str_cfg_tog_classic_option){var BH="/ym/Options";if(BG&&BG.params&&BG.params.section==="spam"){BH="/ym/spamoptions";}A.use("common-ui-dialog-helper",function(BI){BI.common.ui.DialogHelper.alert({hd:strings.str_conv_btn_view_conv_options,bd:strings.str_modal_option_attention},{ok:{handler:function(){window.open(BH,"new");}}});});return;}A.use("options-ui-mailoptionsview",function(BL){var BI,BJ;if(BG&&BG.params&&BG.params.section&&BG.params.section=="spam"){BG.params.section="general";}if(BL.mail.ui.optionsTab!=null){BL.mail.Tabs.switchToTab(BL.mail.ui.optionsTab);if(BG&&BG.params&&BG.params.section&&(BI=document.getElementById("moIframeTab"))){try{BL.fire("openMOTab",{page:BG.params.section});}catch(BK){}}}else{BG=(typeof BG!=="undefined")?BG:{};AI({label:strings.str_tabs_options,forcePane:true,widget:BL.options.ui.getOptionsViewInstance(BG.params||{}),acwHandler:function(BM){BL.mail.ui.optionsTab=BM.tab;}});}});}function A8(BN){if(strings.str_cfg_tog_mailSearchEnabled!==undefined&&strings.str_cfg_tog_mailSearchEnabled===false){return false;}var BM,BK,BO,BJ,BI,BH,BL;if(BN.query!==undefined){BN.query=(typeof BN.query==="string")?{keyword:BN.query}:BN.query;}var BG=new B.Stopwatch("Search","start");BN.stopWatchRT=BG;A.use("mail-ui-mailSearchController",function(BP){if(BP.mail.ui.searchTab!=null&&!(window.location.href.match(/&multi=1/)||window.location.href.match(/\?multi=1/))){BK=BP.mail.ui.searchTab;BP.mail.Tabs.switchToTab(BK);BM=BK.widget;BM.set("query",BN.query);BM.set("customTitle",BN.customTitle);BM.set("stopWatchRT",BG);BM.sync();}else{BN.fid="%40S%40Search";BN.type="search";AI({label:strings.str_tabs_search,widget:new BP.mail.ui.Search(BN),acwHandler:function(BQ){BP.mail.ui.searchTab=BQ.tab;BP.mail.ui.searchTab.widget.sync();}});}});}function AK(BK,BN){if(!BN){var BG=AL.getActiveTab();if(!AL.canDeactivateTab(BG)){BB(BG,function(){AK(BK,true);});return;}}var BI=new B.Stopwatch("Compose","start");A.fire("Y.mail.ui.Workspace:composeMessage:start");BK=BK||{};if(BK.cdo&&!BK.cdo.get("passive")){AH(BK,BI);}var BL=null,BJ=BK.widget,BH=[].concat(U),BM;BM=function(BO){var BP,BW=(G.isFresh)?strings.str_tabs_compose_fresh:strings.str_tabs_compose,BR=BK.action,BV=BJ&&BJ.msgPane,BU;
if(BJ&&!BL.get("active")){if(BJ._evt["activechange-composeresume"]){BO.detach(BJ._evt["activechange-composeresume"]);}BJ._evt["activechange-composeresume"]=BL.after("activeChange",function(BX){if(BX.newVal){BO.detach(BJ._evt["activechange-composeresume"]);BM(BO);}});return;}BI.start(1,"initView");window.UploaderService=window.UploaderService||BO.mail.UploaderService;if(!BK.forceNew){var BQ,BT,BS=AL.tabs;for(BQ=0;BQ<AL.tabs.length;BQ++){BT=BS[BQ].widget;if(BT&&BT.type&&BT.type=="author"){if(BT.matchOrigin(BK)&&!BT.get("dirty")&&!BT.isSaved()){BO.Lang.later(0,0,function(){BO.mail.Tabs.switchToTab(BS[BQ]);});BI.stop("ComposeInTab");return;}}}}BP=new BO.mail.ui.AuthorView();BI.action=BR;BK.stopwatch=BI;BU=BK.oMsg&&BK.oMsg.header&&BK.oMsg.header.subject;BP.initCompose(BK);if(BK.oMsg&&BK.oMsg.header){BW=P(S(BK.oMsg.header.subject));}if(BJ){if(!BK.hasMsgList&&(BR=="reply_all"||BR=="reply_sender"||BR=="forward")&&BV&&G.send_confirm_nav_enabled){BP.backToMessageTab=function(BY){var BX=function(){if(BY=="back-to-message"){BV.message.header.subject=BU;BL.set("title",BU);}else{BL.set("title",null);}BL.set("canDeactivate",-1);BL.once("widgetChange",function(BZ){BL.set("canDeactivate",1);A6(BZ.newVal,BL);});BP.after("closeChange",function(BZ){BL.set("widget",BJ);});BL.removeChild(BP);};if(BY=="next"||BY=="prev"){BO.use("mail-ui-messagelist-base","mail-ui-messagepane-next-prev",function(){BV&&BV.stepMessage(BY,BX,0,0,1);});}else{BX();}};}BL.set("title",BW);BL.once("widgetChange",function(BX){BX.prevVal.after("closeChange",function(BY){if(BY.newVal){BL.removeChild(BX.prevVal);}});BX.newVal.after("closeChange",function(BY){if(BY.newVal){BL.set("close",1);}});A6(BX.newVal,BL);});BL.set("widget",BP);}BP.subview.once("renderComplete",function(){BI.stop();});if(!BL){BL=AI({label:BW,widget:BP,forcePane:false,sync:true,noScroll:BK.noScroll});if(!BL){return;}else{BL.detach("closeHalted");BL.on("closeHalted",function(BX){BX.halt(true);});}}BP.bindComposeView();BO.fire("Y.mail.ui.Workspace:composeMessage:complete");if(BK.callFromLaunch){!G.noDarla&&K(function(BX){BX.fire("darlaEvent",{action:(G.low_bandwidth)?"launch_compose_low":((G.ssl_launch||G.isFullSSL)?"launch_compose_ssl":"launch_compose")});},false);}};if(BJ){BL=BJ.tab||A.mail.Tabs.getActiveTab();BL.detach("closeHalted");BL.on("closeHalted",function(BO){BO.halt(true);});}BH.push(BM);AZ();BI.start(1,"moduleLoad");A.use.apply(A,BH);}function AZ(BG){A.use("contacts-api","contacts-api-utils",function(BJ){var BH=BJ.contacts,BI=BH.utils,BK=BH.api;if(!BI.areContactsLoaded()){if(BG){BJ.Lang.later(0,null,function(){BK.load();});}else{BK.load();}}});}function f(BI){var BH=new B.Stopwatch("Compose","start");BI=BI||{};AH(BI,BH);var BG=[].concat(U);BG.push(function(BM){BH.start(1,"initView");window.UploaderService=window.UploaderService||BM.mail.UploaderService;var BK=AL.getTab(function(BN){return BN.type&&BN.type==="author"&&BN.matchOrigin(BI);});if(BK){BM.mail.Tabs.switchToTab(BK);}else{var BL=new BM.mail.ui.AuthorView();BH.action=BI.action;BI.stopwatch=BH;BL.initCompose(BI,true);var BJ=(G.isFresh)?strings.str_tabs_compose_fresh:strings.str_tabs_compose;if(BI.oMsg&&BI.oMsg.header&&BI.oMsg.header.subject&&BI.oMsg.header.subject!=""){BJ=P(S(BI.oMsg.header.subject));}BL.subview.once("renderComplete",function(){BH.stop();});BK=AI({label:BJ,widget:BL,noScroll:BI.noScroll,acwHandler:function(BO){var BN=BO.tab;BN.detach("closeHalted");BN.on("closeHalted",function(BP){BP.halt(true);});BL.bindComposeView();}});}});BH.start(1,"moduleLoad");A.use.apply(A,BG);}function AH(BH,BG){if(BH.oMsg&&BH.fid){BG.CMGStart=new Date();A.mail.Controller.Messages.get({fid:BH.fid,msg:BH.oMsg,ovparams:{truncateAt:null}},{success:function(BJ,BI){if(!BG.CMGEnd){BG.CMGEnd=new Date();BI&&BI.respProps&&(BG.wasCached=BI.respProps.wasCached);}},failure:function(){}});}}if(G.hasReadTabPool){var AS=function(){this.pool=[];};AS.prototype.create=function(){A.log("Creating a tab in readpool...");var BH,BG=Aa({invisible:1,close:1,reuse:1,acwHandler:a,ult:{action:"messageread_tab",spid:"message_tabpane"}});BH={msgList:0,reuse:1,close:1};if(G.hasConv){BG.widget=new A.mail.ui.ConvView(BH);}else{BG.widget=new A.mail.ui.MessagesView(BH);}BG.set("widget",BG.widget);BG.set("reuse",1);BG.widget.render(BG.elContent);A6(BG.widget,BG);this.add(BG,G.hasConv);};AS.prototype.add=function(BG,BH){if(BH===G.hasConv&&BG.reuse){this.pool.push(BG);}};AS.prototype.get=function(BH){var BG=this.pool;return(BH===G.hasConv&&BG.length>0)?BG.splice(0,1)[0]:null;};AS.prototype.check=function(){if(this.pool.length==0){this.create();}};AS=new AS();A.on("readpool:check",function(){AS.check();});}function Ai(BN,BO,BG){BG.start(1,"GetTabCB");var BK=A.mail.model.DataStore.Messages.getPermMidPart,BM=BN.msgPane&&BN.msgPane.get("message"),BI=(BM&&BM.message&&BM.message.mid)||"",BL=BI&&BN.msgPane.fullView&&BK(BO.mid)==BK(BI);if(BM&&BN.msgPane.fullView&&!BI){var BH=G.loginId;try{BH+=":"+BM.fid;BH+=":"+BM.message.header.receivedDate;}catch(BJ){BH+=":MISSING MESSAGE BODY";}B.error.report("MissingMidError in hasMsgTab for YID:FID:REC_DATE"+BH,"MessageRead",1);J("messageread","openMessageGetTabIssue");}if(BL){BN.msgPane.markAsRead&&BN.msgPane.markAsRead();}return BL;}function BA(BH,BK,BG){BG.start(1,"GetTabCB");var BM=A.mail.model.ConvStore.Conversations.getPermCidPart,BI=BH.msgPane&&BH.msgPane.get("message"),BL=(BI&&BI.message&&BI.message.cid)||"",BJ=BL&&BH.msgPane.fullView&&BM(BK.cid)==BM(BL);if(BI&&BH.msgPane.fullView&&!BL){J("convread","openConvGetTabIssue");}return BJ;}function p(BV,Ba){try{var BR=(BV.msg.msgs&&!G.hasConvView)?BV.msg.msgs[BV.msg.msgs.length-1]:BV.msg,Bj=BV.fid,Bb=A.one("#"+Bj),Bo=BV.sortCol||0,BH=BV.query||0,Bg=BV.searchRequestAttrs||{},BN=BV.searchListMgr||{},Be=BV.index||0,BP=BV.noScroll,BS=50,BG=BV.arrMsgSeq||0,BY=(BG&&BG.length)||0,BT=(Be-BS>0)?Be-BS:0,BX=(BG&&(((Be+BS)<BY)?Be+BS:BY))||null,BZ=(BG&&BG.slice(BT,(BT+BX>BY)?BX:BT+BX))||0,BQ=B.Stopwatch,Bc=BV.isConv?BQ.get("ConvInPreview"):BQ.get("MsgInPreview"),Bk=null,BI=false,BO=BV.callFromLaunch?BV.callFromLaunch:false,BW=G.om&&G.om.isSandboxEnabled,Bl=BW&&G.om&&G.om.isMsgReadAppRTB,Bd,BJ,Bq=function(){if(BO){K(function(Br){Bc.start(1,"TabDarlaEvent");
Br.fire("darlaEvent",{action:(G.low_bandwidth)?"launch_message_low":((G.ssl_launch||G.isFullSSL)?"launch_message_ssl":"launch_message")});},false);}},BU,BK,Bf,Bm,BL,Bp,Bh=BV.isConv&&!BV.midtocid?"cid":"mid",Bi=BV.isConv?"convread":"messageread";if(typeof BR==="string"){BR=BV.isConv&!BV.midtocid?{cid:BR}:{mid:BR};}if(BR&&!BR[Bh]){return;}Bc=new BQ("MsgInTab");Bc[Bh]=BR[Bh];if(Bj==="%40S%40Search"){Bf=BR.fid?BR.fid:BR.sourceFolderInfo.fid;}else{if(Bj==="Inbox"&&!G.isFresh){if(!Bb.hasClass("selected")){Bb.addClass("selected");}}}BI=(Bj==="%40S%40Search"&&Bf==="Draft");document.onselectstart=function(){return false;};setTimeout(function(){document.onselectstart=null;},500);if((Bj==="Draft"||BI)){A.fire("editMessage",{oMsg:BR,fid:(BI?Bf:Bj),action:"edit",enableRetry:(BI?true:false),noScroll:BP});return;}Bk=BV.isConv?AL.getTab(function(Br){return BA(Br,BR,Bc);}):AL.getTab(function(Br){return Ai(Br,BR,Bc);});if(Bk){A.mail.Tabs.switchToTab(Bk);if(G.hasConv){Bk.widget&&Bk.widget.refreshMessage&&Bk.widget.refreshMessage(BV);}return;}AZ();Bc.start(1,"NewView");if(G.hasReadTabPool&&!BV.isConv){Bk=AS.get(BV.isConv);if(Bk){Bm=1;Bk.set("close",0);Bk.set("reuse",0);}}if(Bk){Bk.invisible=0;BU=Bk.widget;BK=BU.msgPane;BU.fid=BK.fid=Bj;BU.stopwatch=BK.stopwatch=Bc;BK.sortedColumn=Bo;BK.searchQuery=BH;BK.searchRequestAttrs=Bg;BK.searchListMgr=BN;BK.processData=BV.processData;BK.type=BV.type;BK.arrMessageSequence=BZ;BU.callFromLaunch=BO;Bc.start(1,"preload");BK.preload(BR);}else{BJ={msgList:0,fid:Bj,cid:BV.msg.cid,message:BR,submessage:BV.submsg,midtocid:BV.midtocid,fetchConv:BV.msg.fetchConv,neighbors:BV.neighbors,sortedColumn:Bo,searchQuery:BH,arrMessageSequence:BZ,callFromLaunch:BO,stopwatch:Bc};if(BV.isConv){BU=new A.mail.ui.ConvView(BJ);}else{BU=new A.mail.ui.MessagesView(BJ);}BK=BU.msgPane;}BU.once("renderComplete",function(){if(!Bl){AW(Bc,BU,BK);}J(Bi,"tabbedMessageRead");Bq();Ba&&Ba();if(G.hasReadTabPool&&!BV.isConv){setTimeout(function(){AS.check();},0);}});if(Bl){Bd=A.later(3000,null,AW,[Bc,BU,BK]);BK.once("msgReadAppComplete",function(){Bd.cancel();AW(Bc,BU,BK);});}Bc.start(1,"EscapeMessageSubject");BL=BV.isConv?BR.subject||strings["str_msg-view_tab_no_subject"]:(BR.header&&BR.header.subject)||BR.subject||strings["str_msg-view_tab_no_subject"];BL=P(S(BL));if(G.bidi){Bp=BV.isConv?BR.subjectDir||"":(BR.header&&BR.header.subjectDir)||BR.subjectDir||"";if(Bp==""&&A.Intl.detectDirection){Bp=A.Intl.detectDirection(BL);}}Bc.start(1,"AddCW");var BM={label:BL,widget:BU,forcePane:BV.isConv,noScroll:BP};if(Bk){BM.tab=Bk;}else{BM.acwHandler=a;}BM.acwHandlerArgs={stopwatch:Bc,sboxEnabled:BW,msgPane:BK,fid:Bj,message:BR,neighbors:BV.neighbors,usedTabPool:Bm,isConv:BV.isConv};Bk=AI(BM);if(G.bidi){Bk.set("direction",Bp);}}catch(Bn){J(Bi,"openMessageError");A.use("common-utils-error",function(){B.error.report("openMessageError",Bn,1,1,1);});}}function Ah(BH,BG){BH=BH||{};BH.isConv=1;p(BH,BG);}function Ap(BH,BG){BH=BH||{};if(BH.msg&&BH.msg.mid&&(AM[BH.msg.mid]==="server")){J("workspace","readServerPrefetchedMessage");}BH.isConv=G.hasConvView?1:0;if(BH.isConv){BH.midtocid=true;}BH.isConv=G.hasConvView&&!BH.forceMessageOpen?1:0;p(BH,BG);}function a(BI){var BG=BI.cfg.acwHandlerArgs,BH=BG.isConv?"convread":"messageread";BG.stopwatch.start(1,"TabCallFromLaunch");BG.stopwatch.title=(BG.isConv?"ConvInTab":"MsgInTab")+" Stopwatch (sandbox "+(BG.sboxEnabled?"enabled":"disabled")+")\n";if(BG.isConv){BG.stopwatch.start(1,"PostOpenConv");}else{BG.stopwatch.start(1,"PostOpenMessage");}if(BG.usedTabPool){try{BG.msgPane.set("message",{fid:BG.fid,message:BG.message,neighbors:BG.neighbors});}catch(BI){J(BH,"openMsgSetMsgError");}}}function Ax(BG){var BH=0;if(BG.widget&&(BG.widget.type=="omtab")){return 1;}if(!AL.maxTabsReached&&(!G.maxOpenTabs||(AL.tabs.length<G.maxOpenTabs))){return 1;}AL.iterateTabs(function(BJ){var BI=BJ.widget;if(BI&&BI.type&&((BI.type=="messagepane")||(BI.type=="omtab"))){BH++;}return false;});A.use("common-ui-dialog-helper","_shared_module_offscreen_bin_modal_btn_generic",function(BI){setTimeout(function(){var BJ={hd:strings.str_modal_too_many_tabs_title,bd:strings.str_modal_too_many_tabs_note,modal_classes:"lg"};if(BH>0){BJ.ft=B.substitute(BI.ui.Templates._shared_module_offscreen_bin_modal_btn_generic.base,0,0,0,{btnID:"ok","default":"default",btnLabel:strings.str_modal_too_many_tabs_close_auto})+B.substitute(BI.ui.Templates._shared_module_offscreen_bin_modal_btn_generic.base,0,0,0,{btnID:"cancel",btnLabel:strings.str_modal_too_many_tabs_close_manual});BI.common.ui.DialogHelper.createCommon(BJ,{ok:{handler:function(){AY();}}});}else{BI.common.ui.DialogHelper.alert(BJ);}J("TABS","max_opened");},0);});return false;}function BB(BG,BH){A.use("common-ui-dialog-helper",function(BI){setTimeout(function(){var BJ={hd:strings["str_modal_tabdeactivate_title"],bd:strings["str_modal_tabdeactivate_body"]};BI.common.ui.DialogHelper.confirm(BJ,{ok:{handler:BH},cancel:{}});},0);});}function Aa(BG){try{var BH=AL.createTab(BG);BH.on("tab:add",q);if(BG.acwHandler){BH.on("tab:add",BG.acwHandler);}}catch(BI){J("workspace","createTabError");}return BH;}function BC(BG){var BI=BG.tab||Aa(BG),BJ=BG.widget,BH=BJ&&BJ.type;try{AL.addTab(BG,BI);}catch(BK){J("workspace",("addTabError"+(BH||"")));}return BI;}function q(BK){var BG=BK.cfg,BI=BK.tab,BJ=BG.widget,BH=BJ&&BJ.type;if(!BI.reuse){A6(BG.widget,BI);}if(!BG.inactive){try{A.mail.Tabs.switchToTab(BI);}catch(BK){J("workspace",("tabActiveError"+(BH||"")));}}}function AI(BI){var BH,BJ=0;if(!Ax(BI)){return null;}if(!BI.sync){var BG=AL.getActiveTab();if(!AL.canDeactivateTab(BG)){if(BG===A.mail.ui.optionsTab){A.fire("tab:deactivateOptionsTab",{newTab:true,addtab:function(){BC(BI);}});}else{BB(BG,function(){BC(BI);});}return null;}}return BC(BI);}function A6(BH,BK){try{if(BH){var BI=[],BJ=BH.type;BK.detachWidget&&BK.detachWidget();function BL(BN){var BO=BN.currentTarget&&BN.currentTarget.widget&&BN.currentTarget.widget.msgPane&&BN.currentTarget.widget.msgPane.message;if(BH.get("hideToolbar")){w(BH,BN.newVal);
}if(BH.get("hideNavbar")){Ad(BH,BN.newVal);}if(BH.get("clearNavbar")){BF(BH,BN.newVal);}G.msgrData=G.msgrData||{};G.msgrData.message=(BO&&BO.fid=="%40C%40Chats")?BO:null;}if(!BH.get("navToolbar")){BH.set("navToolbar",V.originalNav);}BK.after("navKeysChange",function(BN){l.set("navKeys",BN.newVal);});if(BK.activeChangeHandle){BK.activeChangeHandle.detach();}BK.activeChangeHandle=BK.after("activeChange",BL);function BG(BN){if(BN.newVal&&BH.set){if(!BK.reuse){if(BH.type=="omtab"){return;}BK.detachWidget();}}}BI.push(BK.on("closeChange",BG));if(BH.on){BI.push(BH.on("navToolbarChange",m));BI.push(BH.on("contentToolbarChange",Az));}BK.evtHandles=BI;BK.detachWidget=function(){var BP,BO=BK.evtHandles,BN=BO.length,BQ;for(BQ=0;BQ<BN;BQ++){BP=BO[BQ];BP&&BP.detach();BO[BQ]=null;}BK.evtHandles=[];};}}catch(BM){J("workspace",("bindTabError"+(BJ||"")));}}function Ar(BG){if(BG!=l.get("navKeys")){if(z){z.detach();}if(BG){z=A.on("key",BG.onKeyDown,A.one("document"),("down:"+BG.charCodes.join(",")),l);if(A.UA.os=="macintosh"&&A.UA.gecko){A.on("key",BG.onKeyPress,A.one("document"),"press:63",l);}}}}function AY(){AL.iterateTabs(function(BH){var BG=BH.widget;if(BG&&BG.type&&((BG.type=="messagepane")||((BG.type=="omtab")&&BG.get("canClose")))){BH.set("close",1);}return false;},true);}function AF(BG){if(typeof(BG)==="string"&&BG!=""&&(location.href.indexOf("fullpage")==-1)){var BH=(BG=="1")?0:1;if(G.fullPage!==BH){s();return;}}t();}function AC(BG){Ab=A.common.persist.UserData.get("userUIPref.messagesPerPage");BG.modifiedObjs.userdata&&A.common.persist.UserData.load(true);BG.modifiedObjs.metadata&&A.mail.persist.MetaData.load();(typeof(BG.msgPaneVisible)!="undefined")&&A4.widget.previewPaneUIChange(BG.msgPaneVisible);}function t(BI){if(BI){try{var BH=window.location.href.split("#")[0],BM=(BH.indexOf("?")!=-1),BJ=(BH.indexOf(".rand")!=-1),BK=".rand="+(Math.round(Math.random()*1000000000)),BG="";if(BJ){BG=BH.replace(/\.rand\=([\d]+)/g,BK);}else{BG=(BM)?BH+"&"+BK:BH+"?"+BK;}window.location.href=BG;return;}catch(BL){}window.location.reload();}else{Ab=A.common.persist.UserData.get("userUIPref.messagesPerPage");A.common.persist.UserData.load(true);A.mail.persist.MetaData.load();}}function A7(BG){A.use("mail-ui-workspace-ext",function(){l._switchDensity(BG);});}function Aj(BG){A.use("mail-ui-workspace-ext",function(){l._switchView(BG);});}function AP(){return A4;}function AX(BK,BH){var BG=A.mail.Tabs.tabs,BN,BJ=0,BM=0,BI,BL;for(BN=0;BN<BG.length;BN++){BI=BG[BN].widget;if(BI&&BI.type&&BI.type=="author"){if(BI.get("dirty")&&BI.get("dirty")!=="ForceClose"){BJ++;}if(BK&&(BL=BI.composeView)){if(!BL._canClose(BH)){return -1;}}}}return BJ;}function o(BH){var BG=A.mail.Tabs.tabs,BK,BI,BJ,BN=0,BM=function(BP,BO){BO.detach("compose:saveFail",BL);BO.dirty=false;BN--;if(BN==0){BH&&BH({failure:-1});}},BL=function(BP,BO){BO.detach("compose:saveSuccess",BM);BO.dirty=true;BH&&BH({failure:1});};for(BK=0;BK<BG.length;BK++){BI=BG[BK].widget;if(BI&&BI.type&&BI.type=="author"){if(BI.get("dirty")&&BI.get("dirty")!=="ForceClose"&&(BJ=BI.composeView)){BN++;BJ.once("compose:saveSuccess",BM,null,BJ);BJ.once("compose:saveFail",BL,null,BJ);BJ._invokeSaveDraft({auto:true});BJ.dirty="ForceClose";}}}if(BN==0){BH&&BH({failure:-1});}}var AB={pre:function(BH,BG){NeoGV.cancelViewBeacon=true;}};if(G.fullPage){h.hook({refresh:AB,get:AB});}function Ak(BM){var BL,BI=0,BN,BG=AL.tabs,BK,BH;if(BL=window.onBeforeUnloadBizMail){BL();return;}try{BI=AX();}catch(BJ){}if(BI){BN=strings.str_error_ComposeNavigateAway;}if(BN&&BI){if(window.event){window.event.returnValue=BN;}if(BM&&BM.returnValue){BM.returnValue=BN;}return BN;}}function u(){setTimeout(function(){try{if(G.isBizmail){A.Cookie.remove("YM.BM",{path:"/",domain:"yahoo.com"});}window.location.href=R(strings.str_cfg_url_signout,{},null,null,strings);}catch(BG){}},100);}function AW(BG,BH,BI){BG&&BG.stop();BH&&delete BH.stopwatch;BI&&delete BI.stopwatch;}A.augment(l,A.Attribute);l.addAttrs({navKeys:{setter:Ar}});A.mix(l,{addContentWidget:AI,init:Af,processStatQueue:e,postLoad:An,render:AQ,moUpdate:AF,presetMsgs:r,refreshPersistData:t,getFolderContent:AP,getComposeDirtyCount:AX,saveComposeDraft:o,prefetchedMidsHash:AM});}();V=A.mail.ui.Workspace;function M(){var Y=1;window.onerror=function(b,c,a){J("Window.error","unhandled_exception");if(G.log_error_yapache==1){if(Y){Y=0;A.use("common-utils-error",function(d){Y=1;B.error.report("[msg: "+b+"] [file: "+c+"] [line#: "+a+"] ","UNHANDLED_EXCEPTION",1,0,1);});}}};}},"1.0.0",{requires:["event","mail-controller-tictacs","mail-modules","mail-templates","mail-ui-foldersview-base","common-ui-tabs-base","common-ui-toolbar-base","mail-ui-searchbar","gx-ui-galaxyview-base","common-utils-stats","mail-ui-common-string-utils","mail-common-tracker"]});

YUI.add("mail-ui-factory-base",function(G){G.namespace("mail.ui");var C=G.mail.ui.Factory={},E={};function D(L){var K=G,I,J,M=L.split("."),H=M.length;for(J=0;J<H;J++){if(J==H-1){I=M[J];}else{K=K[M[J]];}}return[K,I];}function B(L,J){if(!L||!J){return;}var I=D(L),K=I[0],H=I[1],M;if(K[H]&&K[H]!=J){if(!(L in E)){E[L]=K[H];}M=K[H];K[H]=J;F(L,J,M);}}function A(L){if(L&&L in E){var J=D(L),K=J[0],H=J[1],M,I;M=K[H];K[H]=E[L];I=K[H];if(I!=M){F(L,I,M);}}}function F(I,H,J){C.fire("uifactory:change",{ns:I,newCtor:H,oldCtor:J});}G.augment(C,G.EventTarget);G.mix(C,{register:B,unregister:A});},"1.0.0");

YUI.add("mail-ui-basewidget",function(F){var E="Neo",A=":";var D=function(G){var H=this;if(!G){G={};}H.prefix=G.prefix||E;H.emitFacade=G.emitFacade||true;F.EventTarget.call(H,{emitFacade:H.emitFacade});};D.prototype.constructor=D;var C={_getEventName:function(I,H){var J=this,G=J.prefix;if(!H){H=J;}if(H.NAME){G=H.NAME;}if(H.constructor&&H.constructor.NAME){G=H.constructor.NAME;}return{"ev":G+A+I,"name":G,"type":I};},neoEvent:function(J,K){var M=this,L=(F.Lang.isObject(K))?K:{},H=M.prefix,I=M,G;if(K.context){I=K.context;}if(K.addTarget===1){I.addTarget(F);}G=M._getEventName(J,I);H=G.name;L.prefix=H;L.emitFacade=M.emitFacade;return M.publish(G.ev,L);},neoFire:function(H){var I=this,G=Array.prototype.slice.call(arguments);G[0]=I._getEventName(H).ev;return I.fire.apply(I,G);}};D.prototype=C;F.mix(D,F.EventTarget,false,null,1);F.namespace("common.Utils.event");F.common.Utils.event=D;var B=function(G){var I=this,H=new D();B.superclass.constructor.call(I,G);I.set("navKeys",F.mail.ui.navKeys);if(!I.NAME){I.NAME="BaseWidget";}};F.extend(B,F.common.ui.ContentWidget);F.augment(B,F.common.Utils.event);F.namespace("mail.ui").BaseWidget=B;},"1.0.0",{requires:["common-ui-contentwidget","mail-ui-navkeys"]});

YUI.add("mail-ui-header",function(A){var E=A.common.Utils.substitute,D=A.Node.create,B=A.common.persist.UserData,F=A.common.Utils,H=A.mail.ui.headerUtils,I=NeoConfig&&NeoConfig.uh2Enabled,G=NeoConfig&&NeoConfig.uh3Enabled,C={"default":"_shared_module_offscreen_bin_menus_external_links","mts":"_shared_module_offscreen_bin_menus_mts_external_links","sbc":"_shared_module_offscreen_bin_menus_sbc_external_links"};var J=function(){};A.extend(J,A.mail.ui.HeaderBase);A.mix(J.prototype,{omModifiedHeaderMenuFlag:false,omMenuObj:{},omModifiedOptionsMenuFlag:false,omOptionsMenuObj:{},calAddedOptionsMenuFlag:false,calOptionsMenuObj:null,render:function(){var S=this,P;if(I){A.on("menu:config",S.setUh2MenuConfig,S);A.on("search:config",S.setOMSearch);A.on("change:username",S.setUh2Username);A.on("click",function(){A.fire("signout");},"#yuhead-me-signout");var M=false,N=false,R=false;A.Global.on("ucs:userMenuShow",function(h){var g=this;if((g.omModifiedHeaderMenuFlag||!M)){var m=new A.EventTarget();m.publish("ucs:userMenuItems",{broadcast:2,emitFacade:true});var d=[];var b=[],Y,f,a=true;if(g.omMenuObj&&g.omMenuObj.length){for(var c=0;c<g.omMenuObj.length;c++){f=g.omMenuObj[c];if(f["icon"]["class"]!="signout"&&f["data_action"].search("offline")==-1){Y={menuText:f.label,actionType:"customEvent",actionData:f.data_action,icon:f.icon["class"].substr(5),isActive:f.selected};b.push(Y);if(a&&f.selected){a=false;}}}d.push(b);for(var c=0;c<g.omMenuObj.length;c++){f=g.omMenuObj[c];if(f["icon"]["class"]=="signout"||f["data_action"].search("offline")>-1){var k=[{menuText:f.label,actionType:"customEvent",actionData:f.data_action,isDisabled:a}];d.push(k);}}}if(NeoConfig.userDataObj&&NeoConfig.userDataObj.otherYahooMboxes&&NeoConfig.userDataObj.otherYahooMboxes.otherYahooMboxesTotal){var Z=NeoConfig.userDataObj.otherYahooMboxes.otherYahooMboxesTotal,j=NeoConfig.userDataObj.otherYahooMboxes.yMbox,l=[];for(var c=0;c<Z;c++){var k={menuText:j[c].email,actionType:"customEvent",actionData:"bizmail|"+c,highlightDisable:true,isDisabled:false};l.push(k);}d.push(l);}m.fire("ucs:userMenuItems",{"menuGroups":d,reset:true});M=true;g.omModifiedHeaderMenuFlag=false;}},S);A.Global.on("ucs:userMenuItemClick",function(Z){var Y=Z.actionData.split("|");H.handleUHMenus({dataAction:Y[0],uh2Args:Y});});if(!G){A.Global.on("ucs:helpMenuShow",function(Y){if(!R){var Z=G?"_shared_module_offscreen_bin_menus_help_fresh":"_shared_module_offscreen_bin_menus_help";S.setUh2Dropdown(S,Z,H.getHelpMenuObj,"ucs:helpMenuItems",null,H.logHelpLinkViews);R=true;}else{H.logHelpLinkViews();}});A.Global.on("ucs:helpMenuItemClick",function(Y){H.handleUHMenus({dataAction:Y.actionData});});}A.Global.once("ucs:helpDebugMenuShow",function(Y){A.use("mail-debug",function(a){S.setUh2Dropdown(S,"_shared_module_offscreen_bin_menus_debug",a.mail.Debug.getDebugMenuObj,"ucs:helpDebugMenuItems");if(NeoConfig.isInternalIP!==1){var Z=a.one("#yuhead-help-panel");Z.removeChild(Z._node.lastChild);}});});A.Global.on("ucs:helpDebugMenuItemClick",function(Y){A.use("mail-debug",function(Z){Z.mail.Debug.handleDebugOption({dataAction:Y.actionData});});});A.Global.on("ucs:utilityMenuShow",function(Z){if(S.omModifiedOptionsMenuFlag||!N||S.calAddedOptionsMenuFlag){var Y=G?"_shared_module_offscreen_bin_menus_options_fresh":"_shared_module_offscreen_bin_menus_options";S.setUh2Dropdown(S,Y,H.getOptionsMenuObj,"ucs:utilityMenuItems",{omOptionsMenuObj:S.omOptionsMenuObj,calOptions:S.calOptionsMenuObj},H.logOptionsLinkViews);if(S.omModifiedOptionsMenuFlag||!N){S.omModifiedOptionsMenuFlag=false;N=true;}if(S.calAddedOptionsMenuFlag){S.calAddedOptionsMenuFlag=false;}}else{H.logOptionsLinkViews();}});A.Global.on("ucs:utilityMenuItemClick",function(Y){H.handleUHMenus({dataAction:Y.actionData});});A.Global.on("ucs:logoDebug",function(Y){H.showDialogBox({altKey:true,preventDefault:function(){}});});if(NeoConfig.isBizmail=="1"){var K=A.one("#yuhead-me-signout");if(K){K.on("click",function(){A.Cookie.remove("YM.BM",{path:"/",domain:"yahoo.com"});});}}}else{if(A.one("#greeting")){var U=(NeoConfig.isBizmail=="1")?F.escapeHtml(B.get("userSendPref.defaultFromAddress")):F.escapeHtml(B.get("userSendPref.defaultFromName"));if(U){var W=U.split(" "),X=B.get("userSendPref.loggedInAlias"),T=A.one("#greeting").get("innerHTML"),Q=W.length;if(Q>0){P=W.splice(0,Q>1?Q-1:Q);if(strings.str_tog_showFirstAsFriendlyName){T=T.replace(X,P.join(" "));}else{T=T.replace(X,W[0]);}A.one("#greeting").set("innerHTML",T);}}}A.once("click",S.showHelpMenu,"#btn-help",S);A.once("click",S.showHeaderMenu,"#btn-uh-account",S);A.once("click",S.showOptionsMenu,"#btn-options",S);if(A.one("#btn-external-links")){var L=NeoConfig.partnerType;var V=(L)?C[L]:C["default"],O="#menu-"+((L)?L+"-":"")+"external-links";A.once("click",S.showExternalLinksMenu,"#btn-external-links",S,V,"#btn-external-links",O);}A.on("click",H.showDialogBox,"#ymail-image",S);A.on("menu:config",S.setHeaderMenuConfig,S);A.on("search:config",S.setOMSearchNonUh2);if(strings.str_cfg_tog_showMobilizer){A.on("click",S.showMobilizer,"#mobilizer",S);}}if(NeoConfig.isCorpmail){corpsignout(A);A.all(".yucs-profile-items-panel a").each(function(Z,a,Y){var b=Z.getAttribute("href");if((b.indexOf("profile")!=-1)||(b.indexOf("edit")!=-1)){Z.ancestor().setAttribute("style","display:none;");}});A.one(".yucs-profile-items-panel .yucs-separator").setAttribute("style","display:none;");}if((I||NeoConfig.uh3Enabled)&&NeoConfig.expBucketIdList){A.use("mail-debug",function(Z){Z.mail._showBucketsInHeader();});}this.rendered=1;A.fire("header:rendered");},setOMSearch:function(L){var K=ucs.UhSearchInterface.setVertSearchBtnText;if(!L.mode||L.mode==="default"){K(strings.str_uh_searchmail);}else{K(L.searchLabel);}},setUh2Username:function(){if(NeoConfig.isBizmail){var K=F.escapeHtml(B.get("userSendPref.defaultFromAddress"));A.Lang.later(0,null,function(){var L=new A.EventTarget();L.publish("ucs:userNameChange",{broadcast:2,emitFacade:true});L.fire("ucs:userNameChange",{username:K});});}},setUh2MenuConfig:function(L,K,M){var M=M||this;
switch(L.id){case"btn-uh-account":M.omModifiedHeaderMenuFlag=true;M.omMenuObj=K;M.setUh2OpiStatus(L.icon["class"].substr(5));break;case"btn-options":M.omModifiedOptionsMenuFlag=true;M.omOptionsMenuObj=K;break;case"btn-caloptions":M.calAddedOptionsMenuFlag=true;M.calOptionsMenuObj=K;break;}},setUh2OpiStatus:function(K){var L=new A.EventTarget();L.name="ucs";L.publish("ucs:opiUpdateStatus",{broadcast:2,emitFacade:true});L.fire("ucs:opiUpdateStatus",{"opiStatus":K});},setUh2Dropdown:function(P,O,M,N,K,L){K=K||{};A.use(O,function(U){var R=U.ui.Templates[O],T=M(R,K),Q;if(NeoConfig.isCorpmail){T.upgrade=false;T.om_options=false;T.cal_options=false;T.account_info=false;}else{T.account_info=true;}Q=E(R.base,T,{},null,strings);var V=P.getMenuGroupsFromMarkup(Q);var S=new U.EventTarget();S.publish(N,{broadcast:2,emitFacade:true});S.fire(N,{menuGroups:V,reset:true});if(L){L();}});},getMenuGroupsFromMarkup:function(Z){var N=/<ul(.*?)<\/ul>/gm,R=/<li(.*?)<\/li>/gm,M=/data-action=(.)(.*?)\1.*?>\s*<a\s*href=(.)(.*?)\3\s*title=(.)(.*?)\5\s*>(.*?)<\/a>/,S=/data-action=(.)(.*?)\1.*?>\s*<a\s*href=(.)(.*?)\3\s*>(.*?)<\/a>/,Q,a,U,V,X,T=[];while(Q=N.exec(Z)){V=Q[0];var O=[];while(a=R.exec(V)){X=a[0];U=M.exec(X)||S.exec(X);if(U){var P=U[2],L=U[4],W=((U.length==8)&&U[6])||"",Y=U[U.length-1],K={menuText:Y};switch(P){case"newfeature":case"blog":case"help":case"help_upgrade":case"upgrade":case"community":case"fullmail":case"feedback":case"legal":case"privacy":case"ads":case"copyright":case"link":K.actionType="link";K.url=L;K.target="_blank";break;default:K.actionType="customEvent";break;}if(P=="fullmail"){K.target="_self";}K.actionData=P;O.push(K);}}!A.common.Utils.isEmpty(O)&&T.push(O);}return T;},showHelpMenu:function(L){function K(M){M.preventDefault();}K(L);A.use("common-ui-menu-helper",function(O){var M=O.one("#btn-help"),N=O.common.ui.MenuHelper;N.createLoadingMenu(M);O.use("comms-ui-menu-base","_shared_module_offscreen_bin_menus_help",function(V){V.on("click",K,"#btn-help");var U,R,S=V.ui.Templates._shared_module_offscreen_bin_menus_help,T=H.getHelpMenuObj(S),Q=E(S.base,T,{},null,strings);function P(W){V.fire("darlaEvent",{action:"help_dd_click"});if((W.ctrlKey||W.metaKey)&&W.shiftKey){V.use("mail-debug",function(X){X.mail._debugMenu(P);});}else{if(U){R.call(U);}else{M.menu=null;N.create(M,{menu:Q,cbafter:1},function(){U=M.menu;R=U.show;U.show=P;V.one("#menu-help").on("menuSelected",H.handleUHMenus,H);});}}}P(L);});});},showOptionsMenu:function(L){var M=this;function K(N){N.preventDefault();}K(L);A.use("common-ui-menu-helper",function(P){var N=P.one("#btn-options"),O=P.common.ui.MenuHelper;O.createLoadingMenu(N);P.use("_shared_module_offscreen_bin_menus_options",function(U){U.on("click",K,"#btn-options");var T,R,S=U.ui.Templates._shared_module_offscreen_bin_menus_options;function Q(Z){U.fire("darlaEvent",{action:"help_dd_click"});if(T){if(M.omModifiedOptionsMenuFlag||M.calAddedOptionsMenuFlag){var X={omOptionsMenuObj:M.omOptionsMenuObj,calOptions:M.calOptionsMenuObj},Y=H.getOptionsMenuObj(S,X),V=E(S.base,Y,0,0,strings),W=T.getMenuNode();W.setContent(U.Node.create(V).get("innerHTML"));if(M.omModifiedOptionsMenuFlag){M.omModifiedOptionsMenuFlag=false;}if(M.calAddedOptionsMenuFlag){M.calAddedOptionsMenuFlag=false;}T.setAriaAttrs(W);}R.call(T);}else{var Y=H.getOptionsMenuObj(S,{omOptionsMenuObj:M.omOptionsMenuObj,calOptions:M.calOptionsMenuObj}),V=E(S.base,Y,0,0,strings);N.menu=null;O.create(N,{menu:V},function(){T=N.menu;R=T.show;T.show=Q;U.one("#menu-options").on("menuSelected",H.handleUHMenus);});}}Q(L);});});},showHeaderMenu:function(L){var M=this;function K(N){N.preventDefault();}K(L);A.use("common-ui-menu-helper",function(P){var N=P.one("#btn-uh-account"),O=P.common.ui.MenuHelper;O.createLoadingMenu(N);P.use("comms-ui-menu-base","_shared_module_offscreen_bin_menus_uh_account",function(Q){Q.on("click",K,"#btn-uh-account");var W,R,S,Z,T,U=Q.ui.Templates._shared_module_offscreen_bin_menus_uh_account;T={account_info:function(){if(NeoConfig.isCorpmail){return false;}return true;},email_id:function(){if(NeoConfig.userDataObj&&NeoConfig.userDataObj.otherYahooMboxes&&NeoConfig.userDataObj.otherYahooMboxes.otherYahooMboxesTotal){return B.get("userSendPref.defaultID");}return B.get("userSendPref.loggedInAlias");},opi:function(){return"";},bizmail:function(){if(NeoConfig.userDataObj&&NeoConfig.userDataObj.otherYahooMboxes&&NeoConfig.userDataObj.otherYahooMboxes.otherYahooMboxesTotal){return E(U.bizmail,null,T,null,strings);}return false;},bizmail_items:function(){var Y="",d=NeoConfig.userDataObj.otherYahooMboxes.otherYahooMboxesTotal,c=NeoConfig.userDataObj.otherYahooMboxes.yMbox,a,b;for(b=0;b<d;b++){a={"label":c[b].email,"data_index":""+b};Y+=E(U.bizmail_items,null,null,null,a);}return Y;}};Z=E(U.base,U,T,null,strings);S=D(Z);Q.one("body").append(S);N.before("mousedown",X);function V(){if(M.omModifiedHeaderMenuFlag){var a=S.one(".opi"),Y=S.all(".opi_signout");if(a){a.remove();}if(Y){Y.remove();}S.insert(M.createOpiMenu(M),S.one("ul"));if(N.menu){N.menu.setAriaAttrs(S);}M.omModifiedHeaderMenuFlag=false;X();}if(R){W.call(R);}else{N.menu=null;Q.common.ui.MenuHelper.create(N,{menu:S},function(){R=N.menu;W=R.show;R.show=V;Q.one("#menu-uh-account").on("menuSelected",H.handleUHMenus,H);});}}function X(){var a=S.one(".opi .active"),b=S.one(".opi_signout li"),Y;if(b){Y=b.one("a");if(a){b.removeClass("disabled");Y.removeAttribute("aria-disabled");}else{b.addClass("disabled");Y.set("aria-disabled",true);}}}V(L);});});},showExternalLinksMenu:function(M,L,O,N){function K(P){P.preventDefault();}K(M);A.use("comms-ui-menu-base","common-ui-menu-helper",L,function(W){W.on("click",K,O);var V,T,S=W.one(O),Q,U,R;if(O==="#btn-external-links"){U=W.ui.Templates[L];R={is_bizmail:function(X){return(NeoConfig.isBizmail=="1")?E(X.is_bizmail,null,null,null,strings):"";}};}Q=E(U.base,U,R,null,strings);function P(){if(V){T.call(V);}else{S.menu=null;W.common.ui.MenuHelper.create(S,{menu:Q},function(){V=S.menu;T=V.show;V.show=P;W.one(N).on("menuSelected",H.handleUHMenus);
});}}P(M);});},showMobilizer:function(K){K.preventDefault();A.use("mobilizer",function(){YMobilizer.load({app:"mail.new",lang:NeoConfig.lang,proxy:NeoConfig.launch_protocol+window.location.host+"/neo/mobilizer_proxy.html"});});},setHeaderMenuConfig:function(L,K,M){var M=M||this;switch(L.id){case"btn-uh-account":M.omModifiedHeaderMenuFlag=true;M.omMenuObj=K;M.updateHeaderOpiIcon(L.icon["class"]);break;case"btn-options":M.omModifiedOptionsMenuFlag=true;M.omOptionsMenuObj=K;break;case"btn-caloptions":M.calModifiedOptionsMenuFlag=true;M.calOptionsMenuObj=K;break;}},createOpiMenu:function(O){var L;var M=O.omMenuObj.length,N=A.ui.Templates._shared_module_offscreen_bin_menus_uh_account,K={opi_items:function(){var R=[];for(var Q=0;Q<M;Q++){var P=O.omMenuObj[Q];if(P["icon"]["class"]!="signout"&&P["data_action"].search("offline")==-1){R.push(E(N.opi_items,{"data_action":P["data_action"],"opi_class":P["icon"]["class"],"selected":P["selected"]?"active":"","checked":P["selected"]?"true":"false","label":P["label"]||""},null,null,strings));}}return R.join("");},opi_signout:function(){var R=[];for(var Q=0;Q<M;Q++){var P=O.omMenuObj[Q];if(P["icon"]["class"]=="signout"||P["data_action"].search("offline")>0){R.push(E(N.opi_signout,{"data_action":P["data_action"],"opi_class":P["icon"]["class"],"selected":P["selected"]?"active":"","label":P["label"]||""},null,null,strings));}}return R.join("");}};L=E(N.opi,null,K,null,strings);return L;},updateHeaderOpiIcon:function(L){if(L){var K=A.one("#btn-uh-account");K.set("className","opi menu "+L);}},setOMSearchNonUh2:function(K){if(!K.mode||K.mode==="default"){A.one("#searchbutton").set("value",strings.str_uh_searchmail);}else{A.one("#searchbutton").set("value",K.searchLabel);}}},true);A.namespace("mail.ui.Header");A.mail.ui.Header=new J();A.namespace("test.Header");A.mix(A.test.Header,{headerObj:A.mail.ui.Header,setUh2MenuConfig:A.mail.ui.Header.setUh2MenuConfig,getOmMenuObj:function(){return A.mail.ui.Header.omMenuObj;},setUh2OpiStatus:A.mail.ui.Header.setUh2OpiStatus,setUh2Dropdown:A.mail.ui.Header.setUh2Dropdown,getMenuGroupsFromMarkup:A.mail.ui.Header.getMenuGroupsFromMarkup,getHelpMenuObj:H.getHelpMenuObj,getOptionsMenuObj:H.getOptionsMenuObj,showHelpMenu:A.mail.ui.Header.showHelpMenu,showOptionsMenu:A.mail.ui.Header.showOptionsMenu,showExternalLinksMenu:A.mail.ui.Header.showExternalLinksMenu,showDialogBox:H.showDialogBox,showMobilizer:A.mail.ui.Header.showMobilizer,handleUHMenus:H.handleUHMenus,setHeaderMenuConfig:A.mail.ui.Header.setHeaderMenuConfig,createOpiMenu:A.mail.ui.Header.createOpiMenu,updateHeaderOpiIcon:A.mail.ui.Header.updateHeaderOpiIcon,optOutredirect:H.optOutredirect,openOptOutDialog:H.openOptOutDialog,switchToBizmailAcct:H.switchToBizmailAcct,setOMSearchNonUh2:A.mail.ui.Header.setOMSearchNonUh2});},"1.0.0",{requires:["mail-ui-header-base","mail-ui-header-utils","common-utils","common-persist-user-data"]});

YUI.add("mail-ui-header-base",function(A){var B=function(){};B.prototype={render:function(){},bindUI:function(){}};A.namespace("mail.ui.HeaderBase");A.mail.ui.HeaderBase=B;},"1.0.0");

YUI.add("mail-ui-header-utils",function(D){var B=D.common.Utils.substitute,C=D.common.Utils,A=NeoConfig&&NeoConfig.uh3Enabled;var E={getHelpMenuObj:function(F){var G={send_feedback_menu:strings.str_tog_sendFeedbackEnabled?F.send_feedback_menu:"",report_problem_url:NeoConfig.isFresh?NeoConfig.reportURL+(NeoConfig.reportURL.indexOf("?")==-1?"?":"&")+"isFresh=1":NeoConfig.reportURL,report_problem:NeoConfig.strings.reportProblem,upgrade:(strings.str_cfg_tog_mailUpgradeEnabled&&NeoConfig.isBizmail!="1")?F.upgrade:"",ads:strings.str_cfg_tog_aboutOurAdsEnabled?F.ads:"",copyright:strings.str_cfg_tog_disableCopyrightLink?"":F.copyright,blog:strings.str_cfg_tog_mailBlogEnabled?F.blog:"",tos_url:"atos",kbshortCuts:F.kbshortCuts,return_to_original:NeoConfig.hideReturnLink!="1"?F.return_to_original:"",switch_to_full:NeoConfig.low_bandwidth?F.switch_to_full:"",full_mail_url:"/neo/launch?full=1",new_feature_url:NeoConfig.newFeatureURL};G.hide_help_ul=G.send_feedback_menu||G.return_to_original||G.switch_to_full?"":F.hide_help_ul;if(NeoConfig.intl==="us"&&NeoConfig.lang==="ko-KR"){G.str_cfg_url_tos="http://info.yahoo.com/legal/us/yahoo/utos/ko-kr/";G.str_cfg_url_copyright="http://info.yahoo.com/legal/us/yahoo/copyright/ko-kr/";}return G;},getOptionsMenuObj:function(J,F){var I=F.omOptionsMenuObj,L={},K=F.calOptions,G,H={url_minty_options:"#",url:J.url,themes:strings.str_cfg_tog_showThemeOption?J.themes:"",cal_options:"",om_options:"",upgrade:(strings.str_cfg_tog_mailUpgradeEnabled&&NeoConfig.isBizmail!="1")?J.upgrade:""};if(I){for(G=0;G<I.length;G++){L={data_action:I[G].data_action,title:I[G].title,label:I[G].label,id:I[G].id};H.om_options+=C.substitute(J.om_options,L,0,0,strings);}}if(K){H.cal_options+=C.substitute(J.cal_options,L,0,0,strings);}if(A){H=D.mix(H,E.getHelpMenuObj(J));}return H;},showDialogBox:function(G){G.preventDefault();if(G.altKey){if(typeof NeoConfig=="undefined"){return;}var F=["Neo Version: \n","Build number: ",NeoConfig.buildNumber,"\n","Build time: ",NeoConfig.buildTime,"\n \n","Hostname: ",NeoConfig.hostName||window.location.hostname];if(NeoConfig.enableExpUltTracker&&NeoConfig.expBucketId!="0"){F.push("\n \nBucket: "+NeoConfig.expBucketId);}D.use("common-ui-dialog-helper",function(I){var H=I.common.ui.DialogHelper;H.alert({modal_classes:"lg",hd:"Version",bd:"<pre>"+F.join("")+"</pre>"+'<div><img src="http://mail.yimg.com/nq/j/camping.jpg" style="width:520px;" /></div>'});});}else{yui.fire("openInbox");}},handleUHMenus:function(J,I){var K=I||this,F=J.dataAction,H="uh_"+F+"_lnk";switch(F){case"newfeature":case"blog":case"help":D.fire("darlaEvent",{action:"help_dd_click_"+F});case"help_upgrade":case"upgrade":case"community":case"fullmail":case"feedback":case"legal":case"privacy":case"ads":case"copyright":case"link":D.fire("mt:click",{action:H});break;case"options":D.fire("openOptions",this);D.fire("mt:click",{action:H});break;case"Calendar_options":if(!D.calendar){break;}D.fire("openCalendar");D.fire("calendarOptions",this);D.fire("mt:click",{action:H});break;case"kbshortcuts":D.use("mail-ui-shortcuts-dialog",function(L){L.mail.ui.ShortcutsDialog.show();});D.fire("mt:click",{action:H});break;case"modal":D.use("modal_css",function(){K.openOptOutDialog();});D.fire("mt:click",{action:H});break;case"themes":D.use("mail-ui-themes",function(L){L.mail.ui.Themes.showThemesDialog();});D.fire("mt:click",{action:H});break;case"bizmail":var G=(J.uh2Args&&J.uh2Args[1])||J.item._node.getAttribute("data-index");K.switchToBizmailAcct(G);break;default:if(F.match(/^om:(.*):(.*):(.*)$/)){D.use("om-common-utils",function(M){M.om.common.Utils.fireEvent(F);var L=F.split(":");M.fire("mt:click",{action:"uh_"+L.pop()+"_lnk"});});}}},optOutredirect:function(M){var N=M.get("contentBox"),Q=N.all("input"),H=N.one("textarea"),I=null,J=[];for(var K=0;K<Q.size();K++){I=Q.item(K);if(I.get("checked")){J.push(I.getAttribute("id")+"=true");}}I=H;J.push("additionalFeedback="+I.get("value"));var P="http:";if(NeoConfig.secure_cascade=="1"){P=NeoConfig.secure_cascade_protocol;}var F=P+"//"+window.location.host+window.location.pathname;var G=F.indexOf("/",(F.indexOf(window.location.host)+window.location.host.length+2));var O=F.substring(0,G)+"/optOut";J.push("ncrumb="+NeoConfig.ncrumb);if(NeoConfig.secure_cascade_url_param!=""){J.push("ssl="+NeoConfig.secure_cascade_url_param);}O+="?"+J.join("&");try{document.location.replace(O);}catch(L){}},openOptOutDialog:function(){D.use("comms-ui-dialog-base","_shared_module_offscreen_bin_modal_kiosk_mail_preview_rollup",function(I){var H=I.ui.Templates._shared_module_offscreen_bin_modal_kiosk_mail_preview_rollup,F=B(H.base,null,null,null,strings);var G=new I.comms.ui.Dialog({template:F,centered:true,cssPrefix:"modal"});G.get("contentBox").on("click",function(K){var L=I.common.Utils.getDataAction(K),J=L.action;if(J){K.preventDefault();switch(J){case"continue":I.mail.ui.headerUtils.optOutredirect(G);break;case"cancel":G.destroy();break;default:break;}}});G.render().show();});},switchToBizmailAcct:function(I){var K=NeoConfig.userDataObj.otherYahooMboxes.yMbox[I];var H=K.email.split("@");var J=K.isBizmail;var F={domain:H[1],sid:K.sledid,silo:K.silo,account:H[0],farm:K.farm};window.onBeforeUnloadBizMail=function(){if(J){D.Cookie.setSubs("YM.BM",F,{path:"/",domain:".yahoo.com"});}else{D.Cookie.remove("YM.BM",{path:"/",domain:"yahoo.com"});}};var G=(K.url)?K.url:"http://mail.yahoo.com";document.location.replace(G);},logOptionsLinkViews:function(G){var F=A?"options_menu_fresh":"options_menu";D.fire("mt:view",{action:F});},logHelpLinkViews:function(){if(!A){D.fire("mt:view",{action:"help_menu"});}}};D.namespace("mail.ui.headerUtils");D.mail.ui.headerUtils=E;},"1.0.0",{requires:["common-utils","common-persist-user-data"]});

YUI.add("rocket-stats",function(C){var D,B,F,K,G=C.namespace("common.Utils.rocketstats"),L=[],I,A,H;G.stat=function(R,N,Q,O){if(!D&&C.one){D=1;C.one(window).on("beforeunload",I);C.one(window).on("unload",I);}if(!NeoConfig||(NeoConfig.trackRocketStat==1)){var M=NeoConfig,P=(M.expBucketId==="0"?(M.isUltThrottled*1?"NoBucket":"NoUlt"):M.expBucketId);H='{"page":"'+R+'","key":"'+N+'"';if(O!==F){H+=',"intl":"'+O+'"';}if(Q!==F){H+=',"value":'+Q;}H+=',"bucket":"'+P+'"}';L.push(H);J();}};G.intlStat=function(O,M,N){G.stat(O,M,N,true);};function J(){if(L.length>49){clearTimeout(B);E();}else{B=B||setTimeout(E,180000);}}I=G.unloadQ=function(){if(L[0]){E();A=new Date;while(new Date-A<100){}}};function E(){B=0;if(L[0]){try{K=new XMLHttpRequest();K.open("POST","stat");K.send(L.join("\n"));}catch(M){}L=[];}}},"1.0.0");

YUI.add("gx-ui-galaxyview-base",function(C){C.namespace("gx.ui");var B=function(D){var H=this,G=C.one("#nav-mailboxes"),F=C.one("#custom-folders"),E=C.one("#smart-folders");B.superclass.constructor.call(H);if(D.contentToolbar){H.set("contentToolbar",D.contentToolbar);}C.gx.ui.GalaxyViewObj=H;H.updateFolderTab=function(){if(C.gx.ui.GalaxyViewObj.get("active")===0){var J=G.one("li.selected");var I=G.one("li._selected");if(!J&&F){J=F.one("li.selected");}if(!J&&E){J=E.one("li.selected");}if(!I&&E){I=E.one("li._selected");}if(!I&&F){I=F.one("li._selected");}if(!J&&I){I.replaceClass("_selected","selected");}else{if(I){I.removeClass("_selected");}}}};H.on("activeChange",function(J){if(J.newVal!==0){Neo.fid="";var I=G.one("li.selected"),K=C.one("#gx_messages a");if(!I&&F){I=F.one("li.selected");}if(!I&&E){I=E.one("li.selected");}if(I){I.replaceClass("selected","_selected");}K&&K.focus();}else{C.later(200,null,H.updateFolderTab,null,false);}});H.scrolling=["#galaxyPageContainer"];};C.extend(B,C.mail.ui.BaseWidget);function A(){return;}C.mix(B.prototype,{NAME:"GalaxyView",render:A});C.gx.ui.GalaxyView=B;},"1.0.0",{requires:["mail-ui-basewidget"]});

YUI.add("mail-common-lowbandwidth",function(F){F.namespace("mail.common");F.namespace("mail.common.LowBandwidth");function C(){F.Node.one("#btn-new").setStyle("display","none");F.Node.one("#main-btn-new").addClass("right");var H=F.Node.all("#msg-preview-media-modes span").each(function(I){if(I.getAttribute("data-action")!="compose"){I.remove(true);}});var G=document.getElementById("%40C%40Chats");if(G){G.className="hidden";}E();B();}function B(H){var G=F.Node.one("#nav-applications");G&&G.setStyle("display","none");}function E(){var G=F.Node.one("#slot_LREC");G&&G.setStyle("display","none");}function D(){var I,G=NeoConfig.theme;var H=G.base+G.root+"neutral/neutral"+G.build+".css";F.Get.css(H,{onSuccess:function(K){var J=I;setTimeout(function(){if(J&&J.purge){J.purge();}I=K;},100);}});}function A(){if(F.Cookie.get("YM.NEO_LITE")===null){var H=F.common.persist.NeoData;var G=new Date();G.setDate(G.getDate()+30);F.Cookie.set("YM.NEO_LITE","1",{path:H.get("cookiePath"),domain:H.get("cookieDomain"),expires:G});}F.common.Utils.rocketstats.stat("launch","SwitchLowBandwidth");}F.mix(F.mail.common.LowBandwidth,{hideFeatures:C,hideAd:E,disableOM:B,changeTheme:D,setLWCookie:A});},"1.0.0",{requires:["node","rocket-stats"]});

YUI.add("mail-controller-tictacs",function(E){var C,A,B,D;A={};if(!NeoConfig.tictac){return;}for(C in NeoConfig.tictacsClientConf){if(NeoConfig.tictacsClientConf.hasOwnProperty(C)){D=C+"-";B=NeoConfig.tictacsClientConf[C];break;}}E.Object.each(B,function(G,F){var H=G.event;if(!H){return;}if(!A[H]){A[H]=[];}A[H].push(F);});E.Object.each(A,function(G,F){E.once(F,function(H){E.use(G,function(I){I.Array.each(G,function(J){J=J.replace(D,"");if(!I.Tictac[J]||!I.Tictac[J].loader){I.log("Module or loader missing for tictac "+J,"warn","tictac");return;}I.log('Binding "'+F+'" after "Y.Tictac['+J+'].loader": '+I.Tictac[J].loader);I.after(F,I.Tictac[J].loader);try{I.Tictac[J].loader.apply(null,H?H.details:[]);}catch(K){I.log("Exception caught in loader for tictac "+J+".  Error = "+K.message,"warn","tictac");}});});});});});

YUI.add("mail-ui-button-ctxt",function(B){var Q=NeoConfig.grayoutEnabled,M="buttonContext",I="onemsg",P="multimsg",E="hasnomsg",A="hasonemsg",U="hasmultimsg",G="hasthreadmsg",K=[E,A,U,G],L=K.length;function T(W,X){var V=J(W);if(V){if(X){W.replaceClass(V,X);}else{W.removeClass(V);}}else{W.addClass(X);}}function J(X){var W,V;for(W=0;W<L;++W){V=K[W];if(X.hasClass(V)){return V;}}return null;}function R(W){var Y=W.node||W.item,V=W.root,X;if(!Y){return false;}if(Y.get("tagName")==="A"){Y=Y.get("parentNode");}X=J(V);switch(X){case E:if(Y.hasClass(I)||Y.hasClass(P)){return false;}break;case U:if(Y.hasClass(I)){return false;}break;}return true;}function N(Y,V){var Z={"folder-empty-spam":"%40B%40Bulk","folder-empty-trash":"Trash"},X=Z[Y],W;if(X){V=B.one('#system-folders li[data-fid="'+X+'"]');}if(V){W=J(V);}if(W){switch(Y){case"folder-allread":case"folder-empty":case"folder-empty-spam":case"folder-empty-trash":return W===U?true:false;}}return true;}function O(V,W){var Y=this,W=W?W:false,X=E;if(W){X=G;}else{if(V>=1){X=(V>1)?U:A;}else{if(B.UA.ie){B.one(".list-view-items").blur();B.one("#toolbar").focus();}}}if(Y.get(M)!==X){Y.set(M,X);}}function D(Y){var X=Y.node,V=X.get("parentNode"),W=X.get("id").replace("btn-","menu-"),a=B.one("#"+W),Z=J(V)||E;T(a,Z);}function F(){var W,X=B.one("#menu-msglist"),V=B.one("#pagetoolbar");if(X&&V){W=J(V)||E;T(X,W);}}function C(V,X){var Y=this,W;if(V&&X){W=J(V)||E;T(X,W);}if(!NeoConfig.tog_empty_folders){Y.patchFolderMenu(X);}}function H(a){var Y,Z=["spam","trash"],V,X,W;for(Y in Z){V=B.one("#system-folders li."+Z[Y]);if(V&&a){X=a.one('li[data-action="folder-empty-'+Z[Y]+'"]');if(X){W=J(V)||E;T(X,W);}}}}function S(V){var W=this;S.superclass.constructor.call(W,V);W._evts=W._evts||[];W._evts.push(B.on("listItemSelect",function(X){if(Q&&X){W.setButtonContext(X.total);}}));W.addAttrs({BUTTON_CTXT_ATTR:{}});W.on(M+"Change",function(Y){var X=this.root;if(X){T(X,Y.newVal);}});}if(Q){B.extend(S,B.mail.ui.Toolbar,{buttonEnabled:R,setNodeButtonMenu:D,setButtonContext:O});B.namespace("mail.ui").Toolbar=S;B.namespace("mail.ui").ContextButton={setNodeMessageListMenu:F,setNodeFolderMenu:C,patchFolderMenu:H,folderActionEnabled:N,buttonEnabled:R};}},"1.0.0",{requires:["common-ui-toolbar-base"]});

YUI.add("search-mods",function(A){A.mix(A.namespace("comps"),{"mail-ui-advancedSearchController":{"path":"mail/ui/msearch/advancedSearch/advancedSearchController_12.js","requires":["common-utils","mail-ui-advancedSearchView","plugin","ac-widget","filter-contacts","forms_css","autocomplete_css","_shared_module_offscreen_bin_compose","comms-utils"]},"mail-ui-advancedSearchView":{"path":"mail/ui/msearch/advancedSearch/advancedSearchView_12.js","requires":["common-utils","_shared_module_search_empty_rollup","attribute-base","event-base"]},"mail-ui-bulk-progress":{"path":"mail/ui/msearch/utils/bulkProgress_12.js","requires":["attachments_css","common-ui-dialog-helper","_shared_module_offscreen_bin_progress_bar","mail-ui-basewidget"]},"mail-ui-dmsearch-controller":{"path":"mail/ui/dmsearch/dmsearchController_12.js","requires":["event-base","mail-ui-dmsearch-view","mail-ui-dmsearch-model"]},"mail-ui-dmsearch-model":{"path":"mail/ui/dmsearch/dmsearchModel_12.js","requires":["common-net-sessionmgr"]},"mail-ui-dmsearch-view":{"path":"mail/ui/dmsearch/dmsearchView_12.js","requires":["node-base","node-event-delegate","attribute-base","event-base","minty_module_list_view_ad_search"]},"mail-ui-emptyFolderController":{"path":"mail/ui/msearch/emptyFolder/emptyFolderController_12.js","requires":["mail-ui-emptyFolderView"]},"mail-ui-emptyFolderView":{"path":"mail/ui/msearch/emptyFolder/emptyFolderView_12.js","requires":["common-utils","_shared_module_folder_empty_rollup","attribute-base","event-base"]},"mail-ui-list-mgr":{"path":"mail/ui/msearch/model/listmgr_12.js"},"mail-ui-mailSearchController":{"path":"mail/ui/msearch/mailSearchController_12.js","requires":["json","mail-ui-basewidget","common-utils","mail-ui-searchutils","mail-ui-search-model","mail-ui-list-mgr"]},"mail-ui-messageaction":{"path":"mail/ui/msearch/model/messageactions_12.js","requires":["mail-controller-messages","mail-controller-messages-ops","common-utils","mail-model-datastore"]},"mail-ui-messagesview-search":{"path":"mail/ui/msearch/messagesviewSearch_12.js","requires":["common-ui-contentwidget","common-ui-toolbar-base","mail-ui-mailview-base","mail-ui-messagepane-base","dom-screen","mail-ui-common-string-utils"]},"mail-ui-search-model":{"path":"mail/ui/msearch/model/msws_12.js","requires":["mail-ui-searchutils","json","rocket-stats","mail-ui-common-string-utils"]},"mail-ui-searchGroupsController":{"path":"mail/ui/msearch/searchGroups/searchGroupsController_12.js","requires":["common-utils","mail-ui-searchGroupsView"]},"mail-ui-searchGroupsView":{"path":"mail/ui/msearch/searchGroups/searchGroupsView_12.js","requires":["common-utils","_shared_module_shell_navigation_search_rollup","mail-ui-common-string-utils"]},"mail-ui-searchListController":{"path":"mail/ui/msearch/searchList/searchListController_12.js","requires":["common-utils","mail-ui-searchListView","mail-ui-listview-controls"]},"mail-ui-searchListView":{"path":"mail/ui/msearch/searchList/searchListView_12.js","requires":["stylesheet","search_css","datatype-date","mail-controller-folders","mail-controller-messages","mail-ui-common-string-utils","attachments_css","mail-ui-attachment-filetype","mail-ui-searchutils"]},"mail-ui-searchbar":{"path":"mail/ui/msearch/searchbar_12.js","requires":["common-utils","node-pluginhost"]},"mail-ui-searchdesc":{"path":"mail/ui/msearch/searchdesc_12.js"},"mail-ui-searchutils":{"path":"mail/ui/msearch/utils/searchUtils_12.js"},"mail-ui-toolbarController":{"path":"mail/ui/msearch/toolbar/toolbarController_12.js","requires":["common-utils","contacts-api","contacts-api-utils"]}});});

YUI.add("common-ui-listview",function(C){var S=C.namespace("common.ui"),a=C.Node,T=a.one,Z=C.Object,H=21,L=a.getDOMNode,N="pageSize",A="pageCount",W="-",M=".",R="page",F="list",K="click",E="dblclick",P="id",B="input",V="refresh",G="reload",b="requestSize",J="selected",O="#",U="selectionCount",Q="getElementsByTagName";var X=function(Y){return function(){var d=this,c=arguments;C.use("common-ui-listview-ext",function(){d[Y].apply(d,c);});};};function D(){this._lazyAddAttrs=false;D.superclass.constructor.apply(this,arguments);}C.mix(D,{NAME:"listview",ATTRS:{page:{value:0,validator:function(Y){return !((Y<0)||(Y>=this.get(A)));}},pageCount:{getter:function(){var Y=this;return Math.ceil(Y.get("model").get(F).length/Y.get(N))||1;}},pageSize:{value:100},entireElementChecks:{value:false},requestSize:{value:200},selectionCount:{setter:function(Y){if(Y>1){this.checkmode=1;}return Y;},getter:function(){return this.selCount();}},selection:{getter:function(){return Z.keys(this._sel);},setter:X("_setSelection")},focused:{value:false},activeItem:{value:null},isActive:{value:true},model:{valueFn:function(){return new I();},setter:function(Y){var c=this;c.detachAll();if(Y){Y.after(G,function(d){c.set(R,0,{noupdate:1});c._clearSelect();c._sel={};c._sync(1);});Y.after(V,function(d){c._ss=Z.values(c._sel);c._model.request(c.start(),c.get(b));});Y.after("listChange",X("_listchange"),c,1);}return(this._model=Y);}},status:{setter:function(c){if(this._parentNode){var Y=X("_setStatus");Y.apply(this,arguments);}}},showFocus:{value:false},selectVersion:{value:1}}});C.extend(D,C.Base,{LIST_CLASS_NAME:"list-view-items",ITEM_CLASS_NAME:"list-view-item",STATUS_CLASS_NAME:"list-view-status",IGNORE_FLAG:"flag",IGNORE_ICON:"icon",IGNORE_DELETE:"delete-msg",IGNORE_CLASS_NAME_INFO:"info",CHECKBOX:"input",HEADER_CLASS_NAME:"list-header",STATUS_ROLE:"row",initializer:function(Y){var c=this;c._bind();c._maxLength=0;c._guid=C.guid();c._sel={};c.checkmode=0;c.fullpage=Y&&Y.fullpage;},render:function(Y){var f=this,c=0,k=a.one(Y),g=f.get("model").get(F),d=k.one(M+f.LIST_CLASS_NAME),j=f.get(N),h=d.all("div"+M+f.ITEM_CLASS_NAME),e;h.each(function(i){i.set(P,f._id(c++));});f._bindEvents(k);f._srcNode=d;f._parentNode=k;f._r=1;f._maxLength=Math.max(j*H,d.get("offsetHeight"));if(!g[f.start()]){f._sync();}},home:function(){this.set(R,0);},end:function(){this.set(R,this.get(A)-1);},next:function(){this.set(R,this.get(R)+1);},previous:function(){this.set(R,this.get(R)-1);},hasAllSelected:function(){var Y=this;return Y.checkmode&&(Y.get(U)>=(Y.stop()-Y.start()));},selectAll:function(e){var g=this,c=g.get(U),d=e==undefined?1:e,f,Y;if(g.hasAllSelected()){d=0;}Y=T(O+g._id(g.stop()-1));f=T(O+g._id(g.start()));if(!Y){Y=C.one("#inboxcontainer .list-view-item:last-child");}if(!f){}g._selectRange(f,d,Y);return d;},selectSome:function(g){var h=this,f=h.get(U),Y=0,e=h._model.get(F);h._clearSelect();var d={"isRead":["isRead",1],"isunRead":["isRead",0],"isFlagged":["isFlagged",1],"isunFlagged":["isFlagged",0]};for(var c=h.start();c<h.stop();c++){if(e[c]&&e[c].flags[d[g][0]]===d[g][1]){h._selectByIndex(c,1,null,1,0,1);}}h.set(U,h.selCount());},selCount:function(){var Y,c=0;for(Y in this._sel){c++;}return c;},getItemEl:function(Y){return T(O+this._id(Y));},_setSelected:function(Y,c){},_renderItem:function(Y){return Y+"";},_focusItem:function(Y){Y.focus();},_id:function(Y){return this._guid+W+Y;},start:function(){var Y=this;return Y.get(R)*Y.get(N);},stop:function(){var Y=this;return Math.min(Y.start()+Y.get(N),Y._model.get(F).length);},refresh:function(c){if(this._parentNode){var Y=this.get("model");if(c){Y.refresh();}else{Y.reload();}}},sync:function(){this._sync();},resetFocus:function(){var Y=this;Y.setAttrs({activeItem:null,focused:false});Y._clearSelect();Y.fire("lv:resetFocus");},_bind:function(){var Y=this;Y.after("pageChange",function(c){if(c.details&&!c.details[0].noupdate){Y._sel={};Y._lastSS=Y._lastSel=0;Y._sync(0,c.newVal-c.prevVal);}},Y);},_keydown:X("_keydown"),_isCheckboxBorder:X("_isCheckboxBorder"),_sync:X("_sync"),_blur:X("_blur"),_selectRange:X("_selectRange"),_getListItem:function(g,c){var h=this,f=g.target?g.target:g,Y,d;d=f.ancestor(function(e){if(!c&&(e.hasClass(h.IGNORE_FLAG)||e.hasClass(h.IGNORE_DELETE)||(NeoConfig.hoverPreview&&e.hasClass(h.IGNORE_CLASS_NAME_INFO)))){Y=1;}return(e.hasClass(h.ITEM_CLASS_NAME)&&!e.hasClass(h.HEADER_CLASS_NAME))||Y;},true);return Y?0:d;},_getIndex:function(Y){return 1*Y.get(P).split(W).pop();},_checkbox:function(f){var c=f.target||f,Y=NeoConfig.hoverPreview?false:c.hasClass("info");if((c.hasClass("cbox")||c.get("parentNode").hasClass("cbox")||Y||(c.hasClass("fixed")&&c.hasClass("start"))||(c.get("type")||"").toLowerCase()=="checkbox")||this._isCheckboxBorder(f)){var d=L(c).parentNode[Q](B);return{state:d[0].checked};}},_isTextField:function(c){var Y=c.target||c;if(Y.get("type")&&Y.get("type")=="text"){return true;}},_entireElementCheck:function(f){if(this.get("entireElementChecks")){var d,g=this,Y=f.target||f;var c=Y.ancestor(function(e){return e.hasClass(g.ITEM_CLASS_NAME);},true);if(c){d=L(c)[Q](B);return{state:d[0].checked};}}},_select:function(c,Y,d,e,i,j){var g=this,k,f,h=g.selCount();if(c){f=g._getIndex(c);if(!d||(d&&d.compareTo(c))){c[Y?"addClass":"removeClass"](J);c.set("aria-selected",(Y?true:false));if(h==1&&Y&&i){(L(C.Node.one(O+g._id(g.get("selection")[0])))[Q](B))[0].checked=Y;}if((h>=1)||e){(L(c)[Q](B))[0].checked=Y;g.checkmode=(h>1)?1:Y;g._lastSel&&Y&&((L(g._lastSel).getElementsByTagName(B))[0].checked=1);}if(Y){k=g._model.get(F)[f];k&&(g._sel[f]=k);}else{delete g._sel[f];}j||g.set(U,g.selCount());}else{g._selectRange(c,Y,d);}}},_selectByIndex:function(c,g,Y,d,f,e){this._select(this.getItemEl(c),g,Y,d,f,e);},_clearSelect:function(c){var d=this,Y=d.selCount();if(Y&&!c){if(Y==1&&d._lastSel){d._select(d._lastSel,0);}else{d.selectAll(0);}}d.checkmode=0;d._lastSel=d._lastSS=0;d._sel={};Y&&d.set(U,d.selCount());},_bindEvents:function(i){var h=this,e,c=null,g=null,d=500;i.on("mousedown",f,h);
i.on("mouseup",f,h);i.on(K,f,h);i.on(E,f,h);function Y(j){c=j;g=setTimeout(function(){c=j;g=null;},d);}function f(o){var l=h._getListItem(o),t=h._checkbox(o)||h._entireElementCheck(o),j,n,m,q=o.type,s=(o.metaKey||o.ctrlKey),p=o.shiftKey;if(!l){return;}m=l.hasClass(J);function k(){var u=false;if(l){if(s){j=!m;}else{j=t?!t.state:1;}if(j&&(!s&&!p)&&(!t||!h.checkmode)){if(j===1&&h._sel[h._getIndex(l)]&&h.selCount()==1&&!L(l)[Q](B)[0].checked){u=true;}else{h._clearSelect();}}if(p){h._lastSel=j?l:0;h._select(l,1,h._lastSS,1,0,1);h.set(U,h.selCount());}else{h._lastSel=0;if(!u){h._select(l,j,0,t||(o.button>1),s,1);h.set(U,h.selCount());}h._lastSel=j?l:0;h._focusItem(l);}if(((h.selCount()==1)||!p)&&j){h._lastSS=l;}h.setAttrs({activeItem:l||null,focused:1});o.preventDefault();if(t||s||p){C.fire("mt:click",{action:"click_select",args:{},append:{ltxt:[j,",",p,",",s,",",h.selCount()].join("")}});}}}if((q=="mousedown")&&(e=!m)){k();}if(q=="mouseup"&&!e&&m&&o.button<2){k();}if(q==K||q==E){if(m){n=h._getIndex(l);if(!t&&!s&&!p){var r=1;if(q==K){if(g){if(c==n){r=0;}else{clearTimeout(g);Y(n);}}else{Y(n);}}if(r){h.fire("command",{e:o,index:n,item:h._model.valueAt(n)});}}}o.preventDefault();}}i.on("keydown",function(){h._keydown.apply(h,arguments);});i.on("focus",function(j){h.setAttrs({activeItem:(h._getListItem(j,1)||null),focused:true});});i.on("blur",function(){h._blur.apply(h,arguments);});h.after("showFocusChange",function(j){T(M+h.LIST_CLASS_NAME)[(j.newVal?"addClass":"removeClass")]("showfocus");});}});function I(){this._lazyAddAttrs=0;I.superclass.constructor.apply(this,arguments);}C.mix(I,{NAME:"listmodel",ATTRS:{KEY:{value:"id"},list:{value:[]},length:{setter:function(Y){this.get(F).length=Y;},getter:function(){return this.get(F).length;}}}});C.extend(I,C.Base,{valueAt:function(Y){return this.get(F)[Y];},setRange:X("setRange"),update:X("update"),remove:X("remove"),reverse:X("reverse"),indexesOf:X("indexesOf"),refresh:function(){var Y=this;Y.fire(V);Y._refresh=1;},reload:function(){var Y=this;Y.set("length",0);Y.fire(G);}});S.ListModel=I;S.ListView=D;},"1.0.0",{requires:["base-base","node","event-focus"]});

YUI.add("mail-ui-maillist",function(C){var D=C.common.Utils,R=D.substitute,P=D.escapeHtml,T=D.unescapeHtml,J=C.mail.ui.common.StringUtils,a=C.mail.ui.Accounts,I=C.mail.Controller,Z=I.Folders,M=C.common.persist.UserData,K="userUIPref.defaultSortOrder",X="userUIPref.msgPaneVisible",E=["externalAccounts","aliases","disposableAddresses"],Q=E.length,L,U,F="date",W="down",G="up",O=NeoConfig.bidi&&C.Intl.detectDirection,N=(24*60*60*1000),B=new Date(),A=B.getTime(),V=B.setHours(0,0,0,0),c=B.setHours(23,59,59,999),H=c-A+1,b=V-N*6;for(U=0;U<Q;++U){M.after("knownAddress|"+E[U]+"Change",function(Y){L=a.buildAccountList();});}var S=function(Y){var e=this;_requests=[];Y=Y||{};e.evt=[];e.folderIDSortCol={};e.listAPIObj={};function d(){S.superclass.constructor.call(e);function f(){e.dateResetHandle.cancel();B=new Date();A=B.getTime();V=B.setHours(0,0,0,0);c=B.setHours(23,59,59,999);H=c-A+1;b=V-N*6;e.dateResetHandle=C.Lang.later(H,e,f);e.refresh();}e.dateResetHandle=C.Lang.later(H,e,f);}d();};C.extend(S,C.common.ui.ContentWidget);C.mix(S.prototype,{getColorIndicator:function(d,e){var Y=d||e;L=L||a.buildAccountList();return(Y&&L[Y])?L[Y]:"";},getFolder:function(e,Y){var d=this;Z.get(d.fid,{success:function(h){var g=h.folderInfo;if(!g.localizedName){g.localizedName=J.getSystemFolderName(g.fid,g.name,Y,C.Lang.isObject(d.extraParams));}e(h);}});},getFolderNameBidi:function(f,d,e,Y){if(typeof f==="undefined"){return"";}if(typeof Y==="undefined"){Y=strings.str_tog_loadRTLCss?"rtl":"ltr";}if(typeof d==="undefined"){d=O?C.Intl.detectDirection(f,Y):"";}f=((d=="rtl")?"\u202B":"\u202A")+f+"\u202C";f+=(Y=="rtl")?"\u200F":"\u200E";if(typeof e!=="undefined"){f='<span dir="'+d+'">'+f+"</span>";if(!NeoConfig.isFresh){e=((Y=="rtl")?"\u202B":"\u202A")+"("+e+")"+"\u202C";f+='<i dir="'+Y+'">'+e+"</i>";}}return f;},updateTitle:function(){var Y=this;Y.getFolder(function(e){var f=e.folderInfo.localizedName,d=(Y.folder&&Y.folder.totalConversations)||e.total;if(NeoConfig.bidi){f=Y.getFolderNameBidi(f,e.folderInfo.dir,d);}else{if(NeoConfig.isFresh){f+="::"+d;}else{f+=" <i>("+d+")</i>";}}Y.set("title",f);},true);},setLabel:function(){var Y=this;Y.getFolder(function(d){Y.parentNode.one(".list-view").set("aria-label",d.folderInfo.localizedName);},false);},setFocusNodeAttr:function(Y){this.set("focusNode",Y);return Y;},removeSelection:function(){var d=this,Y=d._listview;if(Y){d.setFocusNodeAttr(Y.getItemEl(Y.start()));Y.set("selection",0);}else{if(!M.get(X)){d._listview.clearSelection(0,1,1);}}},formatFromName:function(f,e,j){var i=this,h=strings.str_cfg_tog_show_contact_name&&C.contacts&&C.contacts.utils,Y,g,d={nameDir:""};if(i.fid=="Draft"||i.fid=="Sent"){if(f){g=f;d.nameDir=e?e:(O?C.Intl.detectDirection(g):"");}}else{Y=j.name?j.name:j.email;g=h?C.contacts.utils.getShownContactName(j):Y;if(O&&g){d.nameDir=C.Intl.detectDirection(g);}}d.name=g?P(T(g)):" ";return d;},initAttrs:function(Y){var e=this,d={selectCount:{getter:function(){return(e._listview)?e._listview.getSelectCount():0;}},selectType:{getter:function(){return(e._listview&&e.listview.getSelectType?e._listview.getSelectType():null);}},fid:{setter:e.setFid},extraParams:{setter:e.setExtraParams},title:{value:e.title},fullpane:{setter:e.setFullpane},vertical:{value:Y.vertical},view:{getter:function(){return(e._listview);}},sortInfo:{getter:function(){return e.sortedColumn;}},page:{getter:function(){return(e._listview?e._listview.get("page"):-1);}},pageCount:{getter:function(){return(e._listview?e._listview.get("pageCount"):-1);}}};e.addAttrs(d);},setExtraParams:function(Y){var d=this;d.extraParams=Y;},reset:function(){var Y=this;Y.folder=null;Y.cancelRequests();NeoConfig.msgrData={reply:{},spam:{spims:[]},message:null};},cancelRequests:function(){for(var Y=0;Y<_requests.length;Y++){_requests[Y].abort();}_requests.length=0;this.sorting=0;},refresh:function(){var d=this;var Y=new Date().setHours(0,0,0,0);d._listview.setStatus(strings[(d.fid=="%40C%40Chats")?(NeoConfig.hasConv?"str_msg_list_loading_ims":"str_msg_list_loading_conversation"):"str_msg_list_loading"]);d._listview.refresh();},restoreSortOrder:function(){var d=this,Y=d.folderIDSortCol;d.sortedColumn=Y[d.fid];if(!d.sortedColumn){d.sortedColumn=d.columns.date;d.sortedColumn.action=F;}d.sortedColumn.sortOrder=(D.isEmpty(Y)?M.get(K):0)||d.sortedColumn.sortOrder;d.showSortOrder();},showSortOrder:function(){},setFullpane:function(Y){var d=this;if(Y){d.rootNode.addClass("inbox-fullpane");d.rootNode.setStyles({width:"auto",height:"auto"});}else{C.use("common-persist-cookie-data",function(h){var f=h.common.persist.getCookie(),g,e=d.get("vertical");if(e){g=f.get("pos.h2slider");g=g&&g.substr(1);g=Math.max((g?g:630),0);d.rootNode.setStyles({width:g,height:"auto"});}else{g=f.get("pos.vslider");d.rootNode.removeClass("inbox-fullpane");g=Math.max((g?g:148),0);d.rootNode.setStyles({height:g,width:"auto"});}});}},handleDarlaEvent:function(f,e){var h=this,g=e?{Inbox:"scroll_inbox","%40C%40Chats":"scroll_inbox",Draft:"scroll_draft",Sent:"scroll_sent",Trash:"scroll_trash","%40B%40Bulk":"scroll_spam"}:{Inbox:"folderview_inbox","%40C%40Chats":"folderview_chat",Draft:"folderview_draft",Sent:"folderview_sent",Trash:"folderview_trash","%40B%40Bulk":"folderview_bulk"},Y,d=f||(h.folder&&h.folder.total==0);Y=g[h.fid]||(e?"scroll_folder":"folderview_custom");h.fire("darlaEvent",{action:(d&&!e)?Y+"_empty":Y});}},true);C.mail.ui.MailList=S;},"1.0.0",{requires:["common-ui-contentwidget","mail-controller-folders","common-persist-user-data","mail-ui-common-string-utils","mail-ui-accounts","mail-model-datastore","rocket-stats"]});

YUI.add("mail-ui-maillist-listview",function(A){var I="host",C="showfocus",K=NeoConfig.isFresh?".btn-hdr":".focusable",F=NeoConfig.isFresh?".neoFocusable.enabled":K,B=NeoConfig.isFresh?"span":"div",J=NeoConfig.isFresh?".list-header":".list-view-item",G="tabIndex",D="keydown",H=15;function E(){E.superclass.constructor.apply(this,arguments);}A.extend(E,A.Plugin.Base,{_evt:[],_getActiveCol:function(){var L=this.get(I).rootNode.one(".list-view").one(J),M=-1;if(L){M=NeoConfig.isFresh?1:L.all(K).indexOf(L.one(".sortby"));}return M;},_onFirstRowKeyDown:function(O){var P=this,N=P.get(I),M=P._hdrNode,L;if(O.keyCode===38&&(O.metaKey||O.ctrlKey)){O.stopPropagation();L=M.all(K).item(P._getActiveCol());N.setFocusNodeAttr(L);N.set("headerFocused",true);L.focus();}},_setFocusNodeAttr:function(){var P=this,N=P.get(I),L=N.vlist,O=L.getItemEl(L.start()),M=N.get("headerFocused");if(O){if(!L.get("activeItem")&&!M){N.setFocusNodeAttr(O);}if(M){N.setFocusNodeAttr(P._hdrNode.all(K).item(P._getActiveCol()));}P._evt.push(O.on(D,P._onFirstRowKeyDown,P));}},_activateBottomToolbar:function(){var O=this,N=O.get(I),M=this.get(I)._listmodel,L=this.get(I)._listview;if(NeoConfig.fullPage==1){if(M.get("list").length-(L.get("page")*L.get("pageSize"))>H){A.one(".list-view-footer").removeClass("hidden");}else{A.one(".list-view-footer").addClass("hidden");}}},bindUI:function(){var P=this,N=P.get(I),L=N.vlist,O=N.rootNode.one(".list-view"),M=O.one(".list-header");P._hdrNode=M;P._evt.push(L.on("statusChange",function(S){var R=S.newVal.tmpl||S.newVal,Q=S.newVal.hideLoader||false;if(R){S.newVal={"tmpl":'<div role="gridcell">'+R+"</div>","hideLoader":Q};N.setFocusNodeAttr(O.one(".list-view-status"));}}));P._evt.push(N.on("beforeRender",function(Q){var R=L.getItemEl(L.start());if(R){R.detach(D);}}));P._evt.push(N.on("renderComplete",function(){P._setFocusNodeAttr();}));P._evt.push(N.after("renderComplete",function(){P._activateBottomToolbar();}));P._evt.push(M.delegate("keydown",function(R){var Q=R.target;switch(R.keyCode){case 40:R.halt();O.one(".list-view-items").simulate("keydown",{charCode:R.keyCode,keyCode:R.keyCode,altKey:R.alt,shiftKey:R.shift,ctrlKey:R.ctrl,metaKey:R.meta});break;case 32:if(Q.get("nodeName").toLowerCase()===B){R.halt();if(NeoConfig.isFresh&&Q.get("id")=="btn-ml-cbox"){Q=Q.get("children").item(1);}Q.simulate("click");}break;}},K,P));P._evt.push(M.on("key",function(V){N.set("headerFocused",true);var T=M.all(F),U=V.target,S=T.indexOf(U),Q=V.keyCode===39?(S+1):(S-1),R=T.item(Q);if(R){N.setFocusNodeAttr(R);R.focus();}},"down:37,39"));P._evt.push(O.delegate("mousedown",function(Q){N.set("focusNode",Q.target.ancestor(J,true));N.set("headerFocused",false);},".list-view-items .focusable"));P._evt.push(N.on("fidChange",function(Q){N.set("headerFocused",false);}));P._evt.push(N.after("headerFocusedChange",function(Q){if(Q.newVal){M.addClass(C);}else{N.get("focusNode").blur();M.removeClass(C);}}));P._evt.push(L.on("lv:resetFocus",function(Q){P._setFocusNodeAttr();}));},initializer:function(L){var N=this,M=N.get(I);M.addAttr("headerFocused",{value:false});N._evt.push(M.after("focusNodeChange",function(Q){var O=Q.prevVal,P=Q.newVal;O&&O.set(G,-1);P&&P.set(G,0);}));N._evt.push(M.once("render",function(){M.rootNode.one(".list-view").set("aria-live","polite");N._setFocusNodeAttr();N.bindUI();}));N._activateBottomToolbar();},destructor:function(){var M=this,L=M._evt;if(L){A.Array.each(L,function(N){N.detach();});M._evt=null;}}});E.NAME="mllistviewplugin";E.NS="mllistviewplugin";A.mail.ui.MessageListListViewPlugin=E;},"1.0.0",{requires:["mail-ui-messagelist-base"]});

YUI.add("mail-ui-listview-controls",function(A){var F=A.common.Utils,E=F.substitute,L=A.ui.Templates,D=A.Plugin.Menu;var I="_shared_module_offscreen_bin_menus_message_list_count",H="_shared_module_offscreen_bin_menus_message_list_sortby",B="_shared_module_offscreen_bin_menus_message_list_cbox_select",G="down",J="up",K={"SearchList":["flagged","unRead","conv","recipient"],"ConversationList":["flagged","attachment","unRead","subject","sender","recipient","conv"],"MessageList":["conv","recipient"],"MessageListTo":["conv","sender"],"list":["conv","recipient"],"listTo":["conv","sender"]};var C=function(N,O,M){var P=this;P.list=O;P.type=M;P.node=N;P.template=null;};A.mix(C.prototype,{setup:function(M){var O=this;try{return O["_"+O.type+"Setup"].apply(O,arguments);}catch(N){}return false;},_paginationSetup:function(N){var O=this,M=O.list.get("view");if(N){O.template=N;}if(M){M.after("renderComplete",A.bind(O._pageChange,O));M.after("updatePagination",A.bind(O._pageChange,O));}O._pageChange(false);return true;},_pageFooterSetup:function(N){var O=this,M=O.list.get("view");if(N){O.template=N;}if(M){M.after("renderComplete",A.bind(O._nextPage,O));M.after("updatePagination",A.bind(O._nextPage,O));}O._nextPage(false);return true;},_sortoptionsSetup:function(M,N){var O=this;if(M){O.template=M;}O._handleSortMenu(N);},updateSortMenuLabel:function(M){var P=this,O={"sender":strings.str_menu_sort_sender_up,"recipient":strings.str_menu_sort_recipient_up,"subject":strings.str_msg_list_subject,"date":strings.str_msg_list_date,"unRead":strings.str_menu_sort_unread_up,"attachment":strings.str_menu_sort_attachment_up,"flagged":strings.str_menu_sort_flagged_up},N;N=M in O?O[M]:null;if(N){P.node.one("a").set("innerHTML",E(strings.str_msg_list_sort_by,{sorted_by:N},0,0,strings)+"<b></b>");}},_handleSortMenu:function(M){var N=this;N.node.addClass("pressed");N.createMenuFor(H,N.node,"#menu-ml-sortby",{},function(){var P=N.node.menu.getMenuNode(),Q=P.all("li"),O=P.one('a[data-action="date"]').get("parentNode");menu=N.node.menu;N.updateSortMenu(M);P.on("menuSelected",function(T){var U=T.dataAction,S=N.list,R=P.one("li.sortby");A.fire("mt:click",{action:"msglist_sortMnu",append:{ltxt:U}});S.fire("sortList",{sortType:U,targetNode:T.item.get("parentNode"),currentSortedColumn:R});});P.after("menu:state",function(S){var R=S.state;if(R=="hide"){N.node.removeClass("pressed");N.node.unplug(A.Plugin.Menu);this.destroy(true);}});});},updateSortMenu:function(M){var P=this,S=P.list.NAME,N=P.node.menu.getMenuNode(),O=N.all("a"),Q=N.one(".sortby"),R,V,T,U;if(S=="MessageList"&&M&&(M=="Sent"||M=="Draft")){S="MessageListTo";}else{if(S=="SearchList"){U={"Sent":true,"Draft":true,"%40C%40Chats":true};if(P.list.get("data").type=="list"){S=(U[P.list.get("fid")])?"listTo":"list";}}}T=K[S],R=P.list.get("sortInfo");V=N.one('a[data-action="'+R.action+'"]').get("parentNode");if(Q){Q.removeClass("sortby").removeClass("asc").removeClass("desc").removeAttribute("aria-sort");}V.addClass("sortby "+(R.sortOrder===J?"asc":"desc"));V.setAttribute("aria-sort",(R.sortOrder===J?"ascending":"descending"));O.each(function(X){var W=X.get("parentNode"),Y=X.getAttribute("data-action");A.Array.indexOf(T,Y)>=0?W.hide():W.show();});},_selectoptionsSetup:function(M){var N=this;if(M){N.template=M;}N._handleSelectMenu();},_handleSelectMenu:function(){var M=this;M.node.get("parentNode").addClass("pressed");M.createMenuFor(B,M.node,"#menu-ml-cbox",{},function(){var N=A.one("#menu-ml-cbox");N.on("menuSelected",function(O){var P=O.dataAction;M.list.fire("selectMessages",{action:P});},M);N.after("menu:state",function(P){var O=P.state;if(O=="hide"){M.node.get("parentNode").removeClass("pressed");M.node.unplug(A.Plugin.Menu);this.destroy(true);}});});},createMenuFor:function(Q,M,P,O,R,N){var N=N||{};A.use("common-ui-menu-helper",Q,function(V){var U=V.common.ui.MenuHelper,T=E(L[Q].base,null,N,null,strings),S;if(V.Lang.isString(P)){P=V.one(P);}if(!P){P=T;}if(O&&O.loading){S=O.loading.node?O.loading.node:P;U.createLoadingMenu(S);}U.create(M,{menu:P},R);});},_nextPage:function(U){var P,Q=this,M=Q.node,T=Q.template;if(U&&(!(P=M.get("parentNode"))||!(P.get("parentNode")))){return;}if(NeoConfig.isFresh&&NeoConfig.fullPage==0){A.one(".list-view-items").appendChild(E(T.footer_wrapper,0,0,0,strings));M=A.one(".pagination-footer");}var R=Q.list.get("page")+1,S=Q.list.get("pageCount"),O=(R===S),N={class_disabled_next:(R===S)?" disabled":" enabled",class_disabled_first:(R===1)?" disabled":" enabled",aria_disabled:O?"true":"false"};M.setContent(E(T.pagination_footer,N,0,0,strings));if(NeoConfig.pagedResults){M.detach("click");M.on("click",function(Z){var V=F.getDataAction(Z),Y,a,W;W=V.action;if(W.indexOf("-page")!==-1){W=W.substr(0,W.indexOf("-page"));}if(W){Y=Z.target.ancestor(function(b){return b.get("tagName").toLowerCase()==="span";},true);if(Y&&!Y.hasClass("disabled")){a=A.config.win||window;a.scrollTo(0,0);}if(A.Lang.isNull(Z.target.ancestor(".disabled"))){Q.list.fire("pageAction",{args:{action:W}});var X=Z.target.ancestor(".list-view-footer")||Z.target.ancestor(".pagination-footer");A.fire("mt:click",{action:"nav_"+W+(X?"_btm":"")});}}Z.preventDefault();Z.stopPropagation();});}},_pageChange:function(W){var P,Q=this,O=Q.list.folder,M=Q.node,V=Q.template;if(W&&(!(P=M.get("parentNode"))||!(P.get("parentNode")))){return;}var S=Q.list.get("page")+1,U=Q.list.get("pageCount"),R=(S===1),T=(S===U),N={first_class_disabled:R?" disabled":" enabled",first_aria_disabled:R?"true":"false",current:S,total:U,last_class_disabled:T?" disabled":" enabled",last_aria_disabled:T?"true":"false"};if(Q.node.one("#btn-ml-count")&&Q.node.one("#btn-ml-count").menu){Q.node.one("#btn-ml-count").unplug(D);}M.setContent(E(V.pagination_inner,N,0,0,strings));M.detach("dblclick");M.on("dblclick",function(X){if(X.target.ancestor(".pagination-count")){A.use("mail-common-inline-edit",function(Y){Y.log("Enabling Editable Pagination control for Message View toolbars");var Z=new Y.mail.common.EditablePaginationControl(M,{setPage:function(b){Q.list.fire("pageAction",{args:{action:"page",val:b}});
},getPageTotal:function(){return Q.list.get("pageCount");},getCurrentPage:function(){return Q.list.get("page");}},X);Z.enableEditablePagination(X);var a=X.target.ancestor(".list-view-footer")||X.target.ancestor(".pagination-footer");A.fire("mt:click",{action:"nav_page"+(a?"_btm":"")});});}X.stopPropagation();});if(NeoConfig.pagedResults){M.detach("click");M.on("click",Q._arrowClick,Q);M.on("keydown",function(X){if(X.keyCode===13){Q._arrowClick(X);}},Q);}},_arrowClick:function(R){var T=this,N=F.getDataAction(R),M=T.list.folder,Q,S,O;O=N.action;if(O.indexOf("-page")!==-1){O=O.substr(0,O.indexOf("-page"));}if(O){Q=R.target.ancestor(function(U){return U.get("tagName").toLowerCase()==="span";},true);if(Q&&!Q.hasClass("disabled")){S=A.config.win||window;S.scrollTo(0,0);}if(A.Lang.isNull(R.target.ancestor(".disabled"))){F.rocketstats.stat("listview","pagination:"+(M&&M.isSystem?"system:":"custom:")+O);T.list.fire("pageAction",{args:{action:O}});var P=R.target.ancestor(".list-view-footer")||R.target.ancestor(".pagination-footer");A.fire("mt:click",{action:"nav_"+O+(P?"_btm":"")});}}R.preventDefault();R.stopPropagation();},_handleMenu:function(M){}});A.mail.ui.ListViewControls=C;},"1.0.0",{requires:[]});

YUI.add("mail-ui-maillist-model",function(B){var C=B.namespace("mail.ui");function A(D){var E=this;E.listObj=D.listObj;A.superclass.constructor.apply(this,arguments);}B.extend(A,B.common.ui.ListModel,{request:function(G,E,D){var F=this;F.requestItems(G,E,function(J,I,H){F.set("length",H);F.setRange(J,I);F.fire("MailListModel:data",{data:I});});},requestItems:function(H,F,D,E){var G=this;G.listObj.requestItems(H,F,D,E);}});C.MailListModel=A;},"1.0.0",{requires:["common-ui-listview"]});

YUI.add("mail-ui-maillist-view",function(B){var C=B.namespace("mail.ui");function A(D){var E=this;E.listObj=D.listObj;A.superclass.constructor.apply(this,arguments);}B.extend(A,B.common.ui.ListView,{_renderItem:function(F,D,E,H){var G=this;return G.listObj.renderItem(F,D,E,H);},_focusItem:function(D,G){var F=this;var E=F.listObj.setFocusNodeAttr(D);if(E&&!G){E.focus();}},getSelected:function(H,F,K,G){var L=this,E=L.get("selection"),M=E.length,I=E.length,P=[],J=[],D={},O,N=L._model.get("KEY");while(I--){O=L._model.valueAt(E[I]);if(O){J.push(O[N]);D[O[N]]=O;}}if((M==1)&&K&&G&&!NeoConfig.noCache){K(L._model.get("list"),parseInt(E[0]),P,G);}H({arr:J,map:D,neighbors:P});},setStatus:function(D){var E=this;E.set("status",D);},setLength:function(D){var E=this;E._model.set("length",D);},refreshBody:function(){var D=this;D.sync();},updateUlSize:function(){},updateItemByIndex:function(D){var E=this;E._model.update(D,E.listObj._listmodel.valueAt(D));},getSelectClass:function(){return"";},getSelectCount:function(){var D=this;return D.get("selectionCount");},reverse:function(D){var E=this;E._model.reverse();if(!E.get("selectionCount")){if(D){E.end();}else{E.home();}}},toggleScrollPos:function(){var D=this;D.end();},setScrollByIndex:function(){},getItem:function(E){var F=this;var D=F.listObj._listmodel.valueAt(F._getIndex(F._getListItem(E,1)));return D;},setItems:function(G,D,E){var F=this;F._model.set("length",E);F._model.setRange(G,D);},selectLastSingle:function(){var D=this;return{item:D._model.valueAt(D.get("selection").pop())};},clear:function(E,G,D){var F=this;if(D){F._model.get("list").length=0;}else{F._model.reload();}},clearSelection:function(){},setSelected:function(G){var F=this,E={},D=F._model.get("KEY");E[D]=G;F._model.indexesOf(E,function(H){F.set("selection",H);});},removeByKey:function(F){var H=this,G,E=H._model.get("KEY"),D=[];B.Array.each(F,function(I){var J={};J[E]=I;D.push(J);});H._model.indexesOf(D,function(I){B.common.Utils.traceMsg("removing indexes from model, count "+B.Object.keys(I).length);H._model.remove(I);});}});C.MailListView=A;},"1.0.0",{requires:["common-ui-listview"]});

YUI.add("mail-ui-messagelist-base",function(B){var O=B.mail.Controller.Messages,T=B.mail.model.DataStore.Messages,E=T.toMessage,Q=T.toMessageInfo,W=B.mail.Controller.Folders,C=B.common.Utils,P=C.escapeHtml,S=C.unescapeHtml,R=C.substitute,K=B.mail.ui.common.StringUtils,M=B.common.persist.UserData,I="userUIPref.messagesPerPage",L="userUIPref.defaultSortOrder",J="userUIPref.msgListDensity",D=1500,G="date",V="down",H="up",Z=(strings.str_cfg_tog_hkr_siu===true?"hkr_siu":"cg_siu"),a=strings.str_cfg_tog_hkr_siu===true,F=[],N,A,U=1;var X=function(Y){var c=this;Y=Y||{};c.evt=[];function b(){X.superclass.constructor.call(c,Y);var g=[],e=B.one("#inboxcontainer div.inbox.expanded-content"),h=e&&e.all("div.list-view-item.selected");h&&h.each(function(j){var k=j.one("input"),i=k.get("value");g.push(i);});c.selectedMids=g;c.title="";c.restoreSortOrder();if(!Y.dontBind&&(Y.fid==="Inbox")){var d=NeoConfig&&NeoConfig.msgListObj;}c.view=Y.view||{};c.dontBind=Y.dontBind;c.template=Y.TEMPLATE||NeoConfig.msgListTmpl;c.pageSize=NeoConfig.pageSize*1||150;c.pageloadTimer=null;if(!d||(Y.fid==="%40S%40Search")){c.createPaginatedList(d);c.initAttrs(Y);c.set("fid",Y.fid||"Inbox");}else{W.get(Y.fid,{success:function(i){c.createPaginatedList(d,i.total);c.initAttrs(Y);c.set("fid",Y.fid||"Inbox");}});}function f(n,o,m){if(n===c.fid){if(U!==m){if(m==="checkmail"){if(!c.sorting){c.updateHeader();var k=c._listmodel.get("list"),j=[];for(var l=0;l<k.length;l++){k[l]&&j.push(k[l].mid);}c._listmodel.once("MailListModel:data",function(v){var q=v.data,t=0,u=6,s,p=[];for(var r=0;r<q.length;r++){s=q[r];if(s&&!s.flags.isRead&&(B.Array.indexOf(j,s.mid)==-1)){p.push({mid:s.mid});t=p.length;if(t===u){break;}}}if(p){C.rocketstats.stat("neo::folders","neo::folders:checkmailnewmsg_ext");C.rocketstats.stat("neo::folders","neo::folders:checkmailcount_ext_"+t);}});c.refresh();}}else{c._listview.refresh(1);!c._listview.hasAllSelected()&&c.selectAllNode.set("checked",0);}}c.updateTitle();}}c.on("visibleChange",function(i){if(i.newVal&&c.needFlush){f(c.fid);c.needFlush=0;}});c.evt.push(B.on("ds:msg:remove",c.removeMsg,c));c.evt.push(B.on("ds:msg:flush",f,c));c.evt.push(B.on("ds:msg:change",c.changeMsg,c));c.evt.push(B.on("ds:msg:add",c.addMsg,c));c.evt.push(B.on("checkmail:before",c.removeSelection,c));if(strings.str_cfg_tog_show_contact_name===true){c.evt.push(B.on("contacts:api:loaded",function(i){c.update();},c));c.evt.push(B.on("contacts:api:contactChanged",function(i){c.update();},c));}B.mix(c,{update:function(){c._listview.refreshBody();}});}b();if(YUI_config.debug){X._instanceList.push(c);}};if(YUI_config.debug){X._instanceList=[];}B.extend(X,B.mail.ui.MailList);B.mix(X.prototype,{NAME:"MessageList",itemHeight:21,removeMsg:function(f,e){var d,g=this;if(f===g.fid){if(e){var b=[],Y=e?e.length:0,c=Y&&T.isSearchMid(e[0].mid,f);if(B.mail.Tabs.getActiveTab().get("widget").type==="messagelist"){g._listview.set("isActive",true);}else{g._listview.set("isActive",false);}if(!c){for(d=0;d<Y;d++){b.push(e[d].mid);}g._listview.removeByKey(b,g._listview.checkmode||g.fid==="%40B%40Bulk");}}else{g._listview.refresh();}g.updateTitle();}g.searchUpdate(f,e);},searchUpdate:function(b,Y){var c=this;if(c.fid!=="%40S%40Search"){B.Array.some(Y,function(d){if(d&&(d.sourceFolderInfo&&(d.sourceFolderInfo.fid===c.fid)||T.isSearchMid(d.mid))){c.needFlush=1;return 1;}});}},addMsg:function(c,Y,b){this.changeMsg(c,Y,Y,Y);},changeMsg:function(h,b,d,r){var j=this,f,o=0,k=d?d.length:0,Y={},n={},m=j._listmodel.get("list"),g=[],e,p,q,c=m.length,l=k&&T.isSearchMid(d[0].mid,h);if(!l&&(h===j.fid)&&(k>0)){for(f=0;f<k;f++){Y[d[f].mid]=d[f];if(r[f].flags||r[f].header){n[d[f].mid]=d[f];}}f=0;while((f<c)&&(o!==k)){q=m[f];if(q&&(q.mid in Y)){if(q.mid in n){p=Q(j.fid,Y[q.mid]);e=m[f];p.receivedDate=e.receivedDate;p.snippet=e.snippet;m[f]=C.merge(e,p,true);g.push(f);}o++;}f++;}if(o!==k){j._listview.refresh(1);j.updateTitle();}else{if(g.length>1){j._listview.refreshBody();j.updateTitle();}else{if(g.length===1){j._listview.updateItemByIndex(g[0]);}}}}j.searchUpdate(h,d);},showSortOrder:function(){var d=this,c,Y,b;if(d.listRender&&(d.fid!=="%40S%40Search")){if(NeoConfig.isFresh){if(d.sortMenu){d.sortMenu.updateSortMenuLabel(d.sortedColumn.action);}return;}c=B.one('#inboxcontainer div.inbox.expanded-content div[data-action="'+d.sortedColumn.sortKey+'"]'),Y=c.ancestor();while(b=Y.one(".sortby")){b.removeClass("sortby asc");b.removeClass("sortby desc");b.removeAttribute("aria-sort");}if(!d.sortedColumn.groupBy){if(d.sortedColumn.sortOrder==V){c.addClass("sortby desc");c.setAttribute("aria-sort","descending");}else{c.addClass("sortby asc");c.setAttribute("aria-sort","ascending");}}}},render:function(e){var h=this,d,c;h.parentNode=B.Node.one(e);h.set("parentNode",h.parentNode);h.rootNode=h.parentNode.one(".inbox.expanded-content");h.set("rootNode",h.rootNode);if(!h._listview){return;}if(!h.rootNode){function b(){var i=NeoConfig.isFresh?B.ui.Templates._shared_module_message_list_refresh_rollup:B.ui.Templates._shared_module_message_list_rollup,j={message_list_full_pane:"",get_message_response:"",show_from_header:i.show_from_header?R(i.show_from_header,0,0,0,strings):"",search_results:i.search_results||"",has_pagination:i.has_pagination,footer_wrapper:NeoConfig.fullPage?i.footer_wrapper:"",show_snippet:"",show_snippet1:"",show_snippet_else:i.show_snippet_else,show_snippet_else1:i.show_snippet_else1,message_list_density:function(){if(!NeoConfig.isFresh){return"";}return["ml-compact","ml-regular","ml-open"][M.get(J)||0];}};h.template=i;h.parentNode.set("innerHTML",R(h.template.base,j,0,0,strings));h.render(e);}if(!h.template){B.use("_shared_module_message_list_rollup",b);return;}else{b();}}d=h.rootNode.one(".list-view");if(h.fid!=="Inbox"||h.dontBind){h.rootNode.one(".list-view .list-view-items").set("innerHTML","");}h._listview.render(d);var Y;h.bindUI();h.parentNode.one(".list-header").setStyle("overflow-x","hidden");if(strings.str_tog_loadRTLCss&&!NeoConfig.fullPage&&yui.UA.safari>0){h.parentNode.one(".list-header").setStyle("overflow-y","scroll");
}h.parentNode.one(".list-header input").removeAttribute("disabled");h.setLabel();h.set("focusNode",h.rootNode.one(".list-view .list-view-items"));if(NeoConfig.intl==="jp"){h.rootNode.one(".list-view .list-view-items").on("scroll",function(){h.handleDarlaEvent(false,true);});}if(h.selectedMids){while(c=h.selectedMids.pop()){h._listview.setSelected(c);}}h.listRender=1;if(NeoConfig.isFresh){h.setPaginationToolbar();h.setPaginationFooter();}else{var f=(B.UA.ie===7)?h.rootNode.get("lastChild").get("lastChild"):h.rootNode.one(".list-view-footer").get("lastChild");var g=new B.mail.ui.ListViewControls(f,h,"pagination");g.setup(h.template);f.setStyle("visibility","visible");}h.updateHeader();h.fire("render");},renderItem:function(c,Y,b,e){var d=this;if((B.server&&!c)||!c){return"";}c.FormattedFrom=d.formatFromName(c.toEmail,c.toEmailDir,c.from);c.colorIndicator=d.getColorIndicator(c.externalPopServer,c.xapparentlyto);d.renderIndex=Y;N=e;A=b;return R(d.template.message,c,d.formatters,c,strings,null,d);},createPaginatedList:function(j,c){var g=this,e=0,h=j?j.length:0,l,n=(g.sortedColumn.sortKey===G)&&(g.sortedColumn.sortOrder===H),Y=c?(n?c-h:0):0,k=[];if(h){for(e=0;e<h;e++){l=j[e];k[Y++]={mid:l.mid,subject:l.subject?S(l.subject):"",subjectDir:(NeoConfig.bidi&&l.subjectDir)?l.subjectDir:"",xapparentlyto:l.xapparentlyto,receivedDate:l.rawDate,snippet:((NeoConfig.hasConv||NeoConfig.grid)&&l.snippet)?l.snippet:"",size:parseInt((l["data-size"].split("=").pop()).replace('"',"")),inboxservices:(l.inboxservices&&B.Lang.isString(l.inboxservices)&&l.inboxservices.match("data-certified"))?[{name:"crt",value:"transactional"}]:[],from:(function(){try{return B.JSON.parse(S(l.fromObj));}catch(i){return"";}})(),flags:{isFlagged:l.flags.match("flagged")?1:0,isRead:l.flags.match("unread")?0:1,isForwarded:l.flags1.match("forwarded")?1:0,isReplied:l.flags1.match("replied")?1:0,hasAttachment:l.hasOwnProperty("hide_attachments_else")?0:1,inAddressBook:l.hasOwnProperty("inAddressBook")?1:0},msgicon:(l.msgicon?l.msgicon:""),fromTitle:(function(){try{return B.JSON.parse(S(l.fromObj)).email;}catch(i){return"";}})()};}}X.setMessageHeaderList(k);if(c){k.length=c;}var d,f,m=(1*M.get(I))||50;d=new B.mail.ui.MailListModel({KEY:"mid",length:c,list:k,listObj:g});f=new B.mail.ui.MailListView({model:d,pageSize:m,requestSize:m*2,listObj:g,fullpage:NeoConfig.fullPage});f.on("selectionCountChange",function(i){if(g.selectAllNode){g.selectAllNode.set("checked",(g._listview.hasAllSelected()?1:0));}if(g.fid==="%40C%40Chats"){g.setMessengerData(i&&i.newVal);}});if(n){f.end();}g._listmodel=d;g._listview=f;g.vlist=f;if(!g.plug){B.augment(g,B.Plugin.Host);}g.plug(B.mail.ui.MessageListListViewPlugin);g.on("closeChange",function(){g.unplug("mllistviewplugin");});if(g.parentNode){g.render(g.parentNode);}function b(){if(g.selectAllNode){g.selectAllNode.set("checked",(g._listview.hasAllSelected()?1:0));}}g._listview.on("command",g.onCommand,g);g._listview.on("selectionCountChange",g.onListViewSelect,g,true);g._listview.after("renderComplete",b);g._listview.after("renderComplete",function(){g.clearPageloadTimer();g.fire("fullPageRenderComplete");});g._listview.on("listview:prefetchMessage",g.prefetchMessages,g);b();},prefetchMessages:function(b){var c=this,Y=c.folder.folderInfo;if(NeoConfig.prefetchMsgsCheckMail==1&&NeoConfig.prefetchMsgsFolders==1){if(c.folder.isSystem==false||Y.fid=="Inbox"||Y.fid=="Draft"){B.fire("startPrefetch",{fid:Y.fid,msgHdrList:b.msgsList,delay:100,preCacheMids:[]});}}},updateHeader:function(){if(!this.parentNode){return;}var g=this,f=g.prevFid,c=g.fid,e={Draft:"show_to_header",Sent:"show_to_header","%40C%40Chats":"show_participant_header"};if(!NeoConfig.isFresh&&f!==c&&g.fid!=="%40S%40Search"){var i=g.parentNode.one(".from"),b=i.getData("col-width"),Y=i.getData("col-left"),j=i.getData("col-right"),d=i.getData("toCol"),h=e[c]||"show_from_header";i.replace(R(g.template[h],0,0,0,strings,0,g));i=g.parentNode.one(".from");i.setData("col-width",b);i.setData("col-left",Y);i.setData("col-right",j);}if(g.selectAllNode){g.selectAllNode.set("checked",(g._listview.hasAllSelected()?1:0));}g.restoreSortOrder();},formatters:{id:function(){return N;},status_message:function(g,c,e){var b="&nbsp;",d,Y,f=g.srvmap;if(!f){Y=g.inboxservices||[];g.srvmap=f={};for(d=Y.length-1;d>=0;d--){f[Y[d].name]=Y[d].value;}}if(!strings.str_cfg_tog_certified_icon&&f.crt){delete f.crt;}if(g.flags.isReplied){b=strings["str_msg_list_info-replied"];}else{if(g.flags.isForwarded){b=strings["str_msg_list_info-forwarded"];}else{if(!g.flags.isRead){b=strings["str_msg_list_info-unread"];}else{if(f.crt){b=strings["str_msg_list_info-certified"];}}}}return b;},status_title:function(d,Y,b){var c="";if(d.srvmap&&d.srvmap.crt){c=R(strings.str_msg_list_info_verified_attr,strings);}return c;},checkbox_label:function(c,Y,b){return R(strings.str_msg_list_checkbox_label,{messagenumber:(b.renderIndex+1)});},checked:function(c,Y,b){return(b._listview&&A&&b._listview.checkmode)?" checked=true ":"";},page_conversation_history:function(Y){return R(Y.template.page_conversation_history,Y,Y.formatters,0,strings);},archiving_disabled:function(Y){return R(Y.template.archiving_disabled,Y,Y.formatters,0,strings);},from:function(c,Y,b){return c.FormattedFrom.name?P(S(c.FormattedFrom.name)):"&nbsp;";},fromDir:function(c,Y,b){return NeoConfig.bidi?P(S(c.FormattedFrom.nameDir)):"";},fromTitle:function(d,b,c){var Y="";if(c.fid==="Draft"||c.fid==="Sent"){Y=d.toEmail?d.toEmail:"";}else{Y=d.from.email?d.from.email:"";}Y=P(S(Y));return Y;},folder:function(b){var Y=b.sourceFolderInfo,c=Y.name;K.getSystemFolderName(Y.fid,Y.name);return P(S(c));},sender:function(c,Y,b){var d=b;return R(d.template.sender,0,0,0,strings,null,d)+" "+P(S(c.from.name));},date:function(Y){if(Y.receivedDate){return C.dateFormatter(new Date(Y.receivedDate*1000),strings.str_tog_dateformat_messagelist_timeonly_l10n);}return"";},receivedDate:function(b){var Y=b.receivedDate*1000;return C.dateFormatter(new Date(Y),Neo.getDateFormat(Y));
},subject:function(Y){return Y.subject?P(S(Y.subject)):strings["str_msg-view_no_subject"];},snippet:function(Y){return Y.snippet?P(S(Y.snippet)):"";},show_snippet:function(c,Y,b){var d=b;return NeoConfig.hasConv?R(d.template.show_snippet,c,d.formatters,c,strings,null,d):"";},show_snippet1:function(c,Y,b){var d=b;return NeoConfig.hasConv?R(d.template.show_snippet1,c,d.formatters,c,strings,null,d):"";},show_snippet_else:function(c,Y,b){var d=b;return NeoConfig.hasConv?"":R(d.template.show_snippet_else,c,d.formatters,c,strings,null,d);},show_snippet_else1:function(c,Y,b){var d=b;return NeoConfig.hasConv?"":R(d.template.show_snippet_else1,c,d.formatters,c,strings,null,d);},size:function(Y){return Math.ceil(Y.size/1000);},mid:function(){return"";},flags:function(c,Y,b){var d=b;return[A?" selected ":" ",(c.flags.isRead?"":" unread "),(c.flags.isFlagged?" flagged ":"")].join("");},flags1:function(e){var b="",c,Y,d=e.srvmap;if(!d){Y=e.inboxservices||[];e.srvmap=d={};for(c=Y.length-1;c>=0;c--){d[Y[c].name]=Y[c].value;}}if(!strings.str_cfg_tog_certified_icon&&d.crt){delete d.crt;}if(e.flags.isReplied){b="replied";}else{if(e.flags.isForwarded){b="forwarded";}else{if(!e.flags.isRead){b="unread";}else{if(d.crt){b="certified";}}}}return["info-",b].join("");},flags2:function(c,Y,b){var d=b;return c.flags.hasAttachment?d.template.hasAttachment:"";},hide_attachments_else:function(c,Y,b){var d=b;return R(d.template.hide_attachments_else,c,d.formatters,null,(c.flags.hasAttachment?strings:null),null,d);},flags3:function(c,Y,b){var d=b;return R(d.template.flags3,c,d.formatters,c,null,null,d);},isFlagged1:function(c,Y,b){var d=b;return c.flags.isFlagged?R(d.template.isFlagged1,c,d.formatters,c,strings,null,d):"";},isFlagged2:function(c,Y,b){var d=b;return c.flags.isFlagged?R(d.template.isFlagged2,c,d.formatters,c,strings,null,d):"";},isFlagged_else1:function(c,Y,b){var d=b;return c.flags.isFlagged?"":R(d.template.isFlagged_else1,c,d.formatters,c,strings,null,d);},isFlagged_else:function(c,Y,b){var d=b;return c.flags.isFlagged?"":R(d.template.isFlagged_else,c,d.formatters,c,strings,null,d);},inboxservices:function(f,b,d){var g=d,e=f.srvmap;if(!e){var Y=f.inboxservices||[];f.srvmap=e={};for(var c=Y.length-1;c>=0;c--){e[Y[c].name]=Y[c].value;}}return((a||!e.crt)&&(e[Z]||e.siu||f.msgicon))?R(g.template.inboxservices,f,g.formatters,f,null,null,g):"";},msgicon:function(c){var b=c.srvmap,Y={"http://mail.yimg.com/a/i/cal/bell4.gif":"https://s.yimg.com/nq/i/cal/bell4.gif","http://mail.yimg.com/a/i/us/pim/ybang_16x16_1.gif":"https://s.yimg.com/lq/i/us/pim/ybang_16x16_1.gif"};if(NeoConfig.isFullSSL&&b&&b[Z]&&Y[b[Z]]){b[Z]=Y[b[Z]];}return b&&b[Z]?b[Z]:c.msgicon;},msgicon_title:function(d,Y,b){var e=b,c=e.formatters.flags1(d);return(c!=="info-"&&c!=="")?strings[["str_msg_list_",c].join("")]:"";},is_flagged:function(Y){return[(Y.flags.isRead?"":" unread "),(Y.flags.isFlagged?" flagged ":"")].join("");},message_list_density:function(){if(!NeoConfig.isFresh){return"";}return["ml-compact","ml-regular","ml-open"][M.get(J)||0];},attached_files:function(c,h,Y){var f=Y,e,d=c?c.imgAttachments||[]:[],g,j=[];if(c.nonImgAttachments){d=d.concat(c.nonImgAttachments);}g=d.length>3?3:d.length;if(g&&c.snippet&&c.snippet!=""){g=1;}for(e=0;e<g;e++){var b=d[e];j.push(R(f.template.attached_files,b,{hasImage:function(){return b.type=="image"?"hasimage":"";},image:function(){return b.thumbnailurl?R(f.template.image,b):"";},type:function(){return B.mail.ui.AttachFileType.getType(b.filename);},filename:function(){if(b.filename===".eml"){b.filename=strings.str_comp_nosubject+".eml";}return b.filename;}}));}return j.join("");}},columns:{date:{sortKey:G,sortOrder:V,colIndex:5},size:{sortKey:"size",sortOrder:V},subject:{sortKey:"subject",sortOrder:H,colIndex:4},sender:{sortKey:"sender",sortOrder:H,colIndex:3},to:{sortKey:"to",sortOrder:H},recipient:{sortKey:"recipient",sortOrder:H,colIndex:3},participant:{sortKey:"sender",sortOrder:H},attachment:{sortKey:G,groupBy:"hasAttachment",sortOrder:V,colIndex:6},flagged:{sortKey:G,groupBy:"flagged",sortOrder:V,colIndex:7},replied:{sortKey:G,groupBy:"unRead",sortOrder:V},unRead:{sortKey:G,groupBy:"unRead",sortOrder:V,colIndex:2}},onCommand:function(b){var c=this;function Y(d){var e=E(c.fid,d.map[d.arr[0]]);c.fire("command",{e:b.e,fid:c.fid,message:e,index:b.index,neighbors:c.convertNeighbors(d.neighbors,c.fid)});}c._listview.getSelected(Y,null,X.getNeighbors,c.fid);},bindUI:function(){var d=this,b=d.parentNode.one(".list-header"),Y,c;d.selectAllNode=b.one(".cbox input");d.selectAllNode.set("checked",0);b.one(".cbox").removeAttribute("disabled");if(NeoConfig.fullPage&&(c=B.one(".list-view-footer"))){B.use("comms-ui-nodefocus-base",function(){c.plug(B.comms.ui.NodeFocusBase,{descendants:"span.btn a",keys:{next:"39",previous:"37"}});});}d.publish("renderComplete",{defaultFn:function(){B.fire("MessageList:renderComplete",d);}});d.evt.push(d.after("fidChange",function(f){d.setLabel();}));d.evt.push(d._listview.on("beforeRender",function(){d.fire("beforeRender");},d));d.evt.push(d._listview.on("renderComplete",function(){d.fire("renderComplete");},d));d.evt.push(d._listview.on("beforeItemUpdate",function(){d.fire("beforeItemUpdate");},d));d.evt.push(d._listview.on("itemUpdate",function(){d.fire("itemUpdate");},d));d.evt.push(d.on("pageAction",function(g){var f;if(NeoConfig.fullPage){d.set("selectCount",0);}if(g.args&&g.args.action){d.setPageloadTimer();if(g.args.action==="page"){d._listview.set("page",g.args.val);}else{f=d._listview[g.args.action];if(f){f.call(d._listview,g.args.action);}}}},d));d.evt.push(d.rootNode.on("click",d.handleColumnHeaderClick,d));d.evt.push(b.on("click",d.listHeaderClick,d));d.evt.push(b.on("keydown",function(f){if(f.keyCode===13){d.handleColumnHeaderClick(f);d.listHeaderClick(f);f.halt();}}));d.evt.push(d.on("closeChange",function(g){if(NeoConfig.fullPage&&c){if(c.nodeFocusBase){c.unplug(B.comms.ui.NodeFocusBase);}if(c.nodeFocus){c.unplug(B.comms.ui.NodeFocus);}}var f,h=this;if(g.newVal===1){for(f in h.evt){B.detach(h.evt[f]);
}h.evt=[];}},d));},handleColumnHeaderClick:function(d){var g=this,c=d.target,Y=C.getDataAction(d),f,b;if(d.target.get("nodeName")=="A"||d.target.get("parentNode").get("nodeName")=="A"){d.preventDefault();}switch(Y.action){case"selectAll-message":case"selectAll":B.Lang.later(0,g,function(){g.selectAllNode.set("checked",g._listview.selectAll(1));});break;case"select-dd":g.createSelectMenu(Y.node);break;case"flagged":return;case"retry-msglist-load":B.fire("mt:click",{action:"msglist_retry",args:{fid:g.fid}});g.updateHeader();g.refresh();break;case"menu":if(Y.node.hasClass("sortby")){if(!g.sortMenu){g.sortMenu=new B.mail.ui.ListViewControls(Y.node,g,"sortoptions");}g.sortMenu.setup(g.template,g.fid);}break;}if(NeoConfig.hoverPreview&&(c.hasClass("info")||c.ancestor(".info"))){b=c.ancestor(".list-view-item").hasClass("unread")?"read":"unread";d.halt();}if(c.hasClass("flag")||c.ancestor(".flag")){b=c.ancestor(".list-view-item").hasClass("flagged")?"unflagged":"flagged";B.fire("mt:click",{action:b==="flagged"?"flag_message":"unflag_message"});}else{if(c.hasClass("delete-msg")){b="delete";B.fire("mt:click",{action:"msglist_delBtn"});}}if(NeoConfig.grid){if(c.hasClass("icon")){b=Y.action;}}if(b){f=E(g.fid,g._listview.getItem(d));if(b!="delete"||(f&&f.mid)){B.use("mail-ui-messageevents",function(){B.mail.ui.MessageEvents.handleUI({action:b},g.fid,g,[f]);});}else{C.rocketstats.stat("msgops","TAE14:MsglistBadData:"+b);}}},onCommand:function(b){var c=this;function Y(d){var e=E(c.fid,d.map[d.arr[0]]);c.fire("command",{e:b.e,fid:c.fid,message:e,index:b.index,neighbors:c.convertNeighbors(d.neighbors,c.fid)});}c._listview.getSelected(Y,null,X.getNeighbors,c.fid);},setMessengerData:function(Y){var b=this;if(Y===1){b._listview.getSelected(function(c){var d=c.map[c.arr[0]];NeoConfig.msgrData={reply:{cloud_id:d.srvmap&&d.srvmap.cloudid,alias:d.toEmail,id:d.from.email},spam:{},message:d};});}else{NeoConfig.msgrData={};}},requestItems:function(Y,h,d,m){var g=this;function c(p){var r,s,t=p.messageInfo,u=p.startInfo,q,o=t.length;g.folder=p.folder;if((q=p.mid)&&(q.length)){r=q.length;t=[];u=p.startMid;while(r--){t[r]={mid:q[r]};}o=t.length;}for(r=0;r<t.length;r++){s=t[r].snippet;if(s){t[r].snippet=s.replace(/<.*?>/g,"");}}d(u,t,g.folder.total);g.sorting=0;}var j={fid:g.fid,sortKey:g.sortedColumn.sortKey,sortOrder:g.sortedColumn.sortOrder,groupBy:g.sortedColumn.groupBy},n=(this.fid==="%40C%40Chats"),b="Client.FolderIdDoesntExist",k=g.extraParams,l,f;j=m?B.mix(j,{startMid:Y,numMid:h,bidiDetection:NeoConfig.bidi}):B.mix(j,{startInfo:Y,numInfo:h,bidiDetection:NeoConfig.bidi});if(k){for(var e in k){j[e]=k[e];}}l={success:c,failure:function(i){g._listview.setStatus({"tmpl":R(g.template.loading_error,0,0,0,strings),"hideLoader":true},true);g.clearPageloadTimer();if(n&&i.code===b){g.handleDarlaEvent("%40C%40Chats");}else{if(i.reason===O.Error.request){C.rocketstats.stat("mgslist","BadRequest_"+(m?"mid":"info"));}}g.sorting=0;},timeout:NeoConfig.wsListTimeout||60000,suppressCodes:["*"],suppressLogs:n&&[b],exceptCodes:[999]};f=O.list;_requests.push(f.call(O,j,l,++U));},convertNeighbors:function(b,c){var Y=b.length;while(Y--){b[Y]=E(c,b[Y]);}return b;},getSelected:function(Y){var c=this;function b(f){var g,d=(f&&f.arr?f.arr.length:0),e=[];for(g=0;g<d;g++){e.push(E(c.fid,f.map[f.arr[g]]));}Y(e);}c._listview.getSelected(b,null,X.getNeighbors,c.fid);},onListViewSelect:function(b){var d=this,Y=b;d.set("selectCount",b.newVal);if(NeoConfig.pagedResults&&!NeoConfig.fullPage&&b.newVal===1&&!d._listview.checkmode){function c(e){var f=E(d.fid,e.map[e.arr[0]]);d.fire("singleSelect",{fid:d.fid,index:null,message:f,neighbors:d.convertNeighbors(e.neighbors,d.fid),e:Y});}d._listview.getSelected(c,null,X.getNeighbors,d.fid);}},onListSelect:function(c){var f=this,Y=c,e=c.count,b=c.index;f.set("selectCount",e);if(f.selectAllNode){f.selectAllNode.set("checked",(f._listview.checkmode&&e&&e===f._listview.length)?1:0);}if(e===1&&!f._listview.checkmode){function d(g){var h=E(f.fid,g.map[g.arr[0]]);f.fire("singleSelect",{fid:f.fid,index:b,message:h,index:params.index,neighbors:f.convertNeighbors(g.neighbors,f.fid),e:Y.e});}f._listview.getSelected(d,null,X.getNeighbors,f.fid);}if(f.fid==="%40C%40Chats"){f.setMessengerData(e);}},setFid:function(Y){var b=this;if(b.fid!==Y||b.extraParams){b.prevFid=b.fid;b.reset();b.fid=Y;b.clearPageloadTimer();W.get(b.fid,{success:function(c){var d=b.sortedColumn.sortKey===G&&b.sortedColumn.sortOrder===H&&!b.sortedColumn.groupBy;b.folder=c;if(b._listview){b._listview.setLength(b.folder.total);if(strings.str_cfg_tog_preserve_msglist_scroll){b._listview.setRefreshScrollToBottom(d);}b.updateHeader();b.refresh();}}});}},listHeaderClick:function(f){var i=this,d=C.getDataAction(f).action,h=f.currentTarget.one('[data-action="'+d+'"]'),b=i.parentNode.one(".list-header"),g=i.sortedColumn,Y=b.one(".sortby")||b.one(".date"),c=i.columns;if(d=="selectAll-message"){B.fire("mt:click",{action:"msglist_selAll",args:{fid:i.fid}});return;}else{if(c[d]&&c[d].colIndex){B.fire("mt:click",{action:"msglist_hdr",args:{fid:i.fid},append:{t3pos:c[d].colIndex,ltxt:d}});}}if(i.sorting||!c[d]){return;}f.halt();i.sortList(d,h,Y);},sortList:function(d,j,m){var h=this,o=strings.str_msg_list_sorting,e,i=h.sortedColumn,l,b=h.columns,n,c;if(h.sorting||!b[d]){return;}else{e=C.wcopy(b[d]);e.action=d;if(i&&i.action==e.action){e.sortOrder=(i.sortOrder===V)?H:V;switch(d){case"flagged":n=(i.groupBy==="flagged")?"unFlagged":"flagged";break;case"unRead":n=(i.groupBy==="unRead")?"read":"unRead";break;case"attachment":n=(i.groupBy==="hasAttachment")?"noAttachment":"hasAttachment";break;}e.groupBy=n;l=true;}}m.removeClass("sortby").removeClass("asc").removeClass("desc").removeAttribute("aria-sort");if(e.sortOrder===H){j.addClass("sortby asc");}else{j.addClass("sortby desc");}j.setAttribute("aria-sort",(e.sortOrder===H?"ascending":"descending"));if(d===G&&(i.sortKey!==G||i.groupBy)&&M.get(L)){h.sortedColumn.sortOrder=e.sortOrder=M.get(L);}h.sortedColumn=e;h.folderIDSortCol[h.fid]=h.sortedColumn;
if(h.folder.total===1){h.showSortOrder();return;}c=(h._listview.getSelectCount()===1);if(c&&l&&!((d=="unRead")||(d==="flagged"))){h._listview.reverse(0,o);}else{if(c&&(e.sortKey!==G)){var g=O.list,f=h._listview.selectLastSingle(true),k={fid:h.fid,loc:"centerOn",offsetMid:f.item.mid,numInfo:h.pageSize,sortKey:e.sortKey,sortOrder:e.sortOrder,groupBy:e.groupBy};if(h.listAPIObj&&h.listAPIObj.apiName){g=h.listAPIObj.apiName;h.listAPIObj.params&&B.mix(k,h.listAPIObj.params);}var Y=h._listview.checkmode;h._listview.ignoreUpdate=1;h._listview.setStatus(o);h._listview.clear(0,1,1);h.sorting=1;g(k,{success:function(q){h._listview.ignoreUpdate=0;h._listview.setLength(q.folder.total);h._listview.setScrollByIndex(q.startMid);h._listview.setItems(q.startInfo,q.messageInfo,q.folder.total);h._listview.setSelected(f.item.mid,false,true,false,Y);h.sorting=0;},failure:function(){h.sorting=0;h._listview.ignoreUpdate=0;}});}else{var p=(e.sortKey===G)&&(e.sortOrder===H&&!e.groupBy);if(l&&!((d==="unRead")||(d==="flagged"))){if(h._listview.getSelectCount()>1){h._listview.clearSelection(1);}h._listview.reverse(p,o);}else{h._listview.setStatus(o);h.sorting=1;h._listview.refresh();h._listview.toggleScrollPos(p);}}}if(e.sortKey===G&&e.sortOrder!==M.get(L)&&!e.groupBy){M.set(L,e.sortOrder);M.saveOne(L);}if(NeoConfig.isFresh){h.sortMenu.updateSortMenuLabel(e.action);}},setPaginationToolbar:function(){var b=this,Y=b.rootNode.one(".pagination");if(!b.paginationCntrls){b.paginationCntrls=new B.mail.ui.ListViewControls(Y,b,"pagination");b.paginationCntrls.setup(b.template);}},setPaginationFooter:function(){var b=this,Y=b.rootNode.one(".pagination-footer");if(!b.pageFooterCntrls){b.pageFooterCntrls=new B.mail.ui.ListViewControls(Y,b,"pageFooter");b.pageFooterCntrls.setup(b.template);}},clearPageloadTimer:function(){var Y=this;if(Y.pageloadTimer){Y.pageloadTimer.cancel();Y.pageloadTimer=null;}},setPageloadTimer:function(){var b=this,Y;b.clearPageloadTimer();b.pageloadTimer=B.later(2000,b,function(){b._listview.setStatus(strings[(b.fid=="%40C%40Chats")?"str_msg_list_loading_ims":"str_msg_list_loading"]);});},createSelectMenu:function(b){var c=this,Y=c._listview;if(!c.selectMenu){c.selectMenu=new B.mail.ui.ListViewControls(b,c,"selectoptions");c.on("selectMessages",function(d){var e=d.action;switch(e){case"all":c.selectAllNode.set("checked",Y.selectAll(1));break;case"none":c.selectAllNode.set("checked",Y.selectAll(0));break;case"Read":case"unRead":case"Flagged":case"unFlagged":c.selectAllNode.set("checked",Y.selectSome("is"+e));}B.fire("mt:click",{action:"msglist_selectMnu",args:{fid:c.fid},append:{ltxt:"sel_"+e}});});}c.selectMenu.setup(c.template);}},true);B.namespace("mail.ui");X.getMsgHdrList=function(){return F;};X.setMessageHeaderList=function(b){for(var c=0,Y=b.length;c<Y;c++){F.push(b[c]);}};X.getNeighbors=function(){};B.mail.ui.MessageList=X;},"1.0.0",{requires:["mail-ui-maillist","mail-ui-maillist-model","mail-ui-maillist-view","mail-controller-messages","mail-ui-listview-controls","mail-ui-maillist-listview"]});

YUI.add("mail-ui-attachment-filetype",function(B){var A=function(){};A.prototype={getType:function(C){var D=C?C.substr(C.lastIndexOf(".")+1):"";switch(D.toLowerCase()){case"xls":case"xlsx":case"xlsb":case"xlsm":case"xlt":case"xltx":D="xls";break;case"doc":case"docx":case"dot":case"dotx":case"rtf":D="doc";break;case"pdf":D="pdf";break;case"zip":D="zip";break;case"mp3":case"m4a":case"wma":case"wav":D="music";break;case"ppt":case"pptx":case"pot":case"potx":case"pps":D="ppt";break;case"mpeg":case"mpg":case"mov":case"wmv":case"avi":case"flv":D="video";break;case"html":case"htm":case"eml":D="eml";break;default:D="eml";break;}return D;}};B.namespace("mail.ui").AttachFileType=new A;},"1.0.0");

YUI.add("mail-ui-mailpane-base",function(C){C.namespace("mail.ui");var D=C.common.Utils,R=D.escapeHtml,c=D.unescapeHtml,b=D.substitute,A=D.rocketstats,L=C.ui.Templates,g=C.mail,J=g.ui,G=C.Lang,d=G.trim,W=g.ui.MessagePaneUtils,X=g&&g.Controller?g.Controller.Messages:{},V=g&&g.model?g.model.DataStore.Messages:{},S=V.getPermMidPart,Z=L.minty_module_comm_modes,E=V.toMessage,f="ERROR: MessagePaneRead ",Q=200,F=1000,K=15,a=0,e=15000,U=1,M,T=function(){},I={},P=NeoConfig.bidi;var O=function(Y){var j=this,i=(NeoConfig.om&&strings["str_cfg_tog_hasIM"]&&NeoConfig.hasIM),h=(NeoConfig.om&&strings["str_cfg_tog_hasSMS"]);O.superclass.constructor.call(j,Y);j.NAME="MessagePane";j.numSelected=0;j.hasStarted=false;j.loading_slow=j.loading_error=j.loading_moved=j.tmPendingLoad=j.tbarMod=j.tbarCallBack=j.tbarScope=j.tmFireRead=j.slowLoad=j.loadingTimer=j.widthUpdateTimer=j.neighbors=j.message=j.outboundReq=j.request=null;j.isLoaded=j.nextPrevCounter=j.stepTimer=j.isStepping=j.scrollWidth=j.scrollWidthIncr=j.scrollWidthKill=j.fid=0;j.fullView=Y.fullView;j.fullPageView=NeoConfig&&NeoConfig.fullPage;j.parentNode=Y.parentNode||null;j.type="message";j.guid=C.guid();j.sortedColumn=Y.sortedColumn||null;j.searchQuery=Y.searchQuery||null;j.arrMessageSequence=Y.arrMessageSequence||null;j.stopwatch=null;j.oTemplate=null;j.statOp=null;j.stopwatchPreview="PaneInPreview";j.formatters={page_show_comm_modes:function(){return !j.numSelected&&!j.get("close")?j.sub({s:j.oTemplate.page_show_comm_modes}):"";},page_show_comm_modes_else:function(){return j.numSelected&&!j.get("close")?j.sub({s:j.oTemplate.page_show_comm_modes_else}):"";},global_spearmint_view_else:function(){return !j.get("close")?j.sub({s:Z.base}):"";},page_message_pane_view:function(){return Y.fullView?"":j.oTemplate.page_message_pane_view;},page_message_pane_view1:function(){return Y.fullView?"":j.oTemplate.page_message_pane_view1;},page_message_pane_view2:function(){return Y.fullView?"":j.oTemplate.page_message_pane_view2;},page_message_full_view:function(){return Y.fullView?j.oTemplate.page_message_full_view:"";},message_selection:function(){return j.numSelected>0&&!j.message?j.oTemplate.message_selection:"";},has_im:function(){return i?b(Z.has_im,null,j.formatters,null,strings):"";},has_sms:function(){return h?b(Z.has_sms,null,j.formatters,null,strings):"";},is_fresh:function(){return NeoConfig.isFresh?j.sub({s:j.oTemplate.is_fresh}):"";},is_fresh_else:function(){return !NeoConfig.isFresh?j.sub({s:j.oTemplate.is_fresh_else}):"";}};j.on("closeChange",function(l){var k;if(l.newVal){j.detach();if(!j.get("reuse")){try{if(j.parentNode){k=(!j.fullPageView&&j.parentNode.one("div.tripane .content"))||j.parentNode.one("div.message.content");j.set("parentNode",null);j.parentNode=null;}if(k){k.destroy();}}catch(l){}}}else{j.attach();}});!j.get("close")&&j.attach();j.addAttrs({fid:{setter:function(k){j.fid=k;}},message:{setter:function(k){j.setMessage(k);},getter:function(){return j.getMessage();}},visible:{setter:function(l){var k=j.get("rootNode");if(k){k.setStyle("display",(l?"block":"none"));}},value:Y.visible==undefined?1:Y.visible,lazyAdd:true},vertical:{setter:function(o){var k=j.get("rootNode"),m=C.common.persist.getCookie(),l,n={},p=P?"right":"left";if(o){l=m.get("pos.h2slider");l=(l&&l.charAt(0)=="a")?l.substr(1):l;n.top="0px";n[p]=(l||630);}else{n.top=(m.get("pos.vslider")||148);n[p]="0px";}k&&k.setStyles(n);},value:Y.vertical,lazyAdd:true},transferFocus:{},scrollWidth:{value:null},scrollWidthActive:{value:true}});j.neoEvent("rendered",{emitFacade:true,broadcast:1});};C.extend(O,C.mail.ui.BaseWidget,{scrollWidthReset:function(){var Y=this;if(!Y.scrollWidthKill){Y.scrollWidth=Y.scrollWidthIncr=0;Y.set("scrollWidth",null);}},scrollWidthUpdate:function(Y){var k=this,i,h=Y.scrollWidth,j=h-k.scrollWidth;if(NeoConfig.fullPage&&k.fullView&&!k.scrollWidthKill){if(j!=0){i=j-this.scrollWidthIncr;if(i>=0&i<=K){k.scrollWidthKill=1;k.set("scrollWidth",null);}else{k.scrollWidth=h;k.scrollWidthIncr=j;k.set("scrollWidth",h);}}}},scrollWidthNotify:function(){var h=this,Y=h.parentNode.one(".msg-body");if(Y){if(a==0){a=parseInt(Y.getStyle("marginRight"))+parseInt(Y.getStyle("marginLeft"));}h.scrollWidthUpdate({scrollWidth:Y.get("scrollWidth")+a});}},scrollWidthStartTimer:function(){var Y=this;if(NeoConfig.fullPage&&Y.fullView&&Y.get("scrollWidthActive")){Y.scrollWidth=Y.scrollWidthIncr=Y.scrollWidthKill=0;Y.scrollWidthNotify();if(Y.widthUpdateTimer){Y.widthUpdateTimer.cancel();}Y.widthUpdateTimer=C.later(F,Y,function(){if(Y.get("active")){Y.scrollWidthNotify();}},null,true);}},resetScrollPosition:function(){var i=this;var Y,h;if(i.resetScroll){Y=this.get("parentNode");h=Y?(!i.fullPageView&&Y.one("div.tripane .content"))||Y.one("div.message.content"):0;if(h){h.set("scrollTop",0);i.resetScroll=0;}}},bindUI:function(){var i=this,h=i.getStopwatch();h&&h.start(2,"BindUI");var Y=i.getRoot();if(C.UA.webkit&&Y&&Y.get("id")!=="msg-preview"&&!i.fullPageView){Y.setStyle("-webkit-user-select","none");C.later(1000,null,function(){var j=i.getRoot();j&&j.setStyle("-webkit-user-select","");},0,false);}if(i.message){h&&h.start(2,"PreLoadExtra1");i.loadExtra(function(){try{h&&h.start(2,"LoadExtraCB1");i.bindPaneContent();}catch(j){}});}else{if(Y&&!i.rootBound){h&&h.start(2,"DelegateClick");Y.delegate("click",function(l){var k=D.getDataAction(l).action;if(k.search(/^om:.*:.*:.*$/)>-1){B(k);H();}else{switch(k){case"compose":C.fire("mt:click",{action:"compose_new_nav_toolbar",spid:"compose_new"});C.fire("newMessage");break;case"new-conv":break;case"loadContent":if(M){var j=l.target.get("className");H(j);}else{C.use("mail-ui-messenger",function(m){m.mail.ui.Messenger.showErrorDialog();});}break;}}l.preventDefault();},".media-modes span");Y.on("scroll",function(){i.resetScroll=1;});i.rootBound=1;}}Y=null;},renderComplete:function(){var k=this,i=C.mail.model.DataStore.Folders.get(k.fid),h=k.getStopwatch(),Y=D.parseQueryString();if(Y.action==="showLetter"&&Y.umid===k.message.mid){A.stat("messageread","TAE4:GDM:VIA_MRD");
}A.stat(k.statOp,"TAE4:GDM:SUCCESS:"+(i.isSystem?"system":"custom")+":"+k.numRetries);h&&h.start(1,"postRender");k.fireEvent("complete");try{k.fire("renderComplete");}catch(j){A.stat(k.statOp,"renderCompleteError");}A.stat(k.statOp,"renderComplete");k.scrollWidthStartTimer();k.hasStarted=false;k.setRenderFocus();k.postRender();},appendMarkup:function(){try{var k=this,j=k.get("parentNode"),Y=k.message,h,o,n,m,i;if(!j){return;}h=(!k.fullPageView&&j.one("div.tripane .content"))||j.one("div.message.content");if(h){n=k.numSelected?k.oTemplate.page_show_comm_modes_else:k.oTemplate.page_show_comm_modes;o=b(n,Y,this.formatters,null,strings,L);h.setContent(o);k.insertBody(h);if(k.scrollTop&&(m=k.get("rootNode"))){m.set("scrollTop",k.scrollTop);}}else{j.append(k.getMarkup());h=(!k.fullPageView&&j.one("div.tripane .content"))||j.one("div.message.content");k.insertBody(h);}if(!k.get("rootNode")){k.set("rootNode",h.get("parentNode"));k.setRootNodeTabIndex();}}catch(l){A.stat(k.statOp,"appendMarkupError");C.use("common-utils-error",function(){D.error.report((f+"appendMarkupError"),l,1,1,1);});}},getRoot:function(){var h=this,Y=h.parentNode;return Y&&Y.one(".messagepane");},sub:function(h){var l=h.s||"",j=h.o||0,Y=h.f||this.formatters,k=h.a||0,i=h.strs||strings;return b(l,j,Y,k,i);},onKeyDown:function(j){if(j.keyCode!=65){j.stopPropagation();}else{var k=this,h=(!k.fullPageView&&k.parentNode.one("div.tripane .content"))||k.parentNode.one("div.message.content"),Y=C.Node.getDOMNode(h),i;if(window.getSelection){i=window.getSelection();i.selectAllChildren(Y);}else{i=document.body.createTextRange();i.moveToElementText(Y);i.select();}j.halt();}},setToolbar:function(j,Y,h){var i=this;i.tbarMod=j;i.tbarCallBack=Y;i.tbarScope=h;},onFocus:function(){return this.fullView&&!this.message;},getMarkup:function(){var h=this;var Y=b(h.oTemplate.base,h.message,h.formatters,null,strings,L);return Y;},getStopwatch:function(){var Y=this;return D.Stopwatch.get(Y.stopwatchPreview)||Y.stopwatch;},setDocRole:function(){this.get("rootNode").set("role","document");},setRootNodeTabIndex:function(){},abortRequests:function(){var j=this,h=j.request,i=j.retryPrefix(),Y=j.requestType||"";if(h){A.stat(j.statOp,(i+Y+"requestAbort"));h.abort();}j.request=null;},retryPrefix:function(Y){var h=(Y>=0)?Y:this.isRetrying;return h?((h==20)?"retrySL_":"retry_"):"";},requestMessage:function(l,h,k){var n=this,i=l?l.mid||0:0,m,j=k.ovparams||{},Y=n.getStopwatch();if(i){h.args={fid:n.fid,primeMsg:l,stopwatch:Y};if(n.isChat(l)){j.displayPref="text/json";j.urlDetection=false;j.emailDetection=false;j.annotateOption={annotateText:"none"};k.ovparams=j;}n.fireEvent("get");if(Y){Y.start(1,"YCMSGGetBegin");if(!Y.YCMSGGetBegin){Y.YCMSGGetBegin=new Date();}}if(NeoConfig.noCache){j.dontCache=true;k.dontCache=true;}m=X.get(k,h);}return m;},insertBody:function(Y){},attach:function(){},detach:function(){},setMessage:function(Y){},getMessage:function(Y){},render:function(Y){},requestPaneContent:function(i,Y,h){},loadPaneContent:function(h,i,Y){},setRenderFocus:function(){},setFocusNode:function(){},loadExtra:function(){}});function N(h){M=h;var Y=C.one(".media-modes");if(Y){Y.all(".disabled").removeClass("disabled");}}function H(l){var h,j,m,Y=C.one(".media-modes");if(M){for(var k in M){h=M[k]["icon"]["class"];m=M[k]["data_action"];j=Y?Y.one("."+h):null;if(j){j.setAttribute("data-action",m);}if(l===h){B(m);}}}}function B(Y){C.use("om-common-utils",function(h){h.om.common.Utils.fireEvent(Y);});}C.mail.ui.MailPane=C.mail.ui._MailPane=O;C.on("previewpane:config",N);C.on("previewpane:action",H);},"1.0.0",{requires:["minty_module_comm_modes","common-utils","mail-model-datastore","mail-controller-messages","mail-ui-basewidget","mail-persist-meta-data","common-utils-stats","mail-ui-messagepane-utils"]});

YUI.add("mail-ui-messagepane-base",function(C){C.namespace("mail.ui");var a=C.common.Utils,U=a.escapeHtml,V=a.unescapeHtml,h=a.substitute,W=a.rocketstats,N=C.ui.Templates,l=C.mail,O=l.ui,k=C.Lang,A=k.trim,H=l.ui.MessagePaneUtils,K=l&&l.Controller?l.Controller.Messages:{},Z=l&&l.model?l.model.DataStore.Messages:{},E=Z.getPermMidPart,D=N.minty_module_comm_modes,j=Z.toMessage,G="ERROR: MessagePaneRead ",i=200,R=1000,F=15,M="Trash",b="%40B%40Bulk",P=0,I=15000,X=1,Q,S=function(){},T={};var B=function(e){var o=this,m,Y=NeoConfig.isFresh?"_shared_module_message_display_fresh":"_shared_module_message_display";e=e||{};o._evts=[];B.superclass.constructor.call(o,e);o._evts.push(C.on("contacts:api:contactChanged",o.updateLozenges,o));o._cancelMarkAsRead=function(){if(o.tmFireRead){clearTimeout(o.tmFireRead);o.tmFireRead=null;}};o.formatters[Y+"_rollup"]=function(){var p=N[Y+"_rollup"];return o.numSelected&&p?o.sub({s:p.base,f:o.readFormatters}):"";};o.oTemplate=NeoConfig.isFresh?N._shared_module_message_pane_fresh:N._shared_module_message_pane;o.statOp="messageread";o.stopwatchPreview="MsgInPreview";o.set("handleKeysLocally",1);o.set("charCodes","33,34,38,40,35,36,65+ctrl,65+meta");o.set("parentNode",o.parentNode);if(e.fid&&e.message){if(k.isString(e.message)){var n=e.message;e.message=j();e.message.mid=n;}o.set("message",{message:e.message,neighbors:e.neighbors,fid:e.fid,cid:e.cid,fetchConv:e.fetchConv});}};C.extend(B,C.mail.ui.MailPane,{setMessage:function(p){var q=this,Y=a.Stopwatch.get("MsgInPreview")||q.stopwatch;Y&&Y.start(1,"Set");var m=q.message||{},e=q.get("visible"),o;clearTimeout(q.slowLoad);clearTimeout(q.loadingTimer);if(q.widthUpdateTimer){q.widthUpdateTimer.cancel();q.widthUpdateTimer=null;}q.scrollWidth=q.scrollWidthIncr=q.scrollWidthKill=0;if(p&&q.message==p.message&&q.isLoaded){return;}q.isLoaded=0;q.scrollTop=0;q.disableTruncate=0;q.href="";if(p){q.resetScrollPosition();}if(q.fullView&&NeoConfig.fullPage){q.set("scrollWidth",null);}q.numRetries=q.loading_slow=q.loading_error=q.loading_moved=0;if(p){if(p.message.length>0){q.numSelected=p.message.length;q.neighbors=q.message=null;if(!e){return;}q._cancelMarkAsRead();Y&&Y.start(2,"PreLoadExtra2");q.loadExtra(function(){Y&&Y.start(2,"LoadExtraCB2");try{q.render();}catch(r){}});}else{var n=p.message.totalMsgs?p.message.totalMsgs:1;if(n>1){return;}q.message=p.message.msgs?p.message.msgs[0]:p.message;q.numSelected=1;q.fid=p.fid;q.neighbors=p.neighbors;if(q.message.mid&&!q.message.header){q.message=j(q.fid,q.message);}q.message.fetchConv=p.fetchConv||p.message.fetchConv;if(!q.message.cid){q.message.cid=p.cid||p.message.cid;}}}else{q.numSelected=0;q.neighbors=q.message=null;if(!e){return;}q._cancelMarkAsRead();q.render();}if((q.message&&m.mid!=q.message.mid)||q.forceShow){if(!e){q.forceShow=1;return;}q.forceShow=0;if(m.mid){q.abortRequests();}q._cancelMarkAsRead();if(!q.parentNode){return;}W.stat("messageread","setMessage");if(q.tmPendingLoad){clearTimeout(q.tmPendingLoad);o=q.loadPaneContent;}else{q.loadPaneContent();}q.tmPendingLoad=setTimeout(function(){clearTimeout(q.tmPendingLoad);q.tmPendingLoad=null;o&&o.call(q);},i);}},getMessage:function(){var m=this,e=(m.message)?{message:m.message,fid:m.fid}:null,Y=a.Stopwatch.get("MsgInPreview")||m.stopwatch;Y&&Y.start(1,"Get");if(m.numSelected&&!m.message){e={message:new Array(m.numSelected),fid:m.fid};}Y&&Y.start(1,"PostGet");return e;},render:function(t){try{var p=this,o,s,n,Y=a.Stopwatch.get("MsgInPreview")||p.stopwatch,m=t&&!p.parentNode&&p.message,r=function(){try{p.renderComplete();p.setFocusNode();}catch(u){}};p.parentNode=C.one(t)||p.parentNode;if(m){p.loadPaneContent();return;}Y&&Y.start(1,"Render");if(!p.parentNode){return;}o=p.parentNode;p.set("parentNode",o);if(o){if(!p.hasStarted&&p.message){p.fireEvent("start");p._cancelMarkAsRead();}o.addClass("reselectable");p.fireEvent("render");p.appendMarkup();p.setDocRole();p.convertShortcuts();p.bindUI();p.runPlugins();if(p.fullView){s=p.message&&p.message.header&&p.message.header.subject?U(V(p.message.header.subject)):p.fid=="Draft"?strings["str_tabs_compose"]:strings["str_msg-view_tab_no_subject"];if(p.get("title")!=s){p.set("title",s);}}}if(!p.outboundReq&&p.message){if(p.message.body){p.isLoaded=1;Y&&Y.start(1,"MessageInDOM");C.UA.ie?setTimeout(r,0):r();}setTimeout(function(){if(p.tbarCallBack){p.tbarCallBack.apply(p.tbarScope,[C]);}},0);}}catch(q){W.stat("messageread","renderError");C.use("common-utils-error",function(){a.error.report((G+"renderError"),q,1,1,1);});}},requestPaneContent:function(m,Y,e){var n;if(m.fetchConv){e.cid=e.msg.cid;n=C.mail.Controller.Conversations.getConvOfOne(e,Y);}else{n=this.requestMessage(m,Y,e);}return n;},loadPaneContent:function(m,n,Y){try{var s=this,r="",p=(m&&!n)?m:0,o=s.retryPrefix(p);if("%40C%40Chats"===s.fid){r="mail-common-yml";}C.use(r,function(t){var w,u=s.message,z=u?u.mid||0:0,y,e=s.getStopwatch(),x=new a.Stopwatch("LoadMessage");e&&e.start(2,"Load");n=n||{};s.fire("loadmessage");if(z&&!s.hasStarted){s.fireEvent((s.fullView?"tab":"preview")+":start");s.hasStarted=true;s._cancelMarkAsRead();}if(z){var v={success:function(AE){try{if(x==-1){W.stat("messageread","successdupcall_load");a.assert(0,"successdupcall",1);return;}var AB=v&&v.respProps&&v.respProps.wasCached,AC=[AE,AB,false];if(p==6){W.stat("messageread","reason6retry_success");}if(e){e.start(1,"YCMSGGetEnd");e.YCMSGGetEnd=new Date();e.wasCached=AB;}if(x){x.wasCached=AB;x.stop();}s.loadExtra(function(){e&&e.start(3,"PreOnSuccess");s.onSuccess.apply(s,AC);Y&&Y();});x=-1;}catch(AD){W.stat("messageread",(o+"loadMessageSuccessError"));t.use("common-utils-error",function(){a.error.report("loadMessageSuccessError",AD,1,1,1);});}},failure:function(AB){clearTimeout(s.loadingTimer);s.loadExtra(function(){s.onFailure.apply(s,[AB,false]);},1);},notify:t.bind(L,s),suppressCodes:!m&&["*"]},AA={fid:s.fid,msg:u,cachekey:"Prime",ovparams:n};s.fireEvent("get");if(s.usedPreload){if(s.preloadedMsg){s.loadExtra(function(){e&&e.start(3,"PreOnSuccess");s.onSuccess.apply(s,[s.preloadedMsg,true,true]);
s.preloadedMsg=null;});}else{if(s.preloadFailure){s.loadExtra(function(){s.onFailure.apply(s,[s.preloadFailure,true]);s.preloadFailure=null;},1);}}}else{W.stat("messageread",(o+"loadMessageRequest"));y=s.requestPaneContent(u,v,AA);s.abortRequests();if(s.outboundReq){s.request=y;s.requestType="loadMessage";}}s.usedPreload=0;s.isRetrying=p;if(s.outboundReq){clearTimeout(s.loadingTimer);s.loadingTimer=setTimeout(function(){s.loadExtra(function(){if(s.outboundReq){s.render();}});},300);clearTimeout(s.slowLoad);s.slowLoad=setTimeout(function(){var AC=s.message,AB=AC&&AC.header.size,AD=AB<10000?1:(AB<100000?2:(AB<1000000?3:4));W.stat("messageread","slowLoad");W.stat("messageread","slowLoadSize"+AD);W.stat("messageread","slowLoadSbox"+((NeoConfig.om&&NeoConfig.om.isSandboxEnabled)?"On":"Off"));s.loadExtra(function(){s.handleSlowRequest();},1);},I);}}if(!z){s.render();}});}catch(q){W.stat("messageread",(o+"loadMessageError"));}},insertBody:function(n){var r=this,p=r.message,e,m,Y,o,q=C.UA.ie?'<div style="position:absolute;z-index:-5;">&nbsp</div>':"";if(p&&p.body&&!r.isChat(p)){o=n.one(".msg-body");o&&o.setContent(q+p.body.display);r.bindBodyContent();}},attach:function(){var Y=this;Y._evts.push(C.on("ds:msg:change",function(p,z,q,AA,t){var o=Y.message,n=q&&q[0],u=Y.parentNode,r=o&&o.body,m=n&&n.body,x=0,s,v,y;if(Y.fullView&&t=="move"){for(s=0;o&&s<q.length;s++){y=q[s].mid;if(Z.hasMoved(o.mid,y,Y.fid,p)){if(!Y.isStepping){Y.set("close",1);}return;}}}if(o&&n&&E(n.mid)==E(o.mid)&&u&&!Y.outboundReq){if(n.flags.isFlagged!=o.flags.isFlagged){Y.updateMessageFlagMarkup();}if(NeoConfig.isFresh&&n.flags.isRead!=o.flags.isRead){Y.updateMessageReadMarkup();}Y.message=n;if(r&&m&&r.display!=m.display){x=1;}if(!x&&r&&r.inlineAttachments&&(v=r.inlineAttachments.length)){for(s=0;s<v;s++){try{if(r.inlineAttachments[s].content.text!=m.inlineAttachments[s].content.text){x=1;break;}}catch(w){}}}if(x){Y.render();Y.resetScrollPosition();}}}));Y._evts.push(C.on("ds:conv:change",function(q,p,s,o,m){var e,n,r=Y.message;if(Y.fullView&&q=="move"){for(e=0;r&&e<s.length;e++){n=s[e].cid;if(r.cid==n){Y.set("close",1);return;}}}}));if(Y.fullView){Y._evts.push(C.on("ds:msg:remove",function(q,p,m){if(Y.fid==q&&!Y.isStepping){Y.arrMessageSequence=null;}if(Y.fid===q&&m){var n,o=0,e=p?p.length:0,r=Y.message;for(n=0;n<e;n++){if(r.mid===p[n].mid){o=1;break;}}if(!Y.isStepping&&((!p&&m)||o)){Y.set("close",1);}}if(Y.stepIndex!==null){Y.stepIndex=null;}}));Y._evts.push(C.on("ds:conv:remove",function(q,p,m){Y.arrMessageSequence=null;if(Y.fid===q&&m){var n,o=0,e=p?p.length:0,r=Y.message;for(n=0;n<e;n++){if(r.cid===p[n].cid){o=1;break;}}if((!p&&m)||o){Y.set("close",1);}}if(Y.stepIndex!==null){Y.stepIndex=null;}}));}Y._evts.push(C.on("ds:msg:flushExt",function(){Y.loadPaneContent();}));Y._evts.push(C.on("windowresize",function(){var e=Y.getRoot();e&&Y.message&&Y.get("visible")&&H.resizeSubject(e);}));},detach:function(){var e=this;e.stepIndex=e.isStepping=null;e.abortRequests();for(var Y in e._evts){C.detach(e._evts[Y]);}clearTimeout(e.loadingTimer);clearTimeout(e.slowLoad);e._cancelMarkAsRead();if(e.tmPendingLoad){clearTimeout(e.tmPendingLoad);e.tmPendingLoad=null;}if(e.widthUpdateTimer){e.widthUpdateTimer.cancel();e.widthUpdateTimer=null;}},setRenderFocus:function(){var Y=this;Y.setFocusNode();if(Y.fullView&&Y.get("active")&&!Y.disableTruncate){Y.set("focus",1);}},getSubjectFocusNodeSelector:function(){var Y=this.message,e=((strings.str_cfg_tog_mailSearchEnabled!==undefined&&strings.str_cfg_tog_mailSearchEnabled===false)||!(Y&&Y.header&&Y.header.subject));return(e?".message-header h3":".message-header h3 a");},setFocusNode:function(){var n=this,e,m,Y;if(n.fullPageView){e=n.get("parentNode");Y=n.getSubjectFocusNodeSelector();if((m=e.one(Y))){n.set("focusNode",m);}}},loadExtra:function(e,Y){var r=this,o=Y?["mail-ui-messagepane-error"]:["mail-ui-messagepane-read"],m=a.Stopwatch.get("MsgInPreview")||r.stopwatch,n,q,p;if(!Y&&NeoConfig.isFresh){o.push("_shared_module_message_display_fresh_rollup");}if(!Y&&X){q="MsgPaneRead_NotPreloaded";r.bindPaneContent&&(q="MsgPaneRead_Preloaded");W.stat("messageread",q);X=0;}m&&m.start(2,"LoadExtraBody");if(r.tbarMod){o.push(r.tbarMod);}p=function(){try{var u=o,s;m&&m.start(2,"LoadExtraUseCB");if(r.setFullFormatters&&!r.setFull){r.setFullFormatters();}try{e.apply(r);}catch(t){W.stat("messageread","loadExtraCBApplyError");C.use("common-utils-error",function(){a.error.report("loadExtraCBApplyError",t,1,1,1);});}if(T){for(s=0;s<u.length;s++){if(typeof u[s]!="function"){T[u[s]]=1;}}}}catch(t){W.stat("messageread","loadExtraCBError");}};for(n=0;n<o.length;n++){if(T[o[n]]){o.splice(n,1);n--;}}if(o.length){o.push(p);C.use.apply(C,o);}else{p(C);}m&&m.start(2,"PostLoadExtraBody");}});function c(){var m=this.get("parentNode").one(".message-header .flag"),e,Y;if(m){Y=m.hasClass("flagged");e=m.one("a");m.toggleClass("flagged").set("title",strings[Y?"str_msg_list_flag_attr":"str_msg_list_flagged_attr"]);e&&e.set("aria-checked",!Y);}}function J(){var m=this.get("parentNode").one(".message-header .unread-dot"),e,Y;if(m){Y=m.hasClass("unread");e=m.one("a");m.toggleClass("unread").set("title",strings[Y?"str_msg_view_markasunread_attr":"str_msg_view_markasread_attr"]);e&&e.set("aria-checked",!Y);}}function f(e,Y){var m=this;if(m.message&&e){Y=Y||m.message.mid;if(!Y){}C.fire("Y.mail.ui.MessagePane:"+e,Y,m.guid);}}function L(Y){var e=this;if(Y=="async"&&!e.outboundReq){e.outboundReq=1;}}function d(n){var o=this,m=n.details[0],Y=m.created;C.use("comms-ui-lozenge",function(e){e.comms.ui.LozengeUtils.makeContact(o.parentNode,Y);});}C.mix(B.prototype,{NAME:"MessagePane",updateLozenges:d,updateMessageFlagMarkup:c,updateMessageReadMarkup:J,fireEvent:f,convertShortcuts:function(){var n=this,Y=n.parentNode,e=(!n.fullPageView&&Y.one("div.tripane .content"))||Y.one("div.message.content"),m=n.message;if(m&&n.fid){m.fid=n.fid;}C.Lang.later(0,null,function(){H.convertShortcuts(Y,e,NeoConfig.fullPage,m);});},preload:function(m){var o=this,r=m.mid,n,Y=a.Stopwatch.get("MsgInPreview")||o.stopwatch,q=new a.Stopwatch("PreLoadMessage"),s,p;
if(r){var e={success:function(t){if(q==-1){W.stat("messageread","successdupcall_preload");a.assert(0,"successdupcall",1);return;}s=e&&e.respProps&&e.respProps.wasCached;if(Y){Y.start(1,"YCMSGGetEnd");Y.YCMSGGetEnd=new Date();Y.wasCached=s;}if(q){q.wasCached=s;q.stop();}o.fire("preloadDarla",{msg:t});if(o.message){o.loadExtra(function(){o.onSuccess.apply(o,[t,false,true]);});}else{o.preloadedMsg=t;}q=-1;},notify:C.bind(L,o),failure:function(t){if(o.message){o.loadExtra(function(){o.onFailure.apply(o,[t,true]);},1);}else{o.preloadFailure=t;}},suppressCodes:["*"]};W.stat("messageread","preloadRequest");o.usedPreload=1;p=o.requestPaneContent(m,e,{fid:o.fid,msg:m,cachekey:"Prime"});o.abortRequests();if(o.outboundReq){o.request=p;o.requestType="preload";}}},isChat:function(m){var e=m&&m.sourceFolderInfo&&m.sourceFolderInfo.fid,Y=this&&this.fid||Neo.fid,n="%40C%40Chats";return(e||Y)===n;},handleUI:function(e,n,Y,m){C.use("mail-ui-messageevents",function(){O.MessageEvents.handleUI(e,n,Y,m);});}},true);C.mail.ui.MessagePane=C.mail.ui._MessagePane=B;try{if(NeoConfig.isFresh){C.Env._loader.groups.mailTmpl.modules._shared_module_message_pane_fresh.requires=[];}else{C.Env._loader.groups.mailTmpl.modules._shared_module_message_pane.requires=[];}}catch(g){}C.mix(C.mail.ui.MessagePane.prototype,C.mail.ui.MessagePanePlugins);},"1.0.0",{requires:["mail-ui-messagepane-plugins","minty_module_comm_modes","common-utils","mail-model-datastore","mail-controller-messages","mail-ui-mailpane-base","mail-persist-meta-data","common-utils-stats","mail-ui-messagepane-utils"]});

YUI.add("mail-ui-mailview-base",function(B){var U=[48,49,50,51,52,53,54,55,56,57],W=[strings.str_cfg_sc_keycode_reply_to_all,strings.str_cfg_sc_keycode_message_forward,strings.str_cfg_sc_keycode_movemenu_display,strings.str_cfg_sc_keycode_mark_as_read,strings.str_cfg_sc_keycode_flag_selected_messages,strings.str_cfg_sc_keycode_reply_to_sender,strings.str_cfg_sc_keycode_print,strings.str_cfg_sc_keycode_toggle_preview_pane,strings.str_cfg_sc_keycode_close_tab],E=[65,70,68,75,76,82,80,86,220],X={},S=W.length,C=NeoConfig,Q=B.common,D=Q.Utils,T=B.contacts,a=B.mail,H=a.ui,L=a.model.DataStore,F=L.Folders.get,G=Q.persist.UserData,M=H.MessagePaneUtils,J="userUIPref.msgPaneVisible",K="%40C%40Chats",P="%40B%40Bulk",O="darlaEvent",V="delete",A="message",Z="move",N="visible",R;for(R=0;R<S;++R){X[W[R]]=E[R];}var I=function(Y){var f=this,e,d;f.statOp=null;Y=Y||{};e=Y.fid||0;d=!(Y.msgList===0);Y.vertical=f.verticalPreview=(B.one("#rail-resize-vert"))?1:0;f.isSearch=(Y.query=="")||Y.query;f.subToolbars={};f.bottomToolbars={};f.supportPreview=true;function c(){I.superclass.constructor.call(f,Y);}function b(h){var g;if(h){return((g=F(h))&&g.total==0);}return 0;}B.mix(f,{fid:e,hasMsgList:d,isEmpty:b,msgList:null,msgPane:null,type:(function(){var g=NeoConfig.hasConv;if(f.isSearch){return"searchlist";}else{if(d){return g?"convlist":"messagelist";}else{return g?"convpane":"messagepane";}}})()},true);c();};B.extend(I,B.mail.ui.BaseWidget);B.mix(I.prototype,{NAME:"MailView",keyCodes:W,numCodes:U,verticalPreview:null,isChat:function(Y){var b=this;return b.isActualFolder(Y,K);},isActualFolder:function(b,Y){var d=this,c=d.msgPane&&d.msgPane.get(A);return(c&&c.message&&c.message.sourceFolderInfo&&c.message.sourceFolderInfo.fid||b)===Y;},refreshMessage:function(Y){var b=this;if(!b.hasMsgList&&b.msgPane){b.msgPane.set(A,{fid:Y.fid,message:Y.msg});if(NeoConfig.hasConvView&&Y.submsg){b.msgPane.selectMessage(Y.submsg);}}},handlePostAction:function(f,b,d,Y){if(!f){return;}var e=this,c=f.action,i=e.msgPane,h=e.goOnMessageDelete(),g;if(b!=P&&h&&c=="folder-new"){f.preHandle=function(j){B.use("mail-ui-messagepane-next-prev",function(){i&&i.stepMessage(NeoConfig.stepMessageAction||"next",j,1);});};}g=function(){e.handleUI(f,b,d,Y&&Y.message?[Y.message]:[Y]);};if(e.type=="messagepane"&&b!=P&&b!=K&&(c==V||c==Z||c=="trash"||c=="spam"||c=="sendercompromised"||c=="phished")&&h){B.use("mail-ui-messagepane-next-prev",function(){if(b=="Trash"&&c==V){i&&i.dialogThenStep(e,Y,f,1);}else{i&&i.stepMessage(NeoConfig.stepMessageAction||"next",g,1);}});}else{g();}},loadResizersAndSliders:function(){var b=this,Y=[];if(!C.fullPage){Y.push("mail-ui-workspace-horizontal-slider","mail-ui-messagesview-resize");if(b.verticalPreview){Y.push("mail-ui-messagesview-vertical");}}else{Y.push("mail-ui-messagesview-resize");}if(C.useDD){Y.push("mail-ui-messagesview-dd");}Y.push(function(c){if(H&&H.MessagesViewResize&&b.supportPreview){if(b.verticalPreview){b.horizResizer=new H.MessagesViewVertical(b);}else{b.vertResizer=new H.MessagesViewResize({messagesview:b});}}else{}if(C.useDD&b.supportPreview){if(typeof c.mail==="object"&&typeof c.mail.MessagesViewDD==="object"){a.MessagesViewDD.setDD(b);}else{}}});B.use("contacts-api","contacts-api-utils",function(c){if(T&&T.utils&&!T.utils.areContactsLoaded()){T.api.load();}});B.use.apply(B,Y);b.slidersSet=true;},positionPreview:function(b,Y){var c=this;if(C.fullPage){return;}B.use("mail-ui-messagesview-vertical",function(){if(b&&!H.MessagesViewVertical.canGoVert()){return;}c.verticalPreview=b;if(c.horizResizer){c.horizResizer.setDisplay(b);}else{if(b){c.horizResizer=new H.MessagesViewVertical(c);}}if(c.vertResizer){c.vertResizer.setDisplay(!b);}else{if(!b){c.vertResizer=new H.MessagesViewResize({messagesview:c});}}c.msgList.set("vertical",b);c.msgList.set("fullpane",false);c.msgPane&&c.msgPane.set("vertical",b);Y&&Y();B.fire("verticalPreview",b);});},previewPaneUIChange:function(Y){try{var f=this,d=f.msgList,j=f.msgPane,b,h,i,c;if(f.verticalPreview&&Y&&!H.MessagesViewVertical.canGoVert()){f.positionPreview();}B.fire(Y?"previewPane:expanded":"previewPane:collapsed",f);d.set("fullpane",!Y);j.set(N,Y);if(Y){b=D.Stopwatch.get(f.statOp);h=j.get(A);i=h&&h.message&&h.message.mid;c=h&&h.fid;if(c&&i){b=M.handleMsgInPreviewStopwatch(b,j,c,i);}j.set(A,h);}b&&b.start(1,"SetDisplay");if(f.verticalPreview){f.horizResizer&&f.horizResizer.setDisplay(Y,1);}else{f.vertResizer&&f.vertResizer.setDisplay(Y);}}catch(g){}},togglePreviewPane:function(d){var g=this;if(!C.fullPage&&!g.isEmpty(g.fid)){try{var g=this,b=g.msgList,c=g.msgPane,Y;if(!b||!c){return;}Y=G.get(J);if(!d){Y=!Y;}g.previewPaneUIChange(Y);g.checkPreview();if(!d){G.set(J,Y);G.saveOne(J);}b.vlist.updateUlSize();B.fire("ws:previewChange",Y);}catch(f){}}},checkPreview:function(){var d=this,Y=G.get(J),c;try{if(Y){c=d.verticalPreview?d.horizResizer:d.vertResizer;c&&c.checkDisplay();}}catch(b){}},switchSize:function(Y){B.fire("update:density",{density:Y});},switchView:function(k){var g=this,f="scroll-view-prev",i="scroll-view-prev-beside",d="scroll-view-noprev",b,h,j={},e=(k==f)||(k==i),c,Y;if(!C.fullPage&&C.isFresh&&k==="scroll-view-prev"&&!G.get(J)){k=f;}switch(k){case"fullpage-view":if(C.fullPage){return;}else{j={fullpage:1,previewPane:null};}break;case f:case i:case d:h=G.get(J)?f:d;if(!C.fullPage){c=function(){if((h==d&&e)||(h==f&&k==d)){g.togglePreviewPane();}B.use("rocket-stats",function(m){var l={};l[f]="preview";l[i]="vert_preview";l[d]="nopreview";D.rocketstats.stat("switchview",l[k]);});};if((g.verticalPreview&&k==f)||(!g.verticalPreview&&k==i)){g.positionPreview((k==i),c);}else{c();}return;}else{if(k==i){Y="mail-ui-messagesview-vertical";c=function(){var l=new H.MessagesViewVertical(g);l.setCookieDefault();};}b=e?1:0;j={fullpage:0,previewPane:(b!=G.get(J))?b:null,vert:(k==i)};}break;}if(Y){B.use(Y,function(){c&&c();B.fire("update:view",j);});}else{B.fire("update:view",j);}},handleDarlaEvent:function(){var Y=this;if(Y.hasMsgList){Y.msgList.handleDarlaEvent();}else{Y.fire(O,{action:Y.darlaActionKey});
}},triggerDarlaWithAIC:function(c){var d=this,Y,b;Y=F(d.fid);b=B.mail.ui.common.StringUtils.getSystemFolderName(d.fid,Y.folderInfo.name);d.fire(O,{action:d.darlaActionKey,value:{siteAttr:B.mail.ui.MessagePaneUtils.getAdSiteAttribsFromMesgObj(c||d.msgPane.message,d.fid),foldername:b}});},goOnMessageDelete:function(){return(G.get("userUIPref.goOnMessageDelete")=="msg");},handleToolbarSelection:function(h){var g=this,c=h?h.dataAction:0,l=h?h.item:0,Y,f,m=g.msgPane,d=g.msgList,i={append:{}},j,b,k;B.fire("mailview:toolbar-action",c);if(l&&c){if((g.type=="messagepane")||(d&&d.get("selectCount")===1)){switch(c){case"edit":i.spid="compose_draft";break;case"reply_sender":case"reply_all":case"forward":i.spid="compose_"+c;break;case"open":i.spid="message_tabpane";i.append.rspns="new";break;case"delete":case"spam":case"sendercompromised":case"phished":case"notspam":case"move":if(g.type=="messagepane"){if(g.goOnMessageDelete()){spid="message_tabpane";}else{switch(g.fid){case"Inbox":case"Draft":case"Sent":case"Trash":spid="folderview_"+g.fid.toLowerCase();break;case P:spid="folderview_bulk";break;case K:spid="folderview_chat";break;default:spid="folderview_custom";}}i.append.rspns="new";i.spid=spid;}break;case"print":case"fullheader":case"set_encodings":case"addcontact":i.append.rspns="pop";break;case"prev":case"next":i.spid="message_tabpane";break;}}else{if(c.indexOf("-view")==-1){switch(c){case"spam":case"sendercompromised":case"phished":break;default:i.append.rspns="pop";}}}if(l.hasClass("menu-active-item")){k=B.one(".list-view-footer .btn.pressed");b=l.ancestor(".optionMenu");j=b.get("id").replace("menu","menusel");i.append.ltxt=c;}else{k=l.ancestor(".list-view-footer");j=c;}i.action=["tlbr_",j,(k?"_btm":"")].join("");if(!g.hasMsgList){i.append.sec=(k)?"msgReadTlbrBtm":"msgReadTlbr";}B.fire("mt:click",i);}switch(c){case"select-all":d.vlist.selectAll();break;case"menu":break;case"prev":case"next":B.use("mail-ui-messagepane-next-prev",function(){NeoConfig.stepMessageAction=c;m&&m.stepMessage(c);});break;case"conv-save":break;case"conv-spam":break;case"conv-help":break;case"fullpage-view":case"scroll-view-prev":case"scroll-view-prev-beside":case"scroll-view-noprev":g.switchView(c);break;case"density-compact":case"density-regular":case"density-open":g.switchSize(c);break;case"addcontact":g.handleDefaultCase({action:c,context:"msg"});break;case"togglePrevDialog":B.use("mail-ui-messagepreview",function(){l&&l.toggleClass("checked");B.mail.ui.MessagePreview.toggle(g.msgList);});break;default:g.handleDefaultCase({action:c,item:l,tbAction:true});break;}},onFocus:function(){if(!this.hasMsgList){return this.msgPane.onFocus();}},onKeyDown:function(AG){var AA=this,l=AG.keyCode,AB,q=AG.metaKey,AD=AG.shiftKey,n=AG.ctrlKey,AH=AG.altKey,r=AG.metaKey||AG.ctrlKey,AC=AA.fid==="Draft",x=AA.isChat(AA.fid),AE=false,Y=AA.msgPane,i=AA.msgList,s=B.UA,y,h,w=B.one("#app-list"),c,v,u=B.UA.ie;l=!r?X[l]||l:l;if(l>=96&&l<=105){l-=48;}if(AC&&((l==65&&!r)||l==82||l==70||l==68)){return false;}if(x&&((!AD&&l==65)||l==82||l==70||l==68||l==75)){return false;}switch(l){case 13:AB=AG.target.ancestor("div .list-view")?"open":null;break;case 33:case 34:if(C.fullPage){return;}case 35:case 36:if(C.fullPage){return;}case 38:case 40:if(NeoConfig.uh3Enabled){var k=B.one(document.activeElement),AJ=B.one("#yucs");if(k&&AJ&&AJ.contains(k)){return;}}case 188:if(q){return;}case 190:if((l==188||l==190)&&!n){return;}if(!i&&(l==188||l==190)){B.use("mail-ui-messagepane-next-prev",function(){NeoConfig.stepMessageAction=(l==188)?"prev":"next";Y&&Y.stepMessage(NeoConfig.stepMessageAction,null,null,true);});}else{i.set("active",1);y=i.get("focusNode");h=B.one(document.activeElement);if(y&&(!h||!y.contains(h))){B.use("node-event-simulate",function(){i.get("focusNode").simulate("keydown",{charCode:l,keyCode:l,altKey:AH,shiftKey:AD,ctrlKey:n,metaKey:q});});}}AG.halt();break;case 46:if(!w||(w&&!w.contains(AG.target))){AB=V;}break;case 68:if(!AH&&!AD){if(AA.ftrNode&&AA.ftrNode.inViewportRegion()&&!AA.get("contentToolbar").get("content").inViewportRegion()){y=AA.ftrNode.one("#btn-move");if(y){if(!y.menu){y.simulate("click");}else{y.menu.show();}break;}}AB="move-menu";}break;case 75:AB=AD?"unread":"read";break;case 76:AB=AD?"unflagged":"flagged";break;case 65:if(!AD&&!AH&&r){i.vlist.selectAll(1);AG.halt();}else{if(!r&&!AH){AB=AD?(AA.isEnableAddToContacts()?"addcontact":null):"reply_all";if(AB=="addcontact"&&!q&&!n){AA.handleDefaultCase({action:AB,context:"msg"});return true;}c=u;}}break;case 82:if(!AD){AB="reply_sender";c=u;}break;case 70:if(!AH&&!AD&&!r){AB="forward";c=u;}else{if(AD&&(AH||C.intl=="jp")){AE=true;AB="forward";AH=false;AG.halt();}}if((!(s.gecko&&s.os=="macintosh")&&!AD&&!q)&&(AD||!r)){AG.preventDefault();}break;case 86:if(q||n||AH){break;}if(!AD){AA.togglePreviewPane();}else{if(AA.msgList&&NeoConfig.hasConv){var b=AA.msgList._listview.get("selectNew");alert("switching to "+(b?"non-destructive select":"destructive select"));AA.msgList._listview.set("selectNew",!b);}}return true;case 27:var z=B.one(".card-v1 .user-email a");if(z&&z.getStyle("visibility")!="hidden"){B.mail.ContactPopup&&B.mail.ContactPopup.hideMini();}else{if(AA.type=="messagepane"||AA.type=="convpane"){AA.set("close",1);return true;}}break;case 220:if(q||n){if(AA.type=="messagepane"||AA.type=="convpane"){AA.set("close",1);return true;}}break;case 80:if(r){AG.halt(true);try{event.keyCode=0;}catch(t){}}if(!AH&&!AD){AA.handleDefaultCase({action:"print",item:0});}break;case 73:case 84:if(AD&&x&&strings.str_cfg_tog_hasSMS){var f=(l==84)?"reply-sms":"reply-im",j=AA.getCurrentMsg();AA.handleUI({action:f},AA.fid,AA.msgList,j?[j]:null);return true;}break;case 48:case 49:case 50:case 51:if((l==51)&&AD&&!n&&!AH&&!q){AB=V;break;}case 52:case 53:case 54:case 55:case 56:case 57:var m=AG.target.ancestor("div",true);if(q||n||AH||AD||(!m||m.get("id")!="menu-move")||!strings.str_tog_use_num_accel){break;}B.mail.Controller.Folders.get(null,{success:function(AM){var AN=AM,AK,AP=[],AL,e,AO;e=AN?AN.length:0;
for(AL=0;AL<e;AL++){if(!AN[AL].isSystem){AP.push(AN[AL]);}}AK=l===48?"Inbox":AP[l-49];AK=(B.Lang.isString(AK))?AK:(AK?AK.folderInfo.fid:0);if(AA.fid===AK){return;}if(AK){AA.handlePostAction({action:Z,fid:AK},AA.fid,(AA.hasMsgList?i:null),(AA.hasMsgList?null:Y.get(A)));}}});return true;case 67:if(r){var d=B.mail.Tabs.getActiveTab().elContent;if(d){var o,p,AI="",g;var AF=d.one(".message-header").one(".lozengeContainer.pressed .lozenge");g=document.activeElement;if(AF){o=AF.getAttribute("data-address");p=AF.getAttribute("data-name");if(p){AI=p+" <"+o+">";}else{AI=o;}M.initializeCopyText();M.copyToClipboard(AI,null,g);}}}return;default:break;}if(AB&&!q&&!n){v=function(){AA.handleDefaultCase({action:AB,item:0,forwardAsAttachment:AE});};c?setTimeout(v,0):v();return true;}return false;}},true);B.namespace("mail.ui");B.mail.ui.MailView=I;},"1.0.0",{requires:["mail-ui-basewidget","common-persist-user-data","mail-ui-messagepane-utils","mail-model-datastore","common-utils","node-event-simulate"]});

YUI.add("mail-ui-messagesview-base",function(C){var E=C.common.Utils,f=C.mail,L=f.ui,R=L.MessagePaneUtils,Q=f.model.DataStore,H=Q.Folders.get,T=E.substitute,F=C.ui.Templates,Z,K=C.common.persist.UserData,M="userUIPref.msgPaneVisible",J="div.empty-folder",I="#inboxcontainer",X="hidden",D=NeoConfig,c=D.grayoutEnabled,b=null,W="%40B%40Bulk",P="%40C%40Chats",V="darlaEvent",d="delete",B="message",S="renderComplete",a="%40S%40Search",O="title",U="visible",N=NeoConfig.isFresh?"minty_module_toolbar_inbox_conversation_fresh_rollup":"minty_module_toolbar_inbox_conversation_rollup",G=NeoConfig.isFresh?"minty_module_toolbar_inbox_default_fresh_rollup":"minty_module_toolbar_inbox_default_rollup";function e(){var Y=C.mail.ui.ContextButton;if(c&&Y){Y.setNodeMessageListMenu();}}C.before("MessagesView:read",function(Y){});var A=function(Y){var i=this,h;A.superclass.constructor.call(i,Y);h=i.hasMsgList;Y=Y||{};if(!D.fullPage||!h){i.msgPane=new L.MessagePane(C.mix(Y,{fullView:!h&&!Y.query,visible:!h||K.get(M)}));}Y.stopwatch&&i.msgPane&&(i.msgPane.stopwatch=Y.stopwatch);i.callFromLaunch=Y.callFromLaunch?Y.callFromLaunch:false;i.msgList=h?Y.msgList||new L.MessageList(Y):0;i.darlaActionKey=(D.low_bandwidth)?"message_tabpane_low":(D.ssl_launch?"message_tabpane_ssl":"message_tabpane");i.scrolling=[".list-view-items",".message.content"];i.supportPreview=true;i._evts=[];function g(){i.addAttrs({scrollWidth:{value:null},bottomToolbar:{value:0}});i.after("activeChange",i.afterActiveChanged,i);var k=function(){if(i.msgList&&i.msgList.vlist){i.msgList.vlist.updateUlSize();}};i.formatters={non_ad:function(m){return T(F._shared_module_folder_empty_rollup.non_ad,m,i.formatters,0,strings);},page_conversation_history:function(m){return i.isChat(i.fid)?T(F._shared_module_folder_empty_rollup.page_conversation_history,m,i.formatters,0,strings):"";},page_conversation_history_else:function(m){return !i.isChat(i.fid)?T(F._shared_module_folder_empty_rollup.page_conversation_history_else,m,i.formatters,0,strings):"";},archiving_disabled:function(m){return !D.ssa_enabled?T(F._shared_module_folder_empty_rollup.archiving_disabled,m,i.formatters,0,strings):"";},full_view:function(m){var n=i.isChat(i.fid)?P:i.fid;return !h?T(F[i.toolbarMods[n]].full_view,m,0,0,strings):"";},full_view_else:function(m){var n=i.isChat(i.fid)?P:i.fid;return h?T(F[i.toolbarMods[n]].full_view_else,m,0,0,strings):"";},has_spam_button:function(m){return !i.isActualFolder(i.fid,"Sent")?T(F[i.msgToolbarMod].has_spam_button,m,i.formatters,0,strings):"";},hasBug:function(m){return NeoConfig.isInternal?T(F[G].hasBug,m,0,0,strings):"";},has_preview_pane:function(n){var m=i.isChat(i.fid)?N:G;return(D.switchView!=1&&!D.fullPage&&h)?T(F[m].has_preview_pane,n,0,0,strings):"";},has_switch_view:function(n){var m=i.isChat(i.fid)?N:G;return(D.switchView==1&&h)?T(F[m].has_switch_view,n,0,0,strings):"";},has_pagination:function(n){var m=i.isChat(i.fid)?N:G;return(D.fullPage&&h&&!D.isFresh)?T(F[m].has_pagination,n,0,0,strings):"";},has_pagination_else:function(n){var m=i.isChat(i.fid)?N:G;return(!D.fullPage&&h)?T(F[m].has_pagination_else,n,0,0,strings):"";},has_sms_menu_else:function(n){var m=NeoConfig.isFresh?F.minty_module_toolbar_inbox_conversation_fresh_rollup:F.minty_module_toolbar_inbox_conversation_rollup;return !strings.str_cfg_tog_hasSMS?T(m.has_sms_menu_else,n,i.formatters,0,strings):"";},has_sms_menu_else1:function(n){var m=NeoConfig.isFresh?F.minty_module_toolbar_inbox_conversation_fresh_rollup:F.minty_module_toolbar_inbox_conversation_rollup;return strings.str_cfg_tog_hasSMS?T(m.has_sms_menu_else1,n,i.formatters,0,strings):"";},is_mon:function(m){return(NeoConfig.intl!=="jp"||NeoConfig.hasAds)&&strings.str_cfg_tog_monster_ad_empty_l10n?F._shared_module_folder_empty_rollup.is_mon:"";},is_lrec:function(m){return !strings.str_cfg_tog_monster_ad_empty_l10n?F._shared_module_folder_empty_rollup.is_lrec:"";},reply_group:function(m){return !D.fullPage&&h?T(F[G].reply_group,0,0,0,strings):"";},has_divider:function(n){var m=i.isChat(i.fid)?N:G;return(NeoConfig.isFresh&&n.isBottom)?"":T(F[m].has_divider,n,0,0,strings);},spam_menu:function(n){if(i.fid==W){return"";}else{var m=i.isChat(i.fid)?N:G;return NeoConfig.spamMenu?T(F[m].spam_menu,n,0,0,strings):"";}},spam_menu_else:function(n){var m=i.isChat(i.fid)?N:G;return(!NeoConfig.spamMenu||i.fid==W)?T(F[m].spam_menu_else,n,0,0,strings):"";}};if(i.msgList){i.once("activeChange",function(){k();});}i._evts.push(C.on("msgsview:splitterdone",k));function j(n){if(n.newVal>=1){for(var m in i._evts){C.detach(i._evts[m]);}i.footer&&i.footer.addClass(X);}else{if(h){i._evts.push(C.on("ds:folder:change",function(r,q,s){if(s&&s.length>0){var p,o;for(p=0,o=q.length;p<o;p++){if(s[p].total!==undefined&&q[p].folderInfo.fid==i.fid){i.renderToolbarsOrEmpty();break;}}}}));}else{i._evts.push(C.on("ds:folder:rename",function(q,o,p){if(i.msgPane&&i.fid==q.folderInfo.fid){i.fid=o.folderInfo.fid;i.msgPane.set("fid",i.fid);}}));i.footer&&i.bindFooterScroll();}}}i.on("closeChange",function(p){var o,m=i.subToolbars,n=i.bottomToolbars;for(o in m){m[o].set("close",p.newVal);}for(o in n){n[o].set("close",p.newVal);}j(p);});i.set("children",[i.msgPane,i.msgList]);i.msgPane&&i.msgPane.on(V,function(m){i.fire(V,m);});i._evts.push(C.on("msgsview:movetonewfolder",function(){var m=C.mail.Tabs.getActiveTab();if(i.hasMsgList&&m&&m.widget&&m.widget==i){i.handleUI({action:"folder-new",tbAction:true},i.fid,i.msgList);}}));if(!h){i.msgPane.on("scrollWidthChange",function(m){i.set("scrollWidth",m.newVal);if(i.get("active")){C.fire("ws:fpMsgWidth",m);}});i.on("scrollWidthChange",function(m){if(m.reset){i.msgPane.scrollWidthReset();}});}i.set(O,h?i.msgList.get(O):i.msgPane.get(O));i.setToolbars();j({newVal:0});if(h){i.bindMsgList();}else{i.msgPane.on("fidChange",function(m){i.fid=m.newVal;i.setToolbars();});i.msgPane.on("rootNodeChange",function(m){i.set("rootNode",m.newVal);});}var l="13,27,33,34,35,36,38,40,46,188,190,"+i.numCodes.join(",")+","+i.keyCodes.join(",")+","+"32+ctrl+shift,73+shift,84+shift,67";
if(strings.str_cfg_sc_keycode_reply_to_all!=="65"){l+=",65";}i.set("charCodes",l);i.set("reuse",Y.reuse);i.neoEvent("read",{emitFacade:true,broadcast:1,defaultFn:i._onReadEvent});}g();};C.extend(A,C.mail.ui.MailView);C.mix(A.prototype,{NAME:"MessagesView",msgToolbarMod:NeoConfig.isFresh?"minty_module_toolbar_inbox_message_fresh":"minty_module_toolbar_inbox_message",toolbarMods:{Inbox:NeoConfig.isFresh?"minty_module_toolbar_inbox_default_fresh_rollup":"minty_module_toolbar_inbox_default_rollup","%40C%40Chats":NeoConfig.isFresh?"minty_module_toolbar_inbox_conversation_fresh_rollup":"minty_module_toolbar_inbox_conversation_rollup",Draft:NeoConfig.isFresh?"minty_module_toolbar_inbox_drafts_fresh_rollup":"minty_module_toolbar_inbox_drafts_rollup","%40B%40Bulk":NeoConfig.isFresh?"minty_module_toolbar_inbox_spam_fresh_rollup":"minty_module_toolbar_inbox_spam_rollup",Sent:NeoConfig.isFresh?"minty_module_toolbar_inbox_sent_fresh_rollup":"minty_module_toolbar_inbox_sent_rollup","%40S%40Search":NeoConfig.isFresh?"minty_module_toolbar_inbox_search_fresh_rollup":"minty_module_toolbar_inbox_search_rollup"},renderEmptyFolder:function(h){var i=this,g,Y=F._shared_module_folder_empty_rollup;g=C.one(I).one(J);if(!g){C.one(I).append(T(Y.base,{folder_name:h},i.formatters,0,strings,F));}else{g.one(".col-a").setContent(T(Y.non_ad,{folder_name:h},i.formatters,0,strings,F));}g=C.one(I).one(J);C.one(I).get("children").addClass(X);if(g){g.removeClass(X);}if(c){i.setToolbars();}else{i.set("contentToolbar","");}if(!D.fullPage&&(i.fid=="Trash"||i.fid==W)){C.fire("foldersview:resetFocus",i.fid);}},renderEmptyFolderAd:function(Y){},renderToolbarsOrEmpty:function(){var l=this,g,i,k,j,Y,h;if(l.fid&&(k=H(l.fid))&&(k.total===0)){j=C.mail.ui.common.StringUtils.getSystemFolderName(l.fid,k.folderInfo.name);if(D.bidi){j='<span dir="'+k.folderInfo.dir+'">'+j+"</span>";}C.use("_shared_module_folder_empty_rollup",function(m){l.renderEmptyFolder.apply(l,[j]);});}else{h=C.one(I).one(J);if(h){l.renderEmptyFolderAd(h);g=C.one(I).get("children");if(g){g.removeClass(X);}h.addClass(X);}l.setToolbars();}},createToolbar:function(g){var i=this,h,Y=D.mnuTmplMap;h=new L.Toolbar({template:g,menu:{template:function(m,j){var l=Y[m.replace("btn","menu")],k=l?["mail-ui-inboxmenu-base",l]:"mail-ui-inboxmenu-base";C.use(k,function(n){L.InboxMenu.insert(m,j,i.fid,{enableAddContact:function(o){o(i.isEnableAddToContacts(i));}});});},keys:function(k,j){C.use("mail-ui-inboxmenu-base",function(m){var l=L.InboxMenu.getValidKeys(k);if(k.get("id")==="menu-move"){l=l.concat([68,96,97,98,99,100,101,102,103,104,105]);k.on("menu:state",function(n){if(n.state==="hide"){if(i.msgList&&i.msgList.get("focusNode")){i.msgList.get("focusNode").focus();}}});}j(l);});},enterAccel:function(j){C.use("mail-ui-inboxmenu-base",function(k){j(k.mail.ui.InboxMenu.getEnterAccel());});}}});h.on("itemSelected",i.handleToolbarSelection,i);return h;},setToolbars:function(Y){var g=this;if(c){C.use("mail-ui-button-ctxt",function(){g._setToolbars(Y);});}else{g._setToolbars(Y);}},_setToolbars:function(Y){var m=this,h=m.isChat(m.fid),l=h?P:m.fid,j=(h||m.hasMsgList)?m.toolbarMods[l]:m.msgToolbarMod,i=NeoConfig.isFresh?"minty_module_toolbar_inbox_default_fresh_rollup":"minty_module_toolbar_inbox_default_rollup",k=NeoConfig.isFresh?C.ui.Templates.minty_module_toolbar_inbox_default_fresh_rollup:C.ui.Templates.minty_module_toolbar_inbox_default_rollup;if(!j){j=m.hasMsgList?m.toolbarMods.Inbox:m.msgToolbarMod;}if(j==i&&k){g();}else{if(j==m.msgToolbarMod&&!Y){m.msgPane&&m.msgPane.setToolbar&&m.msgPane.setToolbar(j,m.setToolbars,m);}else{C.use(j,g);}}function g(){var z,n=K.get(M),v=(j==m.msgToolbarMod&&l==W),o=m.get("bottomToolbar"),p,r={previewToggle:strings[n?"str_msg-view_btn_hidepreview":"str_msg-view_btn_showpreview"],spam_data_action:v?"notspam":"spam",str_spam_attr:strings[v?"str_not_spam_attr":"str_spam_attr"],str_spam:strings[v?"str_not_spam":"str_spam"]},AA,w,y=l,u=m.subToolbars.Inbox,t=m.bottomToolbars.Inbox,q;if(c){q=H(l);r.msgliststate=Y?"hasonemsg":"hasnomsg";}AA=T(F[j].base,r,m.formatters,0,strings);if(D.isFresh&&D.fullPage){r.isBottom=true;w=T(F[j].base,r,m.formatters,0,strings);}if(strings.str_cfg_tog_use_reedit&&l=="%40S%40Search"&&m.msgPane&&m.msgPane.message.sourceFolderInfo&&m.msgPane.message.sourceFolderInfo.fid=="Sent"){y=l+"+Sent";}if(!(y in m.subToolbars)){var x=H(y);if(x&&!x.isSystem&&u){m.subToolbars[y]=u;m.bottomToolbars[y]=t;if(u.setButtonContext){u.setButtonContext(0);}if(t&&t.setButtonContext){t.setButtonContext(0);}}else{m.subToolbars[y]=m.createToolbar(AA);if(D.fullPage){m.bottomToolbars[y]=m.createToolbar(w?w:AA);if(m.bottomToolbars[y].setButtonContext){m.bottomToolbars[y].setButtonContext(0);}}if(D.fullPage&&!D.isFresh){m.subToolbars[y].once("activeChange",function(AB){if(m.msgList&&m.msgList._listview){z=new L.ListViewControls(C.one(AB.currentTarget.get("content")).one(".pagination"),m.msgList,"pagination");z.setup(F[j]);AB.preventDefault();}});}}}if(m.subToolbars[y].setButtonContext){m.subToolbars[y].setButtonContext(0);}m.set("contentToolbar",m.subToolbars[y]);if(D.fullPage){m.set("bottomToolbar",m.bottomToolbars[y]);}var s=m.get("parentNode");if(s&&D.fullPage){if(o){o.get("content").remove();}if(m.hasMsgList&&(p=(C.UA.ie===7)?C.one("#msg-list").get("lastChild").get("firstChild"):C.one("#inboxcontainer").one(".list-view-footer .commontasks"))){p.insert(m.get("bottomToolbar").get("content"),0);if(!m.ftrNode){m.ftrNode=p;}}else{if(!m.footer){m.footer=C.Node.create(T(D.msgListTmpl.has_pagination));m.footer.addClass(X);if(s.one("div.message.content")){s.one("div.message.content").append(m.footer);}}m.footer.addClass(X);m.footer.one(".commontasks").append(m.get("bottomToolbar").get("content"));}}}},getCurrentMsg:function(){var i=this,h,Y=i.msgList,g=i.msgPane;if(g&&g.message){h=g.message;}else{if(Y.vlist&&Y.vlist.getSelectCount()==1){Y.getSelected(function(j){if(j){h=j[0];}});}}return h?h:null;},isEnableAddToContacts:function(g){g=g||this;var h=g.getCurrentMsg(),Y;
if(h){Y=g.getFromEmail(h);!R.isKnownEmailAddress(Y);return !R.isKnownEmailAddress(Y);}return;},getFromEmail:function(Y){var g;if(Y){g=Y.from||(Y.header&&Y.header.from);return g&&g.email||"";}else{return"";}},singleSelectHandler:function(g){var l=this,i=l.msgPane,k=g.details[0],j=k.message&&k.message.mid,h=i&&i.get(U),Y=E.Stopwatch.get("MsgInPreview");if(h){if((i&&i.message&&i.message.mid)==j){return;}R.handleMsgInPreviewStopwatch(Y,i,k.fid,j);}i&&i.set(B,k);l.msgDetails=k.message?g.details[0]:null;if(g.index){C.use("rocket-stats",function(o){o.common.Utils.rocketstats.stat("messageread","SelectIndex_"+g.index);if(b!==null){var n=b-g.index,m=n>0?"MAX":"-MAX";o.common.Utils.rocketstats.stat("messageread","SelectIndexDiff_"+((Math.abs(n)<=200)?n:m));}b=g.index;});}},handleUI:function(g,i,Y,h){var j=this;C.use("mail-ui-messageevents",function(){C.mail.ui.MessageEvents.handleUI(g,i,Y,h);});},bindFooterScroll:function(Y){var j=this,h,i,g;Y=Y||j.get("parentNode");j._evts.push(C.one("window").once("scroll",function(k){if(j.footer){h=C.one("window");i=Y.get("region");g=h.get("winHeight");if(i.height>g){j.footer.removeClass(X);}}}));},_onReadEvent:function(j){var l=this,h=l.msgList,i=l.msgPane,k=l.fid,Y=0,g=j.commandArgs;if(l.supportPreview&&g.e&&g.e.type!="dblclick"&&((l.msgPane&&l.msgPane.get(U))||strings.str_cfg_tog_open_by_dblclick)){Y=1;}C.fire("mt:click",{action:"open_msg",args:{fid:g.fid},append:{pp:Y},spid:Y?"msgread_reading_pane":"message_tabpane"});if(Y){return;}C.fire("openMessage",{msg:g.message,fid:g.fid,neighbors:g.neighbors,sortCol:h.sortedColumn,arrMsgSeq:h.vlist.arrItems||(h.vlist._model&&h.vlist._model.get("list")),index:g.index||(h.vlist.rootSelect&&h.vlist.rootSelect.index)||null});},_onCommand:function(Y){this.neoFire("read",{commandArgs:Y,msg:Y.message});},bindMsgList:function(){var i=this,Y=i.msgList,g=i.msgPane,h=i.fid;Y.on("singleSelect",i.singleSelectHandler,i);Y.on("sortList",function(j){this.sortList(j.sortType,j.targetNode,j.currentSortedColumn);});Y.on(V,function(j){i.fire(V,j);});Y.on("toggleToCol",function(j){if(L&&L.MessagesViewColResize){L.MessagesViewColResize.toggleCol("to",true);}});g&&g.on("transferFocusChange",function(j){if(j.newVal){Y.set("focus",1);}});Y.on("command",i._onCommand,i);Y.on("fidChange",function(j){if(i.fid!=j.newVal){i.msgDetails=null;i.fid=j.newVal;g&&g.set(B,null);i.renderToolbarsOrEmpty();i.toggleColumns(j.prevVal,j.newVal);}});if(g||c){Y.on("selectCountChange",function(l){var o,n=i.fid,j=i.subToolbars[n],m=i.bottomToolbars[n],k=l.newVal;if(j&&j.setButtonContext){o=H(n);j.setButtonContext(k);if(m){m.setButtonContext(k);}}if(g){if(k>1||(k===1&&Y.vlist.checkmode)){g.set(B,{message:new Array(k)});i.msgDetails=null;}else{if(k===0){g.set(B,null);}}}});}Y.on(S,function(){if(!i.get("loaded")){if(D.fullPage){C.use("mail-ui-messagepane-next-prev");}i.set("loaded",1);}if(!D.fullPage&&Y.get("active")){Y.handleDarlaEvent(i.isEmpty(i.fid));}});if(D.fullPage&&Y){Y.on("fullPageRenderComplete",function(){if(Y.get("active")){Y.handleDarlaEvent(i.isEmpty(i.fid));}});}C.one("#msg-list").one("div.list-view-items").on("keydown",function(l){var k=C.UA.os,j=(k=="windows"||k=="win");if((j&&l.shiftKey&&l.keyCode==121)||(!j&&l.ctrlKey&&l.shiftKey&&l.altKey&&l.keyCode==77)){l.preventDefault();E.simulateContextMenu(l.target);}});C.one("#msg-list").one("div.list-view-items").on("contextmenu",function(l){var m=l.currentTarget,k;l.halt();function j(){C.fire("mt:click",{action:"rt_click_msglst_preview",args:{fid:i.fid}});C.mail.ui.InboxMenu.insert("menu-msglist",function(){var n=C.one("#menu-msglist");e();C.common.ui.MenuHelper.create(m,{menu:n,isContext:true,xy:[l.clientX,l.clientY],keys:function(o){o(C.mail.ui.InboxMenu.getValidKeys(n));},enterAccel:function(o){o(C.mail.ui.InboxMenu.getEnterAccel());}},function(){n.on("menuSelected",function(q){var o={action:q.dataAction},p="upd";if("addcontact"===q.dataAction){o.context="msg";}switch(o.action){case"reply_sender":case"reply_all":case"forward":case"print":p="new";break;case"quick_filter":case"fullheader":case"addcontact":case"set_encodings":case"redirectmsg":p="pop";break;}C.fire("mt:click",{action:"rt_click_msglst",args:{fid:i.fid},append:{ltxt:o.action,rspns:p}});C.mail.ui.MessageEvents.handleUI(o,i.fid,i.msgList);});n.on("menu:state",function(o){if(o.state=="hide"){if(i.msgList&&i.msgList.get("focusNode")){i.msgList.get("focusNode").focus();}}});});},i.fid,{isContext:true,enableAddContact:function(n){n(i.isEnableAddToContacts());}});}C.use(["mail-ui-inboxmenu-base","common-ui-menu-helper"],function(n){k=n.common.ui.MenuHelper;k.createLoadingMenu(m,{isContext:true,xy:[l.clientX,l.clientY]});n.use("mail-ui-messageevents",function(){j();});});});},toggleColumns:function(g,Y){if(g===P){C.one(".list-view").all(".col-hd.info, .col-hd.file").removeClass("hidden");}else{if(Y===P){C.one(".list-view").all(".col-hd.info, .col-hd.file").addClass("hidden");}}},handleActiveDarlaEvent:function(){var Y=this;Y.msgList.handleDarlaEvent(Y.isEmpty(Y.fid));},afterActiveChanged:function(g){var h=this,Y=h.msgList;if(g){if(h.hasMsgList&&!C.server){!h.slidersSet&&C.Lang.later(0,h,h.loadResizersAndSliders);if(g.newVal&&h.get("loaded")){h.handleActiveDarlaEvent();}}else{if(!h.hasMsgList&&h.msgPane.message&&typeof g.prevVal!=="undefined"){if(g.newVal){h.triggerDarlaWithAIC();}}}Y&&Y.set(U,g.newVal);}},handleDefaultCase:function(l){var j=this,n=l.item,h=l.action,Y=j.fid,i=j.msgList,o=j.msgPane,k={action:h,id:(n?n.get("id"):0),forwardAsAttachment:l.forwardAsAttachment||0,fid:(n&&n.getAttribute("data-fid")?n.getAttribute("data-fid"):Y),widget:(j.type==="messagepane"?j:null),item:n,hasMsgList:j.hasMsgList,tbAction:l.tbAction},m,g;if(l.context){k.context=l.context;}if(j.hasMsgList){j.handleUI(k,Y,i);}else{g=o&&o.get(B);j.handlePostAction(k,Y,null,g);}},render:function(Y){var j=this,g=j.msgList,i=j.msgPane,h=C.one(Y);j.set("parentNode",h);if(NeoConfig.preloadDarla){i&&i.on("preloadDarla",function(k){if(!j.hasMsgList){j.triggerDarlaWithAIC(k.msg);}});}(g||i).on(S,function(){if(!NeoConfig.preloadDarla&&!j.callFromLaunch&&!j.hasMsgList){setTimeout(function(){j.triggerDarlaWithAIC();
},0);}j.footer&&j.bindFooterScroll(Y);j.fire(S);});if(D.fullPage&&i){i.on("loadmessage",function(){j.footer&&j.footer.addClass(X);});}if(g){g.render(Y);}if((!D.fullPage&&j.fid!==a)||g===0){i&&i.render(Y);}if(j.fid&&j.fid!==a){j.set("focusNode",(g||i).get("focusNode"));j.renderToolbarsOrEmpty();}}},true);C.namespace("mail.ui");C.mail.ui.MessagesView=A;},"1.0.0",{requires:["common-ui-contentwidget","common-ui-toolbar-base","mail-ui-mailview-base","mail-ui-messagelist-base","mail-ui-messagepane-base","minty_module_toolbar_inbox_default_rollup","dom-screen","mail-ui-common-string-utils"]});

YUI.add("mail-ui-messagepane-plugins",function(F){var D=F.common.Utils,A=D.substitute,C=F.ui.Templates,B=F.mail,E=B&&B.Controller?B.Controller.Messages:{};F.namespace("mail.ui").MessagePanePlugins={packageAttachments:function(I,L,H){var M=[],K=F.common.Utils;for(var G in H){var N=H[G],J={partId:K.escapeHtml(N.partId),type:K.escapeHtml(N.type),tnefId:K.escapeHtml(N.tnefId),subtype:K.escapeHtml(N.subtype),typeParams:K.escapeHtml(N.typeParams),disposition:K.escapeHtml(N.disposition),dispParams:K.escapeHtml(N.dispParams),size:N.size,encoding:K.escapeHtml(N.encoding),filename:K.escapeHtml(N.filename),contentId:K.escapeHtml(N.contentId),thumbnailurl:N.thumbnailurl};J.url=F.mail.Controller.Messages.getAttachmentUrl(I,L,N.partId,N.tnefId,N.filename,N.subtype);if(J.type=="message"){J.message=sanitizeMsg(N.message,I,L);}M.push(J);}return M;},_repackageData:function(I){var M=I.header,G=I.flags,K=E.getQueryParams(I),H=!E.isCertified(I.inboxservices||[]),L;if(!K){return{};}L=(K.midRequest.blockImages=="all")&&H;var J={from:M.from,to:M.to,cc:M.cc,replyto:M.replyto,subject:M.subject,date:M.sentDate,messageid:I.mid,folderid:K.fid,sourceFolderid:I.sourceFolderInfo&&I.sourceFolderInfo.fid||null,body:{content:I.body.display},flags:G,attachment:this.packageAttachments(K.fid,I.mid,I.attachments),imagesBlocked:!!((I.hasBlockedImages&&H)||(I.imgAttachments&&I.imgAttachments.length&&L)),suppressImages:L,truncated:I.isTruncated,sandboxPrefix:I.yivPrefixNumber};return J;},runPlugins:function(){var K=this,H=K.message,I,J,O;if(F.UA.ie>0&&F.UA.ie<8){return;}if(NeoConfig.om&&NeoConfig.om.isSandboxEnabled){return;}O=F.QueryString.parse(location.search);if(O.quickreply!==1){return;}if(NeoConfig.isFresh){return;}if(K.quickreply){var M=K.getRoot(),N=M.one(".quick-reply");if(N){N.remove();M.removeClass("showqr");}}I=!!(H&&!H.body&&!K.loading_slow&&!K.loading_error)||K.outboundReq;if(I||!K.message){return;}var L={data:{}};L.data=(H&&!I)?K._repackageData(H):{};L.data.loading=I;L.data.body={content:K.formatters.page_show_comm_modes()+K.formatters.page_show_comm_modes_else(),msgBody:(H&&H.body)?H.body.display:"",truncated:(H&&H.body&&H.isTruncated),scrollTop:K.scrollTop,href:K.href,isChat:K.isChat(H)};if(H&&H.body){J=NeoConfig.isFresh?C._shared_module_message_display_fresh_rollup:C._shared_module_message_display_rollup;L.data.body.msgBlockedMarkup=A(J.msg_blocked,H,K.readFormatters,0,strings);}var G={message:L.data,messageObject:L.data,messageNode:K.get("parentNode").one(".message.content"),document:K.get("parentNode")};if(!K.quickreply){F.use("mail-ui-messagepane-quickreply",function(P){K.quickreply=new P.mail.ui.QuickReply(K);K.quickreply.run(G);});}else{K.quickreply.run(G);}}};},"1.0.0",{requires:["querystring-parse","common-utils"]});

YUI.add("minty_module_toolbar_inbox_default_fresh_rollup",function(A){A.namespace("ui.Templates");A.ui.Templates.minty_module_toolbar_inbox_default_fresh_rollup={base:'<div id="pagetoolbar" class="{{msgliststate}}"> {{has_divider}} <span class="btn multimsg btn-delete" id="btn-delete"><a href="#" title="{{str_delete_email_attr}}" data-action="delete">{{str_delete}}</a></span> {{reply_group}} <span class="btn menu multimsg btn-move" id="btn-move" data-action="menu"><a href="#" title="{{str_move_attr}}">{{str_move}}<b></b></a></span> {{spam_menu}} {{spam_menu_else}} <span class="btn menu btn-actions" data-action="menu" id="btn-actions"><a href="#" title="{{str_actions_email_attr}}">{{str_actions}}<b></b></a></span> </div>',has_divider:'<span class="bevel_divider"></span>',reply_group:'<span class="bevel_divider"></span> <span class="btn no-text onemsg btn-reply-sender" id="btn-reply-sender"><a href="#" title="{{str_reply_attr}}" data-action="reply_sender" class="neo-tooltip">{{str_reply}}</a></span> <span class="btn no-text onemsg btn-reply-all" id="btn-reply-all"><a href="#" data-action="reply_all" title="{{str_reply_all_attr}}" class="neo-tooltip">{{str_reply_all}}</a></span> <span class="btn no-text onemsg btn-forward" id="btn-forward"><a href="#" title="{{str_forward_attr}}" data-action="forward" class="neo-tooltip">{{str_forward}}</a></span> <span class="bevel_divider"></span> ',spam_menu:'<span class="btn multimsg btn-spam" id="main-btn-spam"><a title="{{str_spam_attr}}" href="#" data-action="{{spam_data_action}}">{{str_spam}}</a></span><span class="btn menu multimsg split-btn" id="btn-spam" data-action="menu"><a href="#" title="{{str_menu_spam_toggle_attr}}"><b>{{str_menu_spam_toggle}}</b></a></span> ',spam_menu_else:'<span class="btn multimsg btn-spam" id="btn-spam"><a href="#" title="{{str_spam_attr}}" data-action="{{spam_data_action}}">{{str_spam}}</a></span> '};},"1.0.0");

YUI.add("_shared_module_message_pane_fresh",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_message_pane_fresh={base:'<div class="messagepane {{page_message_pane_view}}" {{page_message_pane_view1}}> <div id="{{page_message_pane_view2}}" class="{{page_message_full_view}}content"> {{page_show_comm_modes}} {{page_show_comm_modes_else}} </div> </div>',page_message_pane_view:"tripane",user_pref_height:'style="top:{{msg_pane_top}};{{tripane_pos}}:{{msg_list_width}}"',page_message_pane_view1:"{{user_pref_height}}",page_message_pane_view2:"msg-preview",page_message_full_view:"message ",global_spearmint_view:"{{_shared_module_message_prompt}} ",global_spearmint_view_else:"{{minty_module_comm_modes}} ",page_show_comm_modes:"{{global_spearmint_view}} {{global_spearmint_view_else}} ",page_show_comm_modes_else:"{{_shared_module_message_display_fresh_rollup}} "};},"1.0.0",{requires:["_shared_module_message_prompt","minty_module_comm_modes","_shared_module_message_display_fresh_rollup"]});

YUI.add("_shared_module_message_display_fresh_rollup",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_message_display_fresh_rollup={base:"{{message_selection}}{{message_selection_else}}",page_conversation_history_else:"<h2>{{str_msg-view_multiple_selected_msgs}}</h2> ",page_conversation_history:"<h2>{{str_msg-view_multiple_selected_convs}}</h2> ",multiple_selected_msgs:"{{page_conversation_history_else}} {{page_conversation_history}} ",page_conversation_history_else1:"<h2>{{str_msg-view_single_selected_msg}}</h2> <div>{{str_msg-view_single_selected_msg_info}}</div> ",page_conversation_history1:"<h2>{{str_msg-view_single_selected_conv}}</h2> <div>{{str_msg-view_single_selected_conv_info}}</div> ",multiple_selected_msgs_else:"{{page_conversation_history_else1}} {{page_conversation_history1}} ",message_selection:'<div class="msgs-selected"> {{multiple_selected_msgs}} {{multiple_selected_msgs_else}} </div>',msg_blocked:'<div class="msg-blocked"> <h3>{{str_msg_view_heading_blocked_images}}</h3> <span class="rht"> <span class="btn left"><a role="button" href="#" title="{{str_msg_view_btn_show_images_attr}}" data-action="show-images">{{str_msg_view_btn_show_images}}</a></span><span class="btn right"><a role="button" href="#" title="{{str_msg_view_btn_options_attr}}" data-action="mail-options">{{str_msg_view_btn_options}}</a></span> </span></div> ',page_loading:"hidden",page_loading_else:"undoreset",inline_cchdr:"<span>{{str_comp_reply_cc}}</span> {{inline_cc_data}}<br> ",inline_attachment_text:'<hr size=1> <div id="inline_attachments"> <div class="inlinemsgheader"> <span>{{str_comp_reply_from}}</span> {{inline_from_data}}<br> <span>{{str_comp_reply_to}}</span> {{inline_to_data}}<br> {{inline_cchdr}} <span>{{str_comp_reply_date}}</span> {{inline_date_data}}<br> <span>{{str_comp_reply_subject}}</span> {{inline_subject_data}}<br><br> </div> {{inlinemsg_text}} </div> ',has_inline_attachments:"{{inline_attachment_text}}  ",page_conversation_history_else2:"{{msg_body_display}} {{has_inline_attachments}} ",page_conversation_timestamp_data:'<h2 class="conv-separator"> <div><b>{{type}}</b> {{timestamp}}</div> </h2>',self:"self",page_message_history:'<li class="{{self}}"> <div class="timestamp"><span>{{timestamp}}</span></div> <div class="msg"> <span class="proper"><span>{{name}}:</span><img class="hidden" src="{{display_img}}" /></span>{{msg}} </div> <div class="fang"></div></li>',page_conversation_history2:'{{page_conversation_timestamp_data}}<ul class="chat-history"> {{page_message_history}}</ul> ',msg_body:'<div {{msg_body_bidi_default_dir}} class="msg-body inner {{page_loading}} {{page_loading_else}}" role="main" aria-label="{{str_msg-view_message_body}}" style="{{msg_body_style}}"> {{page_conversation_history_else2}} {{page_conversation_history2}} </div> ',is_perm:"{{str_comp_loading_error_perm}}",multi_retry:"{{str_comp_multi_retry}} ",multi_retry_else:"{{str_comp_loading_error}} ",is_perm_else:"{{multi_retry}} {{multi_retry_else}} ",can_retry:'<span class="btn left right small"><a role="button" href="#" title="{{str_comp_loading_retry_attr}}" data-action="retry-msg-load">{{str_retry}}</a> </span>',loading_error:"<h2>{{is_perm}} {{is_perm_else}} {{can_retry}} </h2> ",diff_folder_error:"<h2>{{str_error_msg_diff_folder_switch}}</h2> ",loading_slow_msg:"{{str_comp_loading_msg}}",loading_slow_conv:"{{str_comp_loading_conv}}",loading_slow_else:"<h2>{{loading_slow_msg}}{{loading_slow_conv}}</h2> ",loading_slow:'<h2>{{str_comp_slow_loading}} <span class="btn left right small"><a role="button" href="#" title="{{str_comp_loading_retry_attr}}" data-action="retry-msg-load">{{str_retry}}</a> </span> </h2> ',loading_error_else:"{{loading_slow_else}} {{loading_slow}} ",page_loading1:'<div id="loadingpane" class="cm-loadingpane"> {{loading_error}} {{diff_folder_error}} {{loading_error_else}}</div> ',msg_truncated:'<div class="msg-truncated"> <h3>{{str_msg_view_msg_truncated}}</h3> <span class="rht"> <span class="btn left right"><a role="button" href="#" data-action="view-full-msg">{{str_msg_view_btn_view_full}}</a></span> </span></div> ',blocked_images:"{{type}}",blocked_images_else:"image",image:'<div style="background-image:url({{thumbnailurl}});"></div> ',attached_photos:'<li id="{{partId}}" tabindex="0" class="{{blocked_images}}{{blocked_images_else}}" data-action="attach-download"> <div class="file-container" id="photo_field" title="{{str_msg_view_photo_attachment_attr}}"> {{image}} <b></b> </div> <span class="fname">{{filename}}</span> </li> ',msg_has_photo_attachment:'<div class="msg-attachments"> <h3>{{str_photos}}</h3> <ul class="file-attach"> {{attached_photos}} </ul> <span class="btn left right"><a role="button" href="#" class=" btn-downloadattach" data-action="attach-download-all-photos" title="{{str_msg_view_btn_download_all}}">{{str_msg_view_btn_download_all}}</a></span></div> ',image1:'<div style="background-image:url({{thumbnailurl}});"></div> ',attached_files:'<li id="{{partId}}" tabindex="0" tnefid="{{tnefId}}" class="{{type}}" data-action="attach-download"> <div class="file-container" id="attachment_field" title="{{str_msg_view_attachment_attr}}"> {{image1}} <b></b> </div> <span class="fname">{{filename}}</span> </li> ',hide_attachments_else:'<div class="msg-attachments"> <h3>{{str_msg_view_heading_attachments}}</h3> <ul class="file-attach"> {{attached_files}} </ul> <span class="btn left right"><a role="button" id="btn-downloadattach" data-action="attach-download-all" href="#" title="{{str_msg_view_btn_download_all}}">{{str_msg_view_btn_download_all}}</a></span></div> ',msg_has_attachment:"{{hide_attachments_else}} ",folder_message:"{{msg_blocked}} {{msg_body}} {{page_loading1}} {{msg_truncated}} {{msg_has_photo_attachment}} {{msg_has_attachment}} ",msg_unread:'" title="{{str_msg_view_markasunread_attr}}"',msg_unread_else:'unread" title="{{str_msg_view_markasread_attr}}"',msg_flagged:'class="flag flagged" title="{{str_msg_list_flagged_attr}}"',msg_flagged_else:'class="flag" title="{{str_msg_list_flag_attr}}"',message_header_flag:'<div {{msg_flagged}} {{msg_flagged_else}} data-action="msg-flag"> <a role="checkbox" aria-checked="{{msg_flagged_aria_checked}}" href="#">{{str_msg_view_msg_flag}}</a> </div> ',details:"details",mail_search_enabled:'<a href="http://mail.yahoo.com/" title="{{str_msg_title_search}}" data-action="search" class="subanchor">',mail_search_enabled_else:'<a href="" class="subanchor">',mail_search_enabled1:"</a>",hide_attachments_else1:'<!-- span class="attachments">{{str_msg_hdr_has_attachments}}</span--><span class="btn left right small" data-action="msg-attachments"><a role="button" href="#" class="icon-text attachments" title="{{str_msg_view_btn_download_all}}"><i>{{msg_num_attachments}}</i></a></span> ',msg_has_attachment1:"{{hide_attachments_else1}} ",show_details:"{{str_show_details_tooltip}}",show_details_else:"{{str_hide_details_tooltip}}",show_details1:"{{str_show_details}}",show_details_else1:"{{str_hide_details}}",message_header_expand:'<div class="header-expand"> <a role="button" class="toggle-details" href="#" toggle-on="{{str_show_details}}" toggle-off="{{str_hide_details}}" data-action="toggle-msg-header" title="{{show_details}}{{show_details_else}}">{{show_details1}}{{show_details_else1}}</a> </div> ',is_contact_from:"right ",is_contact_from_else:'<span class="btn lozenge lozengeadd right small btn-kiosk-addcontact" data-action="modal" data-name="{{msg_from}}" data-address="{{msg_from_address}}"> <a role = "button" tabindex="0" title="{{str_btn_add_from_contact_attr}}">&nbsp;<b></b></a> </span>',message_header_from:'<dt class="hdr-info" id="hdr-from">{{str_msg_hdr_label_from_fresh}}</dt><dd class="hdr-info"> <ul aria-labelledby="hdr-from" class="inline-items"> <li> <span class = "lozengeContainer"> <span class="btn lozenge small left {{is_contact_from}}" data-name="{{msg_from}}" data-address="{{msg_from_address}}" data-action="contact-card-menu"> <a role = "button" title="{{str_btn_from_lozenge_attr}}" href="#" tabindex="0" dir="{{msg_display_name_dir}}">{{msg_from}}</a> </span>{{is_contact_from_else}} </span> </li> </ul></dd> ',is_contact_to:"right ",is_contact_to_else:'<span class="btn lozenge lozengeadd right small btn-kiosk-addcontact" data-action="modal" data-name="{{msg_data_name}}" data-address="{{msg_to_address}}"> <a role = "button" tabindex="0" title="{{str_btn_add_contact_attr}}">&nbsp;<b></b></a> </span>',msg_to:'<li> <span class = "lozengeContainer"> <span class="btn lozenge small left {{is_contact_to}}" data-name="{{msg_data_name}}" data-address="{{msg_to_address}}" data-action="contact-card-menu"> <a role = "button" title="{{str_btn_lozenge_attr}}" href="#" tabindex="0" dir="{{msg_display_name_dir}}">{{msg_display_name}}</a> </span>{{is_contact_to_else}} </span> </li> ',more_to:'<li><span class="small btn left right" data-action="more" data-id="to"><a role="button" href="#" title="{{str_msg_hdr_btn_more_attr}}">{{str_msg_hdr_btn_more_to}}</a></span></li> ',message_header_to:'<dt class="hdr-info" id="hdr-to">{{str_comp_label_to_fresh}}</dt><dd class="hdr-info"> <ul aria-labelledby="hdr-to" class="inline-items" id="msg-header-to"> {{msg_to}} {{more_to}} </ul></dd> ',is_contact_cc:"right ",is_contact_cc_else:'<span class="btn lozenge lozengeadd right small btn-kiosk-addcontact" data-action="modal" data-name="{{msg_data_name}}" data-address="{{msg_cc_address}}"> <a role = "button" tabindex="0" title="{{str_btn_add_contact_attr}}">&nbsp;<b></b></a> </span>',msg_cc:'<li> <span class = "lozengeContainer"> <span class="btn lozenge small left {{is_contact_cc}}" data-name="{{msg_data_name}}" data-address="{{msg_cc_address}}" data-action="contact-card-menu"> <a role = "button" title="{{msg_cc_address}}" href="#" tabindex="0" dir="{{msg_display_name_dir}}">{{msg_display_name}}</a> </span>{{is_contact_cc_else}} </span> </li> ',more_cc:'<li><span class="small btn left right" data-action="more" data-id="cc"><a role="button" title="{{str_msg_hdr_btn_more_attr}}">{{str_msg_hdr_btn_more_cc}}</a></span></li> ',message_header_cc:'<dt class="hdr-info" id="hdr-cc">{{str_comp_label_cc_fresh}}</dt><dd class="hdr-info"> <ul aria-labelledby="hdr-cc" class="inline-items" id="msg-header-cc"> {{msg_cc}} {{more_cc}} </ul></dd> ',is_contact_bcc:"right ",is_contact_bcc_else:'<span class="btn lozenge lozengeadd right small btn-kiosk-addcontact" data-action="modal" data-name="{{msg_data_name}}" data-address="{{msg_bcc_address}}"> <a role = "button" tabindex="0" title="{{str_btn_add_contact_attr}}">&nbsp;<b></b></a> </span>',msg_bcc:'<li> <span class = "lozengeContainer"> <span class="btn lozenge small left {{is_contact_bcc}}" data-name="{{msg_data_name}}" data-address="{{msg_bcc_address}}" data-action="contact-card-menu"> <a role = "button" title="{{msg_bcc_address}}" href="#" tabindex="0" dir="{{msg_display_name_dir}}">{{msg_display_name}}</a> </span>{{is_contact_bcc_else}} </span> </li> ',more_bcc:'<li><span class="small btn left right" data-action="more" data-id="bcc"><a role="button" href="#" title="{{str_msg_hdr_btn_more_attr}}">{{str_msg_hdr_btn_more_bcc}}</a></span></li> ',message_header_bcc:'<dt class="hdr-info" id="hdr-bcc">{{str_comp_label_bcc_fresh}}</dt><dd class="hdr-info"> <ul aria-labelledby="hdr-bcc" class="inline-items" id="msg-header-bcc"> {{msg_bcc}} {{more_bcc}} </ul></dd> ',is_contact_chat:"right ",is_contact_chat_else:'<span class="btn lozenge lozengeadd right small btn-kiosk-addcontact" data-action="modal" data-name="{{msg_data_name}}" data-address="{{msg_participant_address}}"> <a role = "button" tabindex="0" title="{{str_btn_add_participant_contact_attr}}">&nbsp;<b></b></a> </span>',msg_participant:'<li> <span class = "lozengeContainer"> <span id="{{msg_participant_address}}" class="btn lozenge small left {{is_contact_chat}}" data-name="{{msg_data_name}}" data-address="{{msg_participant_address}}" data-action="contact-card-menu"> <a role = "button" title="{{str_btn_lozenge_attr}}" href="#" tabindex="0">{{msg_display_name}}</a> </span>{{is_contact_chat_else}} </span> </li> ',more_participants:'<li><span class="small btn left right" data-action="more"><a role="button" title="{{str_msg_hdr_btn_more_participants_attr}}">{{str_msg_hdr_btn_more_participants}}</a></span></li> ',message_header_participants:'<dt class="hdr-info lg" id="hdr-partic">{{str_msg_hdr_label_participants}}</dt><dd class="hdr-info lg"> <ul class="inline-items" aria-labelledby="hdr-partic"> {{msg_participant}} {{more_participants}} </ul></dd> ',is_contact:"btn-contact ",is_contact_else:"lozengeadd btn-kiosk-addcontact ",is_contact_else1:"modal",is_contact_else2:"{{str_btn_add_contact_attr}}",is_contact1:"{{msg_display_name}} {{msg_to_address}}",msg_with:'<li> <span class="btn lozenge {{is_contact}}{{is_contact_else}} left small right" data-name="{{msg_display_name}}" data-address="{{msg_to_address}}" data-action="{{is_contact_else1}}"> <a role="button" title="{{is_contact_else2}}{{is_contact1}}" href="#">{{msg_display_name}}</a> </span> </li> ',message_header_with:'<dt id="hdr-with">{{str_msg_hdr_label_with}}</dt><dd> <ul class="inline-items" aria-labelledby="hdr-with"> {{msg_with}} </ul></dd> ',msg:'<div class="msg"><a href="#">{{profile_status_msg}}</a></div>',tumor:'<div class="tumor"></div>',message_header_ycw:'<div class="update hdr-info"> <span class="photo"><img src="{{url_profile_img}}" title="{{title_profile_img}}" /></span> {{msg}} {{tumor}}</div> ',folder_message1:'<div aria-label="{{str_msg-view_message_header}}" role="complementary" class="y-module message-header {{collapsed_header}}" data-action = "toggle-msg-header"> <div class="info"> <div class="date"><span class="" >{{received_date}}</span></div> <div class="short_date"><span class="" >{{short_received_date}}</span></div> <div class="unread-dot {{msg_unread}} {{msg_unread_else}} data-action="unread"> <a role="checkbox" aria-checked="{{msg_read_aria_checked}}" href="#"></a> </div> {{message_header_flag}} <div class="fromto {{hasattachment}}"> <span class="lowercase">{{str_msg_list_from}}</span> {{msg_from}} <span class="lowercase">{{str_msg_list_to}} {{toccYou}} </span> {{toccPlus}} {{toccCount}} <span class="lowercase norm">{{toccMore}}</span> </div> <h3 "{{msg_subjectDir}}" class="{{details}} hidefocus" tabindex="-1"> {{mail_search_enabled}}{{mail_search_enabled_else}}{{msg_subject}}{{mail_search_enabled1}} {{msg_has_attachment1}} </h3> {{message_header_expand}} </div> <div id="msg_details" class="info expanded {{message_header_linemod}}"> <dl class="details"> {{message_header_from}} {{message_header_to}} {{message_header_cc}} {{message_header_bcc}} {{message_header_participants}} {{message_header_with}} </dl> {{message_header_ycw}} </div> </div> ',message_selection_else:"{{folder_message1}}  {{folder_message}}"};
},"1.0.0");

YUI.add("common-utils-stats",function(D){var T=D.namespace("common.Utils"),F=T.rocketstats.stat,S=(window.NeoConfig&&NeoConfig.RTFirePercentage)||0,K={},H={},N,C=function(){return N||new Date;},W={Compose:{calcValues:O,calcSpaceId:P},Compose_inline:{},FolderView:{baseSpaceId:978500090},ConvFolderView:{baseSpaceId:1},MsgInPreview:{calcValues:U,rocketStatsExtras:M,calcSpaceId:Q},ConvInPreview:{calcValues:U,rocketStatsExtras:M,calcSpaceId:Q},MsgInTab:{calcValues:U,rocketStatsExtras:M,calcSpaceId:Q},ConvInTab:{calcValues:U,rocketStatsExtras:M,calcSpaceId:Q},SendConfirm:{baseSpaceId:978500224,calcValues:L},UpdatesTab:{baseSpaceId:978500277},LoadMessage:{},OMMessageGetPostHook:{},LoadSandbox:{},DisplayMessageInSandbox:{},PreLoadMessage:{rocketStatExtras:M},OMOpenView:{},"OMOpenView:36ohk6dgmcd1n":{},"OMOpenView:3cp9lcoq32dpn":{},"OMOpenView:3ae1mc4rm4e9l":{},Search:{calcValues:E,calcSpaceId:B},AttachmentUpload:{baseSpaceId:978500442,calcValues:A}},V=T.Stat={log:function(Y,c,b,a){var e,X,Z=(NeoConfig.isFullSSL?"ssl:":"")+"profile";if(Y in W){if(Y.indexOf("Conv")!=-1){return;}var d=W[Y];X=(d.calcValues?d.calcValues(Y,c,b,a):{t_done:c});if(window.rt_Done&&(d.baseSpaceId||d.calcSpaceId)&&(NeoConfig&&NeoConfig.roundTrip)){e=d.baseSpaceId||d.calcSpaceId(Y,X,b,a);V.rtBeacon(e,X,b);}F(Z,Y,X.t_done);if(!K[Y]&&NeoConfig.roundTrip&&NeoConfig.roundTrip.interactiveDate){F(Z,"TimeToFirst"+Y,a.s-NeoConfig.roundTrip.interactiveDate);}d.rocketStatsExtras&&d.rocketStatsExtras(Y,X,b,a);K[Y]=1;}}},I=T.Stopwatch=function(Y){var X=this;X.n=Y;X.c=[];N=X.s=C();X.start.apply(X,D.Array(arguments,1));N=0;};I.get=function(b){var Z=D.Array(arguments,1),Y=H[b],X;if(Z.length){X=Z.shift();if(Y&&X){Y.stop(X);}Y=0;if(Z.shift()){Y=new I(b);N=Y.s;Y.start.apply(Y,Z);N=0;}H[b]=Y;}return Y;};V.rtBeacon=function(c,Z,b){var a,X=NeoConfig,e=[],Y=false;if(c&&window.rt_LogTime&&Math.random()<S){c+=X.roundTrip.spaceIdOffset;if(typeof YAHOO=="undefined"){YAHOO={};}if(typeof YAHOO.RT=="undefined"){YAHOO.RT={qsvars:{}};}rt_SetSpaceid(c);for(a in Z){switch(a.charAt(0)){case"t":rt_LogTime(a,Z[a],true);break;case"k":default:rt_AddVar(a,Z[a]);break;}}for(var d in X.userAdLocations){Y=true;break;}e.push("kd1:"+((!X.IsMailPlus&&X.hasAds&&Y)?"1":"0"));rt_AddVar("ks1",X.cluster);rt_AddVar("ks3",(X.expBucketId==="0"?(X.isUltThrottled*1?"NoBucket":"NoUlt"):X.expBucketId));if(X.roundTrip&&X.roundTrip.adComment&&X.roundTrip.adComment.length>0){rt_AddVar("ks4",NeoConfig.roundTrip.adComment.join("/"));X.roundTrip.adComment=[];}(X.om&&X.om.isSandboxEnabled)&&e.push("OM:1");X.RTTimerComment&&b&&e.push(b);rt_SetComment(e.join(";"));rt_Done();}};function R(Y,X){while(Y){Y.d=X-Y.s;Y=Y.sb;Y=Y&&Y[Y.length-1];}}function G(a){var c=this,Z,Y=a.c,b="";function X(f,d){var e=0;while(e<f.length){Z=f[e++];b+=d+Z.n+":"+Z.d+"\n";if(Z=Z.sb){X(Z,d+"-");}}}X([a],b);if(Y&&Y.length>0){b+=Y.join("\n");}a.rtComment=b;b=(a.title||"")+b;}I.prototype={start:function(e){var b,c,Y=this,X=Y,g=e,h=arguments,f=0,Z=C();if(typeof g=="number"){f=1;}else{g=-1;}while(Y.sb&&--g){X=Y;Y=X.sb;Y=Y[Y.length-1];}for(;f<h.length;f++){b=Y.sb=Y.sb||[];if(c=b.length){R(X=b[c-1],Z);}X={n:h[f],s:Z};b.push(X);}},stop:function(X){var Y=this;if(!D.Lang.isNumber(Y.d)){Y.n=X||Y.n;R(Y,C());G(Y);V.log(Y.n,Y.d,Y.rtComment,Y);}},addComment:function(Y){var X=this;if(Y){X.c.push(Y);}}};function U(Y,f,d,b){var a=b.sb,e=-1,c=a?a.length-1:-1,Z={t_done:f};if(b.YCMSGGetEnd&&b.YCMSGGetBegin){Z.t1=b.YCMSGGetEnd-b.YCMSGGetBegin;}for(;c>=0;c--){var X=a[c].n;if(X=="OMMessageInDOM"||X=="MessageInDOM"){e=a[c].s;break;}}if(e>0){Z.t4=f;Z.t_done=e-b.s;}Z.kd5=(NeoConfig.hasConv?1:0);return Z;}function M(a,Y,c,b){var Z=(NeoConfig.low_bandwidth?"_lowBW":"");var X=(NeoConfig.hasConv?"_conv":"");if(b.wasCached){F("profile",a+Z+X+"_Cached",Y.t_done);}else{F("profile",a+Z+X+"_Uncached",Y.t_done);}}function Q(b,Z,e,d){var Y=NeoConfig,X=(Y.low_bandwidth?"low":(Y.secure_cascade*1?"ssl":"non-ssl")),c=(d.wasCached?1:0),a={"ssl":{MsgInPreview:[978500342,978500341],MsgInTab:[978500348,978500347]},"non-ssl":{MsgInPreview:[978500340,978500339],MsgInTab:[978500346,978500345]},"low":{MsgInPreview:[978500338,978500337],MsgInTab:[978500344,978500343]}};return a[X][b][c];}function J(b,Z,e,d){var Y=NeoConfig,X="non-ssl",c=(d.wasCached?1:0),a={"non-ssl":{ConvInPreview:[xx,xx],ConvInTab:[xx,xx]}};return a[X][b][c];}function A(X,c,b,a){var d={t_done:c},Z=a.attType,Y="0";if(Z==="form"){Y="1";}else{if(Z==="flash"){Y="2";}else{if(Z==="html5"){Y="3";}else{if(Z==="flashv2"){Y="4";}else{if(Z==="formv2"){Y="5";}}}}}d.ks2=Y;if(!D.Lang.isUndefined(a.attSize)){d.kd2=a.attSize+"";}return d;}function L(Y,c,b,a){var Z,e,X=0,d={t_done:c};if(a.sb){for(Z=0;Z<a.sb.length;Z++){e=a.sb[Z];switch(e.n){case"moduleLoad":d.t1=e.d;break;case"msgSend":d.t2=e.d;break;}}}d.kd4=a.action&&a.action==="retry"?"1":a.action&&a.action==="captcha"?"2":"0";if(!D.Lang.isUndefined(a.bodySize)){d.kd2=a.bodySize+"";}if(!D.Lang.isUndefined(a.attachCount)){d.kd3=a.attachCount+"";}d.kd5=(NeoConfig.hasConv?1:0);return d;}function O(X,b,a,Z){var Y,d,c={t_done:b};if(Z.sb){for(Y=0;Y<Z.sb.length;Y++){d=Z.sb[Y];switch(d.n){case"moduleLoad":c.t1=d.d;break;case"initView":c.t2=d.d;break;}}}if(Z.CMGStart&&Z.CMGEnd){c.t3=Z.CMGEnd-Z.CMGStart;}c.kd4="0";if(!D.Lang.isUndefined(Z.CMGSize)){c.kd2=Z.CMGSize+"";}if(!D.Lang.isUndefined(Z.wasCached)){c.kd3=(Z.wasCached?"1":"0");}c.kd5=(NeoConfig.hasConv?1:0);return c;}function P(a,Y,c,b){var Z={"reply_sender":978500080,"reply_all":978500245,"forward":978500078,"edit":978500266},X=Z[b.action];return(X?X:978500077);}function E(X,c,b,a){var Z={},d={t_done:c};function Y(g){var e,f;if(g.sb){for(e=0;e<g.sb.length;e++){f=g.sb[e];Z[f.n]=f.d;Y(f);}}}Y(a);d.t1=Z.start+Z.serverRequest;d.t2=Z.renderSearch;if(Z.renderSearchGroups){d.t3=Z.renderSearchGroups;}d.kd2=a.matches;d.ks2=a.source;return d;}function B(Z,X,b,a){var Y={"results":978500252,"refinement":978500222};return Y[a.action];}},"1.0.0",{requires:["rocket-stats"]});

YUI.add("common-utils",function(E){E.namespace("common.Utils");var B=E.common.Utils,D=E.Object,C=E.Lang,A=C.trim,F=/{{([^{}]*)}}/g;E.mix(B,{isEmpty:function(H){var G;if(H){for(G in H){return false;}}return true;},size:function(I){var G,H=0;for(G in I){H++;}return H;},congruent:function(I,H,G,K){var J=((I===H)||(G||(B.size(I)==B.size(H))));if(C.isString(I)){J=(I===H);}if(J&&(I!=H)){D.some(I,function(M,L){J=(K&&!!K[L])||(C.isObject(M)?B.congruent(M,H[L],G):(M==H[L]));return !J;},null,true);}return J;},diff:function(J,I,H){var G,K=H?J:B.merge({},J);if(I){D.each(K,function(M,L){G=C.isObject(M)?B.diff(M,I[L],true):(M!=I[L]);if(!G){delete K[L];}},null,true);}return(!B.isEmpty(K)||(J&&!I))&&K;},wcopy:function(I,G){var K=I&&(I.length||(I.length===0))&&Object.prototype.toString.call(I)=="[object Array]",H,J=I?(K?E.clone(I):E.Object(I)):I;G=G||{};if(!K){for(H in J){if((typeof J[H]=="object")&&J[H]){J[H]=G[H]?I[H]:B.wcopy(J[H]);}}}return J;},merge:function(M,L,K,I){var J,H,G;if(C.isObject(L)){M=(C.isObject(M)&&M)||{};for(J in L){if(I&&!L.hasOwnProperty(J)){continue;}if(C.isArray(L[J])){H=L[J];if(!M[J]||K){M[J]=[];}for(G=0;G<H.length;G++){M[J].push(B.merge(M[J][G],H[G],K,I));}}else{if(C.isObject(L[J])){if(!M[J]){M[J]={};}M[J]=B.merge(M[J],L[J],K,I);}else{if((K&&(M[J]!=L[J]))||C.isUndefined(M[J])){M[J]=L[J];}}}}}else{M=L;}return M;},assert:function(H,I,G,J){if(!H){I=I||"assertfail";E.use("common-utils-error",function(){var K=(J&&J())||"";B.error.report(I+" "+K,1,G);});}},substitute:function(M,L,I,H,G,K,J){if(typeof M!=="string"){return;}if(J){M=J.str||M;L=J.obj||L;I=J.formatters||I;H=J.args||H;G=J.strings||G;K=J.templates||K;}return M.replace(F,function(O,N){var Q,P,R=B.substitute;if(I&&(Q=(J&&J.formatters)?J.formatters[N]:I[N])){return(Q(L,H,J))||"";}else{if(L&&N in L){P=L[N];return typeof P==="string"&&P.match(F)?R(P,L,I,H,G,K,J):P;}else{if(G&&N in G){P=G[N];return P.match(F)?R(P,L,I,H,G,K,J):P;}else{if(K&&N in K){return R(K[N].base||K[N],L,I,H,G,K,J);}else{return"";}}}}});},regexpEscape:function(G){if(G==null){return null;}G=""+G;return G.replace(/([\^\/.*+?|()[\]{}\\=!:$])/g,"\\$1");},escapeHtml:function(H,G){if(H==null){return null;}H=""+H;H=H.replace(/&/g,"&amp;");H=H.replace(/</g,"&lt;");H=H.replace(/>/g,"&gt;");H=H.replace(/\"/g,"&quot;");H=H.replace(/\'/g,"&#39;");H=H.replace(/\\/g,"&#92;");H=H.replace(/&(?:amp;)+/g,"&amp;");if(G){H=H.replace(/&amp;#([A-Za-z0-9]+);/g,"&#$1;");}return H;},unescapeHtml:function(G){if(G==null){return null;}G=""+G;G=G.replace(/&amp;/g,"&");G=G.replace(/&lt;/g,"<");G=G.replace(/&gt;/g,">");G=G.replace(/&quot;/g,'"');G=G.replace(/&#39;/g,"'");G=G.replace(/&#92;/g,"\\");return G;},escapeStringField:function(G){return B.escapeHtml(B.unescapeHtml(G));},escapeEmailObject:function(G){return{email:B.escapeStringField(G.email),name:B.escapeStringField(G.name)};},escapeEmailObjectArray:function(J){var G=J.length,H=[],I=0;for(;I<G;I++){H.push(B.escapeEmailObject(J[I]));}return H;},removeHtml:function(G){if(G==null){return null;}G=""+G;G=G.replace(/<[^>]*>/g,"");return G;},isProcessDefaultEnabled:function(G){return(G.target.getAttribute("process-default")==="true");},getDataAction:function(K){var J=K.target,I=K.currentTarget,G=J.ancestor(function(L){return L.getAttribute("data-action")||L===I;},true),H=G?G.getAttribute("data-action"):0;return{node:G,action:H};},dateFormatter:function(H,G){if(Neo&&Neo.dateFormatter){return Neo.dateFormatter(H,G);}return"";},triggerDarla:function(G,H){!NeoConfig.noDarla&&E.use("mail-ui-darla",function(J){var I=J.mail.ui.darla;I&&I.trigger(G,H);});},loadDarlaAndExecute:function(G,H){if(H){E.use("darla-base","mail-ui-darla",function(){G(E);E.use("mail-track");});}else{E.use("darla-base","mail-ui-darla","mail-track",function(){G(E);});}},parseQueryString:function(G){var H,I={};G=G||window.location.search.replace(/^\?/,"");if(G&&G.length>1){H=G.split("?");I=E.QueryString.parse(H.length>1?H[1]:H[0]);}return I;},sanitizeString:function(H){var G=/[\u0000-\u001f\u007f]/g;return typeof H==="string"?A(H.replace(G,"")):H;},mergeQueryString:function(H,I){var G;if(E.Lang.isObject(I)){G=H.replace(/\?.*$/,"");I=E.merge(B.parseQueryString(H),I);H=G+"?"+E.QueryString.stringify(I);}return H;},setSelect:function(H,G){if(typeof H.addClass!=="undefined"){H=[H];}E.Array.each(H,function(I){var J=E.Node.getDOMNode(I);if(typeof J.onselectstart!=="undefined"){J.onselectstart=function(){if((window.event.srcElement||window.event.target).tagName==="INPUT"){return true;}else{return G;}};}else{if(typeof J.style.MozUserSelect!=="undefined"){J.style.MozUserSelect=G?"inherit":"-moz-none";}else{J.onmousedown=function(){return G;};}}});},onDemand:function(G,H){return function(){var J=this,I=arguments;E.use(H,function(){J[G].apply(J,I);});};},escapeRegexp:function(H){var G=/([\[|\]|\(|\)|])/g;return H.replace(G,"\\$1");},simulateContextMenu:function(K,H){var I,G=2,J,L;if(!K){return false;}K=(K._node)?K._node:K;if(K.ownerDocument.createEvent){J=E.one(K);L=J.getXY();if(H!==false&&(L[1]-E.DOM.docScrollY())<0){J.scrollIntoView();L=J.getXY();}L[1]-=E.DOM.docScrollY();I=K.ownerDocument.createEvent("MouseEvents");I.initMouseEvent("contextmenu",true,true,K.ownerDocument.defaultView,1,0,0,L[0],L[1],false,false,false,false,G,null);return !K.dispatchEvent(I);}else{if(K.ownerDocument.createEventObject){I=K.ownerDocument.createEventObject();I.button=G;return K.fireEvent("oncontextmenu",I);}}return false;},isBrowserCORSCapable:function(){return(("withCredentials" in new XMLHttpRequest())||typeof XDomainRequest!=="undefined");},convertToPlain:function(G){var H=document.createElement("div");H.innerHTML=G;return H.textContent||H.innerText;},makeHttpsUrl:function(G){if(G&&typeof G=="string"){G=G.replace(/^http:/,"https:");G=G.replace(/:80\//,":443/");}return G;}});if(NeoConfig&&NeoConfig.intl==="jp"){E.use("common-utils-jp");}},"1.0.0",{requires:["querystring-parse-simple","querystring-stringify-simple"]});

YUI.add("common-utils-apihook",function(D){var C=D.Lang,B=D.common.Utils,A=B.rocketstats;B.ApiHook=function(F){var E={};F.hook=function(K,H,G){var J,I;G=G||10;if(!H){for(I in K){F.hook(I,K[I],G);}}else{B.assert(K&&H);B.assert(C.isObject(H));B.assert(!C.isArray(H));J=E[K]=E[K]||[];J=J[G]=J[G]||[];return H.hId={o:G,i:J.push(H)-1};}};F.unhook=function(J,L){var H,G,I,K;if(L){B.assert(J&&(L||L===0));B.assert(C.isString(J)&&C.isObject(L)&&C.isNumber(L.o)&&C.isNumber(L.i));B.assert(E[J]);B.assert(E[J][L.o][L.i].hId==L);E[J][L.o][L.i]=0;}else{for(H in E){I=E[H];for(G in I){K=I[G];for(L in K){if(K[L]==J[H]){K[L]=0;}}}}}};return function(J,I,M,S,U){var O,T,Q,P=0,L=0,N,R=U&&U.notify||function(){},V=E[J]||[],K=function(){T=2;return 1;},G={abort:K};B.assert(C.isFunction(R));function H(){function X(Z,Y){if(C.isString(Z)){I=Z;P=L=0;if(Y){J=Y;V=E[J]||[];}Q=V[0];}else{T=T||1;if(C.isFunction(Z)){G.abort=function(){var a=Z();T=2;return a===undefined?1:a;};R("async",J,S);return function(b,e,a){if(T==1){R("resume",J,S);M=b||M;G.abort=K;T=0;if(e){I=e;L=0;P=a||0;}H();}return T==1;};}if(Z){if(C.isObject(Z)){G.abort();G.abort=function(){return Z.abort();};}else{T=0;M=Y||M;H();return;}}T=2;}}while(P<V.length){Q=V[P];while(Q&&!T&&(L<Q.length)){if(O=Q[L++]){if(!C.isFunction(O)){O=O[I];}try{M=(O&&O(M,S,X,I))||M;}catch(W){A.stat("hookutil","hookfailure");N=["HookFailure",J,I,P,L-1].join("_");A.stat("hookutil",N);if(NeoConfig.log_error_yapache==1){D.use("common-utils-error",function(){B.error.report(W,"apihook:"+N,1,1,1);});}}}}if(T){break;}P++;L=0;}if(!T){T=2;G.abort=function(){};if(O=U){if(!C.isFunction(O)){O=O[I];}try{O&&O(M,U,I);}catch(W){N="CbkFailure_"+J+"_"+I;A.stat("hookutil","CbkFailure_"+J+"_"+I);if(NeoConfig.log_error_yapache==1){D.use("common-utils-error",function(){B.error.report(W,"apihook:"+N,1,1,1);});}}}}return G;}return H();};};},"1.0.0",{requires:["common-utils","rocket-stats"]});

YUI.add("common-user-session",function(F){var C=F.common,B=C.persist,D,A,E;C.UserSession={getState:function(){var I=B.getCookie("Y"),H=I&&I.get("l"),G=B.getCookie("T"),J=G&&G.get("d");return{user:H,session:J,newuser:H&&H!=A,expired:J!=E,loggedout:!H};},update:function(){var G=this.getState();A=G.user;E=G.session;},same:function(){var G=this.getState();return !(G.newuser||G.loggedout||G.expired);}};D=NeoConfig.initCookieData||C.UserSession.getState();A=D.user;E=D.session;},"1.0.0",{requires:["common-persist-cookie-data","common-utils"]});

YUI.add("mail-controller-base",function(D){var J,I,d,W,A,g={},P=D.common.net.Error,X=D.common.Utils,C=X.rocketstats.stat,h=D.mail,H=h.Controller={},b=0,B=[],f={fixParms:2,cacheCheck:4,dupcheck:12,optimistic:14,gdmDelay:16,delay:18,transport:20,deBatch:2,unpark:4,dupcbk:6,cache:8,resume:10,envelope:12,usercbk:30},Q={notfound:1,moved:2,request:3,failed:4,baddata:5,wserror:6,_reservedIdx:20};function L(j,Y,i){return{reason:Y,data:j,fault:i,code:i&&i.code};}function K(s,j,Y,k,q,p,n){var o,l,i=s.bulkOps,r={controller:s,api:j,method:Y,reason:n,cfg:i&&i[j],custom:{},start:0,size:0,batchOps:k,batch:k.batch,getBatch:function(){r.batch=1;return S(k);},newApi:m,opNum:b++,deBatch:1};if(g[s.ns].entity){r.batchOps.entity=g[s.ns].entity;}function m(u,w,t,v){r.api=u;r.method=w;r.cfg=i&&i[u];v&&(r.reason=v);if(w=="FlagMessages"||w=="FlagThreads"){o=t.setFlags;if(o.spam||o.ham||o.sendercompromised||o.phished){r.cfg=i["spam"];}}r.parms=t;if(typeof t=="object"){l=r.origParms={};for(j in t){l[j]=t[j];}l=r.modParms={};for(j in t){l[j]=t[j];}}else{r.origParms=r.modParms=t;}}if(!n){r.reason=j;q=q||{};if(!p&&(q.success||q.failure)){p=q;q={};}p=p||{};}r.cbk=p;if(!k.cbk){p=k.cbk=D.Object(p);p.success=p.failure=0;}m(j,Y,q);r.batchIdx=k.push(r)-1;k.count++;return r;}function N(k,n,i,l,Y,m){if(!i){i=[];i.count=0;i.waitCnt=0;}var j=K(this,k,n,i,l,Y,m);return j.abort=g[this.ns].ch(k,"pre",j.parms,j,j.cbk);}function V(j,i,k,l){if(i.deBatch&&(l!="pre")){var Y=i.batchOps;i.deBatch=0;Y[i.batchIdx]=0;Y.count--;if(typeof i.waitIdx!="undefined"){B[i.waitIdx]=0;Y.waitCnt--;}!I&&R();}}function Z(k,j,n,o){if(j.batch&&(o!="pre")){var l,i=j.batchOps,Y=i.cbk,m=i.response.result.response[j.batchIdx]={};m[j.method+"Response"]=k;i.envCnt++;if(i.envCnt==i.length){Y&&(l=Y.success)&&l(m);}}}function G(q,s,m){var r,o=0,j=s.batchOps,Y=s.method,n=g[s.controller.ns],p=n.noDelay,i=n.isdup,l=function(){B[s.waitIdx]=0;j[s.batchIdx]=0;j.waitCnt--;j.count--;},k=function(){r.dups[s.dupIdx]=0;};if(i&&(i=i[Y])){while(o<B.length){if((r=B[o++])&&(r.method==Y)&&i(r.parms,q,r,s,m)){V(q,s);r.dups=r.dups||[];s.dupIdx=r.dups.push(s)-1;s.resume=m(k);return;}}}if(!j.batch){j.ready=1;}j.waitCnt++;if(j.batch||!p||!p[s.api]){s.waitIdx=B.push(s)-1;if(I||!j.ready||(j.waitCnt!=j.count)){s.resume=m(l);s.delayed=1;}else{F();I=1;A=s;o=0;while(o<j.length){if((s=j[o++])&&s.delayed){s.delayed=0;s.resume();}}}}}function O(){if(d){clearTimeout(d);d=0;}}function F(){O();d=setTimeout(function(){var Y=A?A.method:"Unknown";C("controller","ForceResume_"+Y);R();W=Y;},NeoConfig.controllerForceResume||30000);W=0;}function R(){W&&C("controller","ForceResumeWrong_"+W);F();var Y,m,p,o=0,n=0,k=B.length;while(o<k){if(m=B[o++]){p=1;Y=m.batchOps;if(Y.ready&&(Y.waitCnt==Y.count)){n=Y.length;while(n){if(m=Y[--n]){A=m;B[m.waitIdx]=0;m.delayed=0;if(!m.resume()){Y[m.batchIdx]=0;Y.waitCnt--;Y.count--;}}}if(Y.count!=0){I=1;return;}}}}if(!p){B.length=0;}I=0;A=0;O();}function T(l,j,n){var k=0,Y=j.batchOps,o=function(){return m();},m=function(){while(k<Y.length){if(j=Y[k++]){B[j.waitIdx]=0;}}R();};j.resume=n(o);j.parms=l;j.deBatch=0;if(!--Y.waitCnt){m=a(Y,Y.cbk);}}function e(l,i,k,m){var j,Y=i.dups;if(Y){while(Y.length){if(j=Y.shift()){j.resume(l,m);}}}}function M(j,m){var i,Y=j.cfg,k=j.parms,n=k[m];if(Y&&n&&(j.count=i=n.length)){return j.time=i*(j.cost=(1000/Y.bs));}}function E(Y,q){var o,t,k,s,n=0,r=0,j=new Date,l=j-q.bst,p=j-q.st;if(l){q.bst=j;r=800/l-0.8;q.ie+=l-1000;r-=0.5*q.ie/p;if(q.la){k=0.5*r*r*(1+1/q.la);k=k<-0.5?-0.5:k>0.5?0.5:k;r+=k;}q.la=r;while(s=Y[n++]){if(o=s.cfg){t=o.bs;t+=t*r;(o.min>t)&&(t=o.min);(o.max<t)&&(t=o.max);o.bs=t;}}}}function c(j,o,n){try{var Y,m,k=0;while(Y=o[k]){Y.cnd="success";m=n;if(j){m=n.response[k];if(m.success){m=m[Y.method+"Response"];}else{m=m["ErrorResponse"];Y.cnd="failure";if(Y.bulk){return m;}}}k++;Y.start+=Y.size;Y.cfg&&Y.resp&&Y.resp.mid&&m.mid&&(m.mid=Y.resp.mid.concat(m.mid));Y.resp=m;}}catch(l){}}function a(j,AM){var AJ,AH,AE,AN,AL,v,AR,t,u,AB,AI,k,AF,m,AK,x,AO,AQ,AD,l,AC,r,q,z,s,AG=1,w=0,y,Y,n=D.Object(AM||{}),AA=(j.entity)?j.entity:"mid";function AP(){AJ=AR=v=AL=0;AB=[];AI=[];while(AJ<j.length){if(AH=j[AJ++]){t&&AH.size&&(t.processed+=AH.size);if(AH.complete){B[AH.waitIdx]=0;j[AH.batchIdx]=0;AH.resume(AH.resp,AH.cnd);}else{if(M(AH,AA)){AL+=AH.cost;v+=AH.time;AR+=AH.count;}AB.push(AH);}}}AL&&(w=(1000/AL)|0);if((s=j[0])&&(s=s.cfg)&&s.fixed){w=s.fixed;if(j[0].parms[AA].length<w*2.5){AG=0;}}if(!u){u=1;if(v<2000){w*=9;}else{if(AG){u={ie:0,la:0,bn:0};u.bst=u.st=new Date;t={processed:0,total:AR};}}}t&&(t.timeleft=v);z=0;AJ=0;AN=[];Y=[];while((AH=AB[AJ++])&&(AH.cfg||!z)){y=AH.parms.chain;AF=y||{};AF[k=AH.method]=x={};AD=AH.parms;delete AD.chain;for(AQ in AD){if(AD.hasOwnProperty(AQ)){x[AQ]=AD[AQ];}}AN.push(AF);AH.cbk=AH.cbk||{};AH.cbk.method=AH.cbk.method||k;Y.push(AH.cbk);AI.push(AH);if(AH.cfg){AH.size=w;q=m=AH.start;m+=w;x[AA]=x[AA].slice(q,m);if(AD[AA].length>m){AH.bulk=z=1;continue;}}AH.complete=1;}r=AN.length;if(AC=(r>1)){n.batchopcbk=Y;}if(!AO){try{t&&AM&&(AK=AM.progress)&&AK(t);}catch(i){}r&&(AE=h.net.Transport.request(AC?"BatchExecute":k,AC?{call:AN}:x,n,true));}if(AO||!r){R();}}n.success=function(i){F();E(AI,u);c(AC,AI,i.body.result);AP();};n.failure=function(i){if(i.body&&i.body.result){c(AC,AI,i.body.result);}l(i,"failure");};AP();return l=function(o,i){if(!AO){o=o||{fault:"aborted"};AO=true;AJ=0;while(AJ<j.length){if(AH=j[AJ++]){B[AH.waitIdx]=0;AH.complete=1;AH.cnd=i||"aborted";AH.resp=L(o,Q.failed,o.fault);}}if(i!="aborted"){AP();}AE&&AE.abort();R();}};}H.extend=function(k,i){var j,m,l,Y=H[k];if(!Y){Y=H[k]=D.clone(J);Y.ns=k;g[k]={};g[k].ch=X.ApiHook(Y);}i=i||{};i.ch=g[k].ch;i.order=f;D.mix(g[k],i,0,0,0,1);if(m=(i&&i.passthru)){for(j in m){Y[j]=D.bind(N,Y,j,m[j],0);Y.hook(j,{pre:G},f.delay);Y.hook(j,{pre:T},f.transport);Y.hook(j,e,1);Y.hook(j,V,f.deBatch);Y.hook(j,Z,f.envelope);}}if(l=(i&&i.batchable)){for(j in l){if(!m[j]){Y.hook(j,{pre:G},f.delay);Y.hook(j,{pre:T},f.transport);Y.hook(j,V,f.deBatch);Y.hook(j,Z,f.envelope);}}}return Y;};function S(l){if(Y=l.intf){return Y;
}var k,m,j,i,Y=l.intf={execute:function(n){l.ready=1;l.cbk=n;!I&&R();return{abort:function(){var o=0;while(o<l.length){if(i=l[o++]){i.abort();}}}};}};l.envCnt=0;l.response={error:null,result:{response:[]}};for(k in g){if(m=g[k].batchable){Y[k]=D.Object(Y);Y[k].ns=k;Y[k].bulkOps=H[k].bulkOps;for(j in m){Y[k][j]=D.bind(N,Y[k],j,m[j],l);}}}l.batch=1;l.count=l.length;l.waitCnt=0;return Y;}H.batch=function(){return S([]);};J={Error:Q,abort:function(Y){Y&&Y.abort();},_error:L};function U(m,o,l){function k(){var n;if(l.status==500){j=l.fault.code;if(/SessionIdReissue/.test(j)){i=402;}else{if(/Credentials/.test(j)){i=401;n={stat:j+"_"+Y.method};}}}m.callDefault(i,n,1);}var j,i=null,Y;if((Y=l.callback)&&Y.service=="mail"){D.use("mail-error",function(n){if(h.Error){h.Error.handle(m,o,l);}else{k();}});return m.isdone()||m.async(k);}}P.onError(U);},"1.0.0",{requires:["mail-net-transport","common-net-error-base","common-utils-apihook","rocket-stats"]});

YUI.add("mail-controller-messages",function(C){var r,v=C.mail,H=v.model.DataStore,B=H.Messages,N=C.common.Utils,p=N.rocketstats.stat,A=C.Lang,G="%40S%40Search",S=v.Controller,J=B.getPermMidPart,T=B.getParam,E=NeoConfig.truncateAt||50000,D={},Q,u={"Neighbors":0},i=0,R=0,k=0,Z=0,b=0,P=NeoConfig.msgCacheInterval||30000,q=N.parseQueryString()||{},h=function(){return new Date().getTime();},V=h(),d="_chainedbatch",g={passthru:{send:"SendMessage",get:"GetDisplayMessage",list:"ListMessages",search:"SearchMessages",save:"SaveMessage",scan:"VirusScanAttachments"},isdup:{ListMessages:function(e,Y){return(e&&Y&&e.fid==Y.fid&&e.numInfo==Y.numInfo&&e.sortKey==Y.sortKey&&e.sortOrder==Y.sortOrder&&e.startInfo==Y.startInfo);}},noDelay:{get:1}},j=[],a=0,I=0,t,O,W,c="[NONE]";g.batchable=g.passthru;g.entity="mid";t=S.extend("Messages",g);O=t.Error;W=t._error;r=g.order;try{c=NeoConfig.userDataObj.userSendPref.loggedInAlias;}catch(s){}t.bulkOps={remove:{bs:100,min:100,max:1000},flag:{bs:100,min:100,max:1000},move:{bs:100,min:100,max:1000},spam:{bs:20,min:20,max:50,fixed:20}};function F(e,y,Y){var w,x;if(y=="Draft"){return"none";}switch(e){case"0":x="none";break;case"b":case"1":default:x="all";break;}if(!strings.str_cfg_tog_old_imageblock){if(y==="%40B%40Bulk"){x="all";}if(e==="b"&&Y&&(w=Y.flags)&&w.inAddressBook){x="none";}}else{if(e==="b"){x=y==="%40B%40Bulk"?"all":"none";}}return x;}C.mix(t,{_process:function(){},_preset:function(w){var x=(NeoConfig.low_bandwidth||NeoConfig.noLiveWords=="1"||strings.str_cfg_tog_disable_livewords)?"none":"inline";if(q.lw){x=q.lw==="1"?"inline":"none";}var y=w.fid,Y=w.msgObj,e={fid:y,enableRetry:true,textToHtml:true,urlDetection:true,emailDetection:true,emailComposeUrl:"mailto:%e%",truncateAt:E,charsetHint:"",annotateOption:{annotateText:x},bidiDetection:NeoConfig.bidi,midRequest:w.request||{blockImages:F(C.common.persist.UserData.get("userUIPref.imageBlocking"),y,Y),restrictCSS:true,expandCIDReferences:true,enableWarnings:true,bidiDetection:NeoConfig.bidi,cachekey:"launch"}};if(Y&&Y.part&&Y.flags){B.set(y,Y,"launch",true,function(z){t._process(z,{fid:y,key:e.midRequest,msg:Y});return z;},e);}},isCertified:function(Y){var e=/images|all/;return C.Array.some(Y,function(w){return w.name=="allow"&&e.test(w.value);});},getQueryParams:function(w,Y){var e=T(w.mid)||w._param;return(Y&&e&&e[Y])||e;},getAttachmentUrl:function(AB,x,e,y,w){var Y="/ya/download";if(AB=="INBOX"){AB="Inbox";}if(w){w=w.replace(/\?/g,"x");w=encodeURIComponent(w);}var z=new Date().getTime().toString(),AA;x=encodeURIComponent(x);AA=[NeoConfig.launch_protocol,location.hostname,Y,"?fid=",encodeURIComponent(AB),"&mid=",x,"&pid=",e,"&tnef=",y,"&YY=",z];if(w){AA.push("&file_name=",w);}AA.push("&appid=YahooMailNeo");return AA.join("");}},true);t.hook("get",{pre:n},r.cacheCheck);t.hook("get",{success:m},r.cache);t.hook("list",{pre:U,success:M});t.hook("get",{pre:o},r.gdmDelay);t.hook("get",K,r.unpark);function o(e,Y,x){if(a){Y.parkIdx=j.push(Y)-1;Y.resume=x(y);}else{if(I){clearTimeout(I);}I=setTimeout(w,30000);}Y.unparkIt=1;a=1;function y(){j[Y.parkIdx]=0;var z=j.length;while(z--){if(j[z]){return;}}a=0;}function w(){I=0;if(a){a=0;p("msgctrl","UnlockGdmQ");f();}}}function K(e,Y,w,x){if(x!="pre"&&Y.unparkIt){Y.unparkIt=0;setTimeout(f,0);}}function f(){if(!Y(1)){Y();}function Y(z){var w,e,y,x=j.length;while(x--){if((w=j[x])&&(!z||w.parms.msg)){j[x]=0;if(z){while(x--){if((e=j[x])&&!e.parms.msg){j[x]=0;}}}a=0;w.resume(w.parms,"pre");return 1;}}if(!z){a=0;j.length=0;}}}function n(AL,AJ,AP){var AH,AI,e=AL.fid,z=AL.msg,AA=!AL.dontCache&&AL.prefetch,AG=AL.ovparams,AO=AL.chain,AN=AO&&AO.parameter&&AO.parameter.destination,AK,Y=[],AF,w=AJ.custom,AC,AD=C.common.persist.UserData.get("userUIPref.imageBlocking"),AB=(AJ.parkIdx!==undefined);function y(AV,AU){var AR,AT=T(AV.mid),AS=AU&&AU.truncateAt,AQ;AR=!AU||!AT||((N.congruent(AU,AT,true,{truncateAt:1})));return(AR&&(AQ=B.get(e,AV))&&AQ.part&&((!AQ.isTruncated||(AS&&(AT.truncateAt>AS)))||(AQ.isTruncated&&typeof AS=="undefined"))&&AQ);}function AM(AQ){var AR=AQ.mid,AS=T(AR),AT=(NeoConfig.low_bandwidth||NeoConfig.noLiveWords=="1"||strings.str_cfg_tog_disable_livewords)?"none":"inline",AU;if(q.lw){AT=q.lw==="1"?"inline":"none";}AU=AS?N.merge({},AS):{fid:e,prime:AL.cachekey,enableRetry:true,textToHtml:true,urlDetection:true,emailDetection:true,qtAnnotate:{enable:NeoConfig.hasConvView?true:false},emailComposeUrl:"mailto:%e%",truncateAt:E,charsetHint:"",annotateOption:{annotateText:AT},bidiDetection:NeoConfig.bidi};if(AQ.charset){AU.charsetHint=AQ.charset;}if(NeoConfig.mentos_enabled){AU.MessageHeaders=["Authentication-Results","X-Rocket-Track"];}if(AG){N.merge(AU,AG,true);}if(!A.isNumber(AU.truncateAt)){delete AU.truncateAt;}delete AU.midRequest;return AU;}function x(AQ,AU){var AR=AQ.mid,AS,AW=T(AR),AT=AW&&AW.midRequest,AV=AT?N.merge({},AT):{blockImages:F(AD,e,AQ),restrictCSS:true,expandCIDReferences:true,enableWarnings:true,bidiDetection:NeoConfig.bidi};if(AG){N.merge(AV,AG.midRequest||{},true);}AV.mid=AR;AV.cachekey=AQ.cachekey||AL.cachekey;if(!AV.cachekey){AV.cachekey=AU?"PrimeOther":"Other";}return AV;}function AE(AQ){var AS=T(AQ.mid),AR=(AS&&AS.midRequest.cachekey)||"Neighbors";if(!u[AR]){u[AR]=0;}u[AR]++;return AR;}if(z&&AA){AI=C.clone(AL);AI.msg=null;AL.prefetch=null;AA=null;setTimeout(function(){t.get(AI,{suppressCodes:["*"]});},0);}if(AN&&AN.match(/\.mid$/)){z=AL.msg={};z.mid=d;}if(!(AL&&AL.fid&&((AL.msg&&AL.msg.mid)||AL.prefetch))){AP("failure");N.assert(!NeoConfig.isInternal,"badparam-get",1,function(){C.use("mail-debug",function(AQ){if(confirm("Y! Internal: Found invalid message query param.\nPlease click OK to send for Y!Mail Engineering diagnosis.")){v.Debug.emailIssue("GDM Bad param sent:\n\n"+AQ.JSON.stringify(AL||{}));}});});return W(AL,O.request);}if(z){z.mid=z.mid.replace(/ /g,"+");V=h();if(AF=y(z,AG)){if(AB){i--;R--;}Q=AE(z);D[AF.mid]|=1;N.traceMsg(["CachedMessage: ","MID => ",AF.mid," | ","Cache => ",Q," | ","Algorithm => ",NeoConfig.preCacheModule||"unknown"].join(""));
AJ.cbk&&(AJ.cbk.respProps={wasCached:true});AP("success");return AF;}else{!AB&&++i;AJ.cbk&&(AJ.cbk.respProps={wasCached:false});if(AL.cacheOnly){AP("failure");return W(z,O.notfound);}!AB&&R++;AK=AM(z);Y=[x(z,true)];}}for(AH=0;AA&&AH<AA.length;AH++){AC=AA[AH];if(AC){N.assert(!NeoConfig.isInternal||AC.mid,"badparam-get",1,function(){C.use("mail-debug",function(AQ){if(confirm("Y! Internal: Found invalid message query param.\nPlease click OK to send for Y!Mail Engineering diagnosis.")){v.Debug.emailIssue("GDM Prefetch bad param:\n\n"+AQ.JSON.stringify(AA||{}));}});});if(AC.mid&&!y(AC,AG)){!AB&&R++;if((AK&&N.congruent(AK,AM(AC),true))||(AK=AM(AC))){Y.push(x(AC,false));}}}}if(AK){N.assert(Y.length);AK.message=Y;w.rparams=N.merge({},AK);for(AH=0;AH<Y.length;AH++){delete Y[AH].cachekey;}}if(AO&&AK){AK.chain=AO;}return AK&&Y.length?AK:AP("nomsgs");}function m(AQ,AM,AR){var AL,AJ,z,AF,x,AB,Y,AI=AM.origParms,e=AI.fid,AE=AI.msg,AG=!AI.dontCache,w=AQ.message,AK=AQ.code,AA,AS,AD,AN=AM.custom.rparams,y,AO=AN&&AN.message;function AH(AT){var AW,Aa,AY,AZ,AV=w||[],AU=AT.mid,AX=B.isSearchMid(AU,e);for(AW=0;AW<AV.length;AW++){Aa=AV[AW];AZ=(Aa.sourceFolderInfo&&Aa.sourceFolderInfo.fid)||e;if(AU==Aa.mid||(AX&&J(AU)==J(Aa.mid))){break;}if(AU==d){N.assert(AV.length==1);AE=AV[AW];AT.mid=AV[AW].mid;break;}if(B.hasMoved(AU,Aa.mid,e,e)){if(!(AY=(AZ!=e))){B.flush(e);}break;}}return(AW==AV.length)?null:{pos:AW,key:AT,fid:(AX&&e)||AZ,msg:Aa,moved:AY};}function AP(AT){var AW,AV,AU=AT.mid;for(AV=0;AK&&(AV<AK.length);AV++){AW=AK[AV];if((AU==AW.mid||(B.isSearchMid(AU,e)&&J(AU)==J(AW.mid)))&&AW.code!="WARN"){return AW;}}}function AC(AX){var Ab=AX.search(/<script[^>]*>/i),AT,Aa,AY,AV,AU,AZ={};if(Ab>=0){AT=AX.length;Aa=Math.max(AX.search(/<\/script>/i),AT);AY=Ab!==0||Aa!==AT?AX.substring(Ab,Aa):AX;AU=/\bYAHOO\.Shortcuts\.mailCategories\s*=\s*(.*);/.exec(AY);if(AU&&AU[1]){try{AZ.categories=C.JSON.parse(AU[1]);}catch(AW){AZ.categories={};}}AU=/\bYAHOO\.Shortcuts\.annotationSet\s*=\s*({[\s\S]*?})\s*;/.exec(AY);if(AU&&AU[1]){try{AZ.annotations=C.JSON.parse(AU[1]);}catch(AW){AZ.annotations=null;}}return AZ;}return null;}if(AO&&(w||AK)){delete AN.message;for(AL=0;AL<AO.length;AL++){z=true;AA=AB=null;AF=AH(AO[AL]);if(AF){AA=AF.msg;if(AF.moved){B.remove(e,AO[AL]);B.set(AF.fid,AA,"move");AB=O.moved;}AD=C.clone(AN);AD.midRequest=AO[AL];if(AG){if(!AI.forceCache&&(x=B.get(AF.fid,AA))){if(x.part&&N.congruent(T(AA.mid),AD,true)){AA=x;z=false;}else{if(x.flags){AA.flags=x.flags;}}}if(z){B.set(AF.fid,AA,AM.reason,true,function(AT){t._process(AT,AF);return AT;},AD);D[AA.mid]&&L();D[AA.mid]=0;k++;AA=B.get(AF.fid,AA);if(AA.extend){for(AJ in AA.extend){delete AA.extend[AJ];}}else{AA.extend={};}if(AA.body&&AA.body.display){AA.extend.shortcuts=AC(AA.body.display);}}}else{AA._param=AD;t._process(AA,AF);B.extend(AA);}}else{AB=O.wserror;}if(AB==O.wserror){Y=AP(AO[AL]);AS="GDM_Code_"+(Y?Y.code:"NotFound")+(AE?"_Prime":"_Prefetch");C.use("common-utils-error","mail-error",function(AT){if(v.Error&&AE){v.Error.statTAE(4,AS);}p("msgctrl",AS);N.netError([AS,"yid",c,AT.JSON.stringify(AQ)].join(";"));});}if(AE&&(AO[AL].mid==AE.mid)){y={err:AB,msg:AA};}}}if(y){if(y.err){AR("failure");return W(y.msg,AB);}else{D[y.msg.mid]|=1;return y.msg;}}else{if(!AE){AR("noprime");}}}function U(AA,AB,z){var e=AA.startInfo,y=AA.numInfo,w=AA.startMid,Y=AA.numMid,x=A.isNumber;if(NeoConfig.hasConv||NeoConfig.grid){AA["responseFields-messages-all"]=1;}if(x(e)&&e<0){z("failure");return W(AA,O.request);}}function M(AA,AE,z){var Y=AA.folder,w=Y.folderInfo.fid,AD=AA.messageInfo,AF,AC,y,AB=AD?AD.length:0,e,x;for(x=0;x<AB;x++){e=AD[x];if(e&&e.errorflag==="true"){AC=1;break;}}if(AC){z("failure");p("msgctrl","E_ListCorrupt_BadMsgInfo");return W(AE.parms,O.baddata);}if(AE.parms){y=(AA.startInfo+AE.parms.numInfo>=Y.total)?AA.startInfo+AD.length<Y.total:AD.length<AE.parms.numInfo;if(y){Y.total=AA.startInfo+AD.length;p("msgctrl","E_ListCorrupt_Total");p("msgctrl","E_ListCorrupt_Total_"+(Y.isSystem?"System":"User"));if(!b){b=1;p("msgctrl","E_ListCorrupt_onePerSession");}C.use("common-utils-error",function(){N.error.report("MsgCtrl_E_ListCorrupt_Total: yid: "+c);});}}if(AE.parms&&AE.parms.maxMessagesToScanForContacts){AE.reason="ruefc";}if(w=="%40C%40Chats"){AF=[];C.Array.each(AD,function(AH){var AG=C.Array.some(AH.inboxservices||[],function(AI){if(AI.name=="src"){if(AI.value=="mmc"){Y.total--;}else{AF.push(AH);}return true;}});if(!AG){Y.total--;}});AA.messageInfo=AD=AF;}if(Y&&!AE.batch){S.Folders.set(Y,null,AE.reason);}B.syncHeaders(w,AD);setTimeout(function(){X(w,AA.messageInfo);},500);}function X(w,e,z){var AB=NeoConfig.msgCacheUnread.split(","),z=AB[0],AD=AB[1],AE=h()-V,y={"Trash":1,"%40B%40Bulk":1};if(z>0&&AD>0&&AE<AD*60*1000){var AC=0,Y,AA=new Date().getTime()/1000-18000,x=[];while(z>0&&AC<e.length){Y=e[AC++];if(Y&&!Y.flags.isRead&&(AA<Y.receivedDate)&&!y[w]&&(Y.flags.inAddressBook||(NeoConfig.prefetchMsgsCheckMail===1))){x.push(Y);z--;}else{break;}}if(x.length>0){t.get({fid:w,msg:null,prefetch:x,cachekey:"List"},{suppressCodes:["*"]});}}}function L(){for(var Y in D){if((D[Y]&3)==1){D[Y]|=2;Z++;}}}function l(Y,w,x){var e=w;while(w>0){p("MsgCache",Y+"_"+(w>10?10:w));w-=10;}x&&l(Y+"_"+x,e);}setInterval(function(){var Y,e=NeoConfig.preCacheAlgorithm||0;for(Y in u){l("CacheHit",u[Y],Y);u[Y]=0;}l("CacheMiss",i,e);l("CacheRequest",R,e);l("MsgsFetched",k,e);L();l("MsgsUsed",Z,e);i=k=R=Z=0;},P);C.use("mail-controller-processbody");C.namespace("mail.test.controller");C.mail.test.controller.Messages={cacheMsg:X};},"1.0.0",{requires:["launch-utils","rocket-stats","mail-controller-base","mail-controller-folders","common-persist-user-data"]});

YUI.add("mail-controller-folders",function(D){var j=D.mail,a=D.common.Utils,L=j.model.DataStore,H=D.common.persist.UserData,d=a.rocketstats.stat,T=D.Lang,G=L.Folders,B=j.Controller,b=T.trim,h={},K,S,W,M,P,g="%40S%40Search",R=/[@#$%&*?\/;\'\":\[\]\{\}<>|\\\~\n\r\f\t]+/,f={"%40B%40Bulk":strings.spam||"Spam","%40C%40Chats":strings.str_nav_conversations||"Conversations","Draft":strings.str_nav_drafts||"Drafts"},Q={},h={passthru:{refresh:"ListFolders",empty:"EmptyFolder",get:"ListFolders"},batchable:{create:"CreateFolder",refresh:"ListFolders",rename:"RenameFolder",remove:"RemoveFolder",fetchExtMail:"FetchExternalMail"}};K=B.extend("Folders",h);S=K.Error;M=S._reservedIdx;Q[strings.str_folder_reserved_inbox]=Q[strings.str_folder_reserved_conversations]=Q[strings.str_folder_reserved_drafts]=Q[strings.str_folder_reserved_sent]=Q[strings.str_folder_reserved_spam]=Q[strings.str_folder_reserved_trash]=Q[strings.str_folder_reserved_search]=Q[strings.str_folder_reserved_inbox_lower]=Q[strings.str_folder_reserved_conversations_lower]=Q[strings.str_folder_reserved_drafts_lower]=Q[strings.str_folder_reserved_sent_lower]=Q[strings.str_folder_reserved_spam_lower]=Q[strings.str_folder_reserved_trash_lower]=Q[strings.str_folder_reserved_search_lower]=Q[strings.str_folder_reserved_inbox_upper]=Q[strings.str_folder_reserved_conversations_upper]=Q[strings.str_folder_reserved_drafts_upper]=Q[strings.str_folder_reserved_sent_upper]=Q[strings.str_folder_reserved_spam_upper]=Q[strings.str_folder_reserved_trash_upper]=Q[strings.str_folder_reserved_search_upper]=1;function Z(m,l,Y){var k;Y&&(k=Y.failure)&&k(K._error(m,l),Y.args);}function C(l,Y){var k;Y&&(k=Y.success)&&k(l,Y.args);}function A(k){var Y={suppressCodes:["*"],backgroundLogs:["*"],failure:function(){A();}};P&&P.cancel();P=D.later((T.isNumber(k)&&k)||NeoConfig.chkFolders||10*60000,null,function(){K.refresh(NeoConfig.checkmailExt?{accountId:""}:{},Y);});}function J(l){var k=l&&l.length,Y=K.Error,m;if(!k){m=Y.empty;}else{if(k>40){m=Y.oversize;}else{if(G.getByName(l)||l.toLowerCase() in Q||l in Q){m=Y.exists;}else{if(R.test(l)){m=Y.baddata;}}}}return m;}function F(m,l){var n,p,q,k,o,Y=m&&(m.folder||[m]);for(n=0;Y&&n<Y.length;n++){p=Y[n];if(p&&(k=p.folderInfo)&&(q=k.fid)){if(o=f[q]){k.name=o;}}else{if(l){l.push(p);}}}return(l.length==0)&&m;}function i(l,m,k){var Y;if(m.reason=="get"){if(Y=G.get(l)){k("success");return Y;}m.reason="refresh";l={bidiDetection:NeoConfig.bidi};}else{l={fid:l};}return l;}function e(k,u,m){var q={resetMessengerUnseen:true};q.bidiDetection=NeoConfig.bidi;if(k&&typeof k.accountId==="string"){var o,n,r,l=[],w=u.cbk||{},s,v,p=k.accountId,Y=(H.get("externalAccounts")||{}).extAccount;function t(AD,AE){var AA,AB,x,y,z=[],AC;if((AA=AD.fetchResults)&&(x=AA.length)){for(AB=0;AB<x;AB++){if((y=AA[AB].status)!="success"){}}if(z.length){D.use("mail-error",function(AF){if(AC=AF.mail.Error){AC.extFetchError(z);}});}}}if(Y&&Y.length){for(n=0;n<Y.length;n++){v=Y[n];if(b(v.username)&&b(v.server)&&(p===""||p===v.address)){l.push({protocol:v.protocol,userName:v.username,server:v.server});}}if(l.length){m();s=D.clone(w);s.failure=null;s.success=t;o=B.batch().Folders;o.fetchExtMail({externalAccounts:l},s);o.refresh(q,w,u.reason);o.execute();}}}return q;}function O(m,o,n){var k=o.reason,l=o.origParms,Y=(o.api=="refresh"||k=="refresh");if(Y){m.folder.sort(function(s,q){var r=s.isSystem,p=q.isSystem;if(r&&!p){return -1;}else{if(!r&&p){return 1;}}return s.folderInfo.name.localeCompare(q.folderInfo.name);});K.set(m,null,k);A();}if(o.api=="get"){if(Y&&(!(m=G.get(l)))){n("failure");return K._error(l,K.Error.notfound);}else{return m;}}}function E(k,n){var l,Y=n.reason,m=n.origParms;l=Y.match(/\.([\w\W]+)/);l=l&&l[1]||Y;if(/^create/.test(Y)){G.add(k,l);}else{if(/^remove/.test(Y)){G.remove(m.fid,l);}else{if(/^rename/.test(Y)){G.rename({folderInfo:m},k,l);}}}G.flush();}function c(n,Y,m){var o,l,k=a.wcopy(Y);n=a.sanitizeString(b(n));o=J(n);if(k){k.success=k.failure=null;}if(o){Z(n,o,Y);}else{l=B.batch().Folders;l.create({name:n,bidiDetection:NeoConfig.bidi},function(s,p,q){var r=Y&&Y[q];r&&setTimeout(function(){r(s,p);},0);},"create"+(m?"."+m:""));l.refresh({});l.execute(k);}}function I(n,Y,m){var l=B.batch().Folders,k=a.wcopy(Y);if(k){k.success=k.failure=null;}l.remove({fid:n},Y,"remove"+(m?"."+m:""));l.refresh({});l.execute(k);}function X(o,Y,m){var n,l,k=a.wcopy(Y);o.name=(o&&o.name)?a.sanitizeString(b(o.name)):"";o.bidiDetection=NeoConfig.bidi;n=J(o.name);if(k){k.success=k.failure=null;}if(n){Z(o.name,n,Y);}else{l=B.batch().Folders;l.rename(o,Y,"rename"+(m?"."+m:""));l.refresh({});l.execute(k);}}function V(l,Y,m){var k=[];l=F(l,k);if(!l){Z(k,K.baddata,Y);}else{G.set(l,m);C(l,Y);}}W={success:E};K.hook({create:W,remove:W,rename:W,empty:{pre:i,success:function(Y,k){a.assert(k.parms&&k.parms.fid);L.Messages.remove(k.parms.fid,null,true);}},get:{pre:i,success:O},refresh:{pre:e,success:O}});D.mix(K,{create:c,rename:X,remove:I,set:V,validateName:J});D.mix(S,{empty:M++,oversize:M++,exists:M++});function U(l,v,r){var o,p=0,n=0,m,q=r=="remove",t=q&&!v,x=r=="move"||r=="add",Y=(q&&-1)||(x&&1)||0,k,w,s=G.get(l),u;if(s){for(o=0;o<v.length;o++){k=v[o];m=k.flags&&k.flags.isRead;if(T.isNumber(m)){if(x){p+=m?0:1;}else{if(q){p+=m?0:-1;}else{p+=m?-1:1;}}}if(x||q){n+=((k.header&&k.header.size)||0);}}if(q){n=-n;}G.set(w={folderInfo:{fid:l},unread:t?0:s.unread+p,total:t?0:s.total+(v.length*Y),size:t?0:s.size+n},"ds:msg:");a.assert(w.unread>=0&&w.total>=0,"neg-folder-cnt",1,function(){d("foldercnt",["Negative",w.unread>=0?"Total":"Unread",r].join("_"));D.use("common-utils-error",function(y){a.netError(["NegFolderCount fid:",l,r].join(";"));});});}}function N(m,n,s,Y){var q,r=0,o=0,w,y,p=s=="remove",u=p&&!n,z=s=="move"||s=="add",k=(p&&-1)||(z&&1)||0,l,x,Y=Y||[],t=G.get(m),v;if(t){if(Y){for(q=0;q<Y.length;q++){y=Y[q];r+=y.totalUnread;if(z||p){o+=y.size||0;}}}for(q=0;q<n.length;q++){l=n[q];w=l.totalUnread;if(w){if(z){r+=w?0:w;}else{if(p){r+=w?-w:0;}else{r+=w?-w:w;}}}}G.set(x={folderInfo:{fid:m},unread:u?0:t.unread+r,total:u?0:t.total+(n.length*k),size:u?0:t.size+o},"ds:conv:");
a.assert(x.unread>=0&&x.total>=0,"neg-folder-cnt",1,function(){d("foldercnt",["Negative",x.unread>=0?"Total":"Unread",s].join("_"));D.use("common-utils-error",function(AA){a.netError(["NegFolderCount fid:",m,s].join(";"));});});}}D.on("ds:msg:change",function(n,p,Y,o,m){var k,l;if(n==g){for(k=0;k<Y.length;k++){if(l=(Y[k].sourceFolderInfo&&Y[k].sourceFolderInfo.fid)){U(l,[o[k]],m);}a.assert(l);}}else{U(n,o,m);}});D.on("ds:msg:remove",function(n,l){var Y,k,m="remove";if(n==g){for(Y=0;Y<l.length;Y++){if(k=(l[Y].sourceFolderInfo&&l[Y].sourceFolderInfo.fid)){U(k,[l[Y]],m);}a.assert(k);}}else{U(n,l,m);}});D.on("net:suspended",function(Y){P&&P.cancel();P=0;});D.on("net:resumed",function(){A();});A(NeoConfig.checkmailExt&&(((H.get("externalAccounts")||{}).extAccount)&&10));},"1.0.0",{requires:["rocket-stats","mail-model-datastore","mail-controller-base","common-persist-user-data"]});

YUI.add("mail-controller-processbody",function(D){D.namespace("mail.Controller");var A=D.common.Utils,C=D.common.Utils.rocketstats.stat,B=new function(){strings=window.strings||{forwarded_msg_attached:"Note: Forwarded message is attached.",str_nav_left_untitled:"untitled"};var K={"jpg":1,"jpe":1,"pjpg":1,"pjpe":1,"pjpeg":1,"bmp":1,"jpeg":1,"png":1,"gif":1,"tiff":1,"x-png":1};function H(S,T){if(S){if((T&&T.fid==="%40C%40Chats")||(S.sourceFolderInfo&&S.sourceFolderInfo.fid==="%40C%40Chats")){O(S);(S.body||(S.body={}))&&(S.body.display||(S.body.display=""));S.conversationBody=S.part[0].text;}else{if(T&&T.fid==="%40B%40Bulk"){S=R(S);E(S,T);}else{E(S,T);}}}}function O(S){S.body=S.body||{stationery:"",inlineAttachments:[],isPlainText:0};S.imgAttachments=S.imgAttachments||[];S.nonImgAttachments=S.nonImgAttachments||[];S.attachments=S.attachments||[];S.isTruncated=false;S.yivPrefixNumber="";S.hasForwardedMsg=false;}function N(S,T){S.attachments=S.attachments.concat(T.attachments||[]);S.imgAttachments=S.imgAttachments.concat(T.imgAttachments||[]);S.nonImgAttachments=S.nonImgAttachments.concat(T.nonImgAttachments||[]);S.isTruncated=T.isTruncated||S.isTruncated;S.body.inlineAttachments=S.body.inlineAttachments.concat((T.body&&T.body.inlineAttachments)||[]);if(T.body&&T.body.display){S.body.display=[S.body.display,T.body.display].join("");}S.yivPrefixNumber=S.yivPrefixNumber||T.yivPrefixNumber||"";}function F(S){if(S){return{from:A.escapeEmailObject(S.from),subject:A.escapeStringField(S.subject),to:A.escapeEmailObjectArray(S.to),cc:A.escapeEmailObjectArray(S.cc),bcc:A.escapeEmailObjectArray(S.bcc),replyto:A.escapeEmailObjectArray(S.replyto)};}}function E(W,U){W.cookedHeader=F(W.header);if(W.part){var T=0,V=W.part,S;O(W);while(S=V[T++]){Q(W,S,U);N(W,S);}}(W.body||(W.body={}))&&(W.body.display||(W.body.display=""));if(W.hasForwardedMsg){W.body.display=[strings.str_comp_reply_fwdHeader,"<br/><br/>",W.body.display].join("");}if(W.body&&W.body.display){I(W.body);}}function R(W){var T;if(W.part){var U=0,V=W.part,S;while(S=V[U]){if(S.type=="text"){T=D.Node.create('<div id="__testMsg">'+S.text+"</div>");T.all("a").removeAttribute("href");W.part[U].text=T.get("innerHTML");}U++;}}return W;}function Q(U,T,V){if(!T.size){T.size=T.size||0;}var S=T.isTruncated&&((T.disposition=="inline"||!T.disposition)&&!T.referencedInline&&(T.subtype==="plain"||T.subtype==="html"));T.isTruncated=S;switch(T.type){case"text":P(U,T,V);break;case"image":G(U,T,V);break;case"message":L(U,T,V);break;default:M(U,T,V);break;}}function J(T,S){if(!S.filename){S.filename=S.partId+".txt";}T.attachments.push(S);T.nonImgAttachments.push(S);}function P(T,S,U){if(typeof S.text=="string"){if((S.disposition=="inline"||!S.disposition)&&!S.referencedInline&&(S.subtype==="plain"||S.subtype==="html")){if(typeof T.body.display=="undefined"){T.body.display=S.text;T.body.isPlainText=S.subtype=="plain";}else{T.body.display+="<br />"+S.text;}}else{J(T,S);}}}function G(U,T,V){var X=(T.subtype||"").toLowerCase(),S=(X in K)||0;if(!T.referencedInline){if(!S){M(U,T);}else{if((T.disposition=="inline"||(!T.disposition&&T.contentId))&&!U.isTruncated){if(V.key.blockImages!="none"){U.hasBlockedImages=true;}else{var W=["http://",location.hostname,"/ya/download","?mid=",encodeURIComponent(V.msg.mid),"&pid=",encodeURIComponent(T.partId),"&fid=",encodeURIComponent(V.fid),"&inline=1"].join("");if(NeoConfig.useTNServer&&T.thumbnailurl){U.body.display=[U.body.display,"<div id='part",T.partId,"'>","<img src='",T.thumbnailurl,"&httperr=1&h=600&w=600' ","onerror='bN=document.getElementById(\"part",T.partId,'");bN.innerHTML="<img src=\\"',W,'\\" />";\' />',"</div>"].join("");}else{U.body.display=[U.body.display,"<img src='",W,"' />"].join("");}C("processbody","inline_image_download");}}}}if(!T.filename){T.filename=strings.str_nav_left_untitled+T.partId+"."+T.subtype;}if(S){T.isDisplayable=true;U.imgAttachments.push(T);U.attachments.push(T);}}function L(V,T,W){var X=(T.subtype||"").toLowerCase(),U,S;if(X=="rfc822"){if(T.partId!="TEXT"||V.part.length==2){V.attachments.push(T);V.nonImgAttachments.push(T);}if(T.disposition==""){V.hasForwardedMsg=true;}if(S=T.message){if(!T.filename){U=S.header.subject.substring(0,240)||strings.str_comp_nosubject;T.filename=U+".eml";}E(S,W);N(V,S);}}}function M(a,T,Z){var W=(T.subtype||"").toLowerCase(),S=(T.type||"").toLowerCase(),c,U,X,V=0,Y=a.attachments,b=a.nonImgAttachments;if(S=="application"&&W=="ms-tnef"){if(c=(T.attachments||[])){U=c.length;for(V;V<U;V++){X=c[V];if(X&&X.name){X.filename=X.name;X.partId=T.partId;X.tnefId=X.id;}}b=a.nonImgAttachments=b.concat(c);}}else{if(!T.filename){T.filename=strings.str_nav_left_untitled+T.partId;}Y.push(T);b.push(T);}}function I(S){var U=S.display,V='<div id="STATIONERY_STYLE">',X,W,T;if(/id="STATIONERY_STYLE/.test(U)){U=U.replace(/div\s*id="STATIONERY_STYLE"/,'div id="STATIONERY_STYLE"');X=U.indexOf(V);if(X>-1){W=U.indexOf("</div>",X);T=U.substring(X+V.length,W);U=U.substring(0,X)+U.substring(W+6);S.display=U;S.stationery=T;}}}D.mix(D.mail.Controller.Messages,{_process:function(T,S){T&&!T.body&&H(T,S);}},true);};},"1.0.0",{requires:["common-utils","common-utils-stats"]});

YUI.add("mail-model-datastore",function(D){D.namespace("mail.model");var E="ds:folder:",M="ds:msg:",N="invalidarg",H="change",I="add",B="rename",G="remove",K="%40S%40Search",Q=D.mail,J=D.Lang,P=D.common.Utils,O=function(){return{extend:{}};},F=50,L=Q.model.DataStore={};function C(V,U){var T,S,R;if(J.isObject(V)){S=V.extend=V.extend||{};R=(U&&U.extend)||{};for(T in R){if(!S[T]){S[T]={};P.merge(S[T],R[T]);}}}}function A(S){try{D.fire.apply(D,S);}catch(R){D.use("common-utils-error",function(){P.error.report("datastore error",R,1,1);});}}D.mix(L,{Folders:(function(){var Z=[];function U(d){return(J.isString(d)?d:(d&&d.folderInfo&&d.folderInfo.fid));}function a(d){try{return J.isObject(d)&&U(d);}catch(f){}return false;}function X(d){return(d&&d.folder&&J.isArray(d.folder));}function T(h,e,f){for(var g=0,d=Z.length;g<d;g++){if((f&&h==Z[g].folderInfo.name)||h==Z[g].folderInfo.fid){return e?g:Z[g];}}return e?-1:null;}function V(f){var k,h=!f||(J.isObject(f)&&P.isEmpty(f)),d,g,e=O(),j;if(h){d=[];for(g in Z){d.push(P.wcopy(Z[g],e));}k=d.length?d:null;}else{if(!(j=U(f))){D.error(E+"get:"+N);}k=P.wcopy(T(j),e);}return k;}function W(d){return P.wcopy(T(d,false,true),O());}function S(v,s,h){var e,p,d,t,w=v.numberOfFolders,k,r=O(),m=[],j=[],q=Z.length==0,f=!q&&[],u=!q&&[];function n(z){for(var y=0,x=z.length;y<x;y++){if(T(z[y].folderInfo.fid,true)==-1){return true;}}}function l(x,i){P.assert(a(x));var AC=U(x),AA,AB={},z,y;if(q&&i){return;}if(AC&&AC!=K){if(q){y=x;AA=P.merge({},x);Z.push(AA);}else{z=T(AC,true);if(z==-1){if(i){return;}D.error(E+"set:"+N);}AB=Z[z]||AB;y=h?x:P.diff(x,AB);if(y){AA=h?{}:P.wcopy(AB);P.merge(AA,y,true);!i&&Z.splice(z,1,AA);}}if(y){C(AA,AB);m.push(P.wcopy(AA,r));f&&f.push(AB);u&&u.push(y);}}else{j.push(x);}}if(!(a(v)||(t=X(v)))){D.error(E+"set:"+N);}if(t){e=v.folder;d=e.length;if(k=(!q&&w&&((w!=Z.length)||n(v.folder)))){for(p=0;p<d;p++){l(e[p],k);}if(m.length){A([E+H,f,m,u,s]);}R();q=true;m=[];j=[];f=u=false;}for(p=0;p<d;p++){l(e[p]);}}else{l(v);}var g=D.mail.Tabs&&D.mail.Tabs.getActiveTab();if(g&&g.widget&&g.widget.fid){var o=false;for(var p=0;p<m.length;p++){if(m[p]&&m[p].folderInfo&&(m[p].folderInfo.fid==g.widget.fid)){o=true;}}}if(NeoConfig.fullPage){if(((s=="refresh")&&!o)||((s=="checkmail")&&o)){NeoGV.cancelViewBeacon=false;}}else{if(s=="refresh"){NeoGV.cancelViewBeacon=true;}}if(m.length){A([E+H,f,m,u,s]);}return j;}function c(d,e){if(!U(d)){D.error(E+"add:"+N);}Z.push(P.merge({},d));A([E+I,d,e]);}function Y(i,g,h){var f=U(i),d=T(f,true),e=Z[d];if(!f||!e){D.error(E+"rename:"+N);}P.merge(g,e);Z.splice(d,1,g);A([E+B,e,P.wcopy(g,O()),h]);}function b(e,f){var g=U(e),d=T(g,true);if(!g||d==-1){D.error(E+"remove:"+N);}Z.splice(d,1);A([E+G,J.isObject(e)?e:{folderInfo:{fid:g}},f]);}function R(){Z.length=0;}return{get:V,getByName:W,set:S,remove:b,rename:Y,add:c,extend:C,flush:R};})()});D.mix(L,{Messages:(function(){var f={},b={},n={olist:[],max:F,sync:{}},u=null,i={},s={};function r(w){var v;if(w&&J.isString(w)){v={mid:w};}else{v=J.isObject(w)&&w.mid&&w;}return v;}function V(w,AB,x){var z,v,y,AC,AD,AA=(J.isString(AB)||!AB)?AB:AB.mid;if(!w||!AA){D.error(M+"get:"+N);}z=f[w]||{};v=z[AA];if(x&&v&&v.part){AD=n.olist;for(y=0;y<AD.length;y++){if(AD[y].fid==w&&AD[y].mid==AA){AC=AD.splice(y,1);AD.push(AC[0]);break;}}}if(!v&&j(AA)){AA=c(AA);for(AC in z){if(c(AC)==AA){v=z[AC];break;}}}return P.wcopy(v,O());}function Y(z,x){var y,v,w=(J.isString(x)||!x)?x:x.mid;if(!z||!w){D.error(M+"get:"+N);}y=f[z]||{};return !!((v=y[w])&&v.part);}function o(v,AF,AL,AB,AA,w){var AJ,AG=AB,AN=J.isArray(AF),AD=AN?AF:[AF],x=J.isArray(w)?w:[w],z=[],AH=[],AC=[],AM=[],AK=O(),y,AI;if(("Sent"==v&&"add"==AL&&J.isString(AF))||NeoConfig.noCache==1){n.sync[v]=AI=true;}function AE(AS,AU){var AO,AQ,AP,AR,AT;if(AO=r(AS)){AR=AO.mid;f[v]=f[v]||{};AQ=f[v][AR]||{};AT=P.diff(AO,AQ);if(AT){AP=AB?{}:P.wcopy(AQ,AK);AP=P.merge(AP,AB?AO:AT,true);AG=AG&&(P.isEmpty(AQ)||(AT.part&&!AQ.part));if(AQ.snippet){AP.snippet=AQ.snippet;}if(u){if(AQ.cid){AP.cid=AQ.cid;}if(AQ.sourceFolderInfo){AP.sourceFolderInfo=P.wcopy(AQ.sourceFolderInfo);}if(!AQ.header&&AP.header){AP.header.receivedDate=AQ.receivedDate;}}!AI&&a(v,AA?AA(AP):AP,AG,AU);C(AP,AQ);AH.push(P.wcopy(AP,AK));z.push(AQ);AM.push(AT);}}else{AC.push(AS);}}if(!v){D.error(M+"set:"+N);}for(AJ=0;AJ<AD.length;AJ++){AE(AD[AJ],x[AJ]);}if(AH.length){y=[M+(AG?I:H),v];y=y.concat(AG?[AH,AL]:[z,AH,AM,AL]);A(y);}return AC;}function h(AC,y){var x,AB,AA,v=n.sync,w,z;if(v[AC]&&(AA=f[AC])&&y){for(x=0;x<y.length;x++){if(AB=AA[y[x].mid]){if(!AB.flags){AA[y[x].mid]=Z(AC,y[x]);}else{AB.flags=y[x].flags;}}}v[AC]=0;}if(w=s[AC]){for(x=0;x<y.length;x++){if(z=w[c(y[x].mid)]){P.merge(y[x],z,true);}}}}function S(y,v){var x,w;w=f[y]=f[y]||{};if(x=w[v.mid]){if(!x.flags){w[v.mid]=Z(y,v);}else{if(!x.header){w[v.mid]=v;}else{if(v.cid){x.cid=v.cid;}if(v.receivedDate){x.header.receivedDate=v.receivedDate;}if(v.snippet){x.snippet=v.snippet;}x.flags=v.flags;}}}else{w[v.mid]=v;}}function X(AB,x,y){var AA,w,AC,z,v=n.olist;AA=f[AB];if(AA&&AA[x]){z=AA[x].part;if(!y||!z){delete AA[x];for(w=0;w<v.length;w++){if(v[w].fid==AB&&v[w].mid==x){v.splice(w,1);break;}}}}}function k(w,AC,z){var v,y,x,AB,AA=0;for(v in AC){y=w[v]=AC[v];if(z&&(v in z)){x=z[v];if(typeof x=="object"){AB={};w[v]=D.Object(AB);AA|=k(AB,y,x);}else{if(y!=x){AA=1;w[v]=x;}}}}for(v in z){if(!(v in AC)){x=z[v];if(typeof x=="object"){AB={};w[v]=D.Object(AB);AA|=k(AB,{},x);}else{AA=1;w[v]=x;}}}return AA;}function q(AA,AE,AH,AC){var z,AI,w,v=D.clone(AH,1),y=AH.flags,AB=0,x=O(),AG=[],AF=[],AD=[];if(y&&y.isSpam){delete v.flags.isRead;}if(!J.isArray(AE)){AE=[AE];}f[AA]=f[AA]||{};for(;AB<AE.length;AB++){AI={};if(k(AI,z=f[AA][AE[AB].mid]||AE[AB],AH)){f[AA][z.mid]=AI;AG.push(z);z.flags.isRead?AF.push(v):AF.push(AH);for(w in x){AI[w]=x[w];}AD.push(P.wcopy(AI,x));}}AG.length&&A([M+H,AA,AG,AD,AF,AC]);}function e(AK,z,AI,AL,AD){var AA,AB,AF,y,AH,x,v,AG=[],AE=[],w=O(),AJ=[],AC=0;AA=f[AK]=f[AK]||{};while(AB=AI[AC]){AF=AL[AC++];AH={mid:AF,folderInfo:{fid:z}};x={};k(x,i[AB]||{},AH);y=c(AF);if(b[y]){b[y].fid=z;
}delete i[AB];x.extend={};AG.push({});for(v in w){x[v]=w[v];}AE.push(P.wcopy(x,w));AJ.push(AH);}A([M+H,z,AG,AE,AJ,AD,AK]);window.CollectGarbage&&window.CollectGarbage();}function g(w,AE,x,AB){var AC,z,y,AA,AJ,v,AD,AG,AF=[],AI=n.olist,AH=!AE||J.isArray(AE)?AE:[AE];if(!w){D.error(M+"remove:"+N);}AC=f[w];if(!AH){delete f[w];z=0;while(z<AI.length){if(AI[z].fid==w){AI.splice(z,1);}else{z++;}}}else{for(z=0;z<AH.length;z++){v=r(AH[z]);AG=v.mid;if(AD=AC&&AC[AG]){delete AC[AG];}for(y=0;y<AI.length;y++){if(AI[y].fid==w&&AI[y].mid==AG){AI.splice(y,1);break;}}if(AD&&AD.header&&(AA=v.header)&&(AJ=AA.size)){AD.header.size=AJ;}AD=AD||v;i[AG]=AD;AF.push(AD);}}A([M+G,w,AF.length&&AF,x,AB]);}function d(v){f={};n={olist:[],max:F,sync:{}};if(v){i={};}}function W(v){u=v;}function U(z){var y,w,x,v;for(y in f){w=f[y];for(x in w){if(v=w[x].extend){delete v[z];}}}A([M+"flushExt",z]);}function R(v){this.mid=v;}R.prototype={flags:{},fromConnection:{},folderInfo:{},sourceFolderInfo:{},inboxservices:{},header:{from:{email:"",name:""},to:[],subject:"",subjectDir:"",xapparentlyto:"",snippet:"",externalPopServer:"",receivedDate:"",size:0},cookedHeader:{from:{email:"",name:""},to:[],subject:""}};function Z(x,AC){var v,z=0;if(AC&&AC.mid){for(v in AC){z++;}if(z==1){return new R(AC.mid||"");}}AC=AC||{};var AB=AC.subject||"",AD=AC.from,AE=AC.toEmail,y={mid:AC.mid||"",cid:AC.cid||"",flags:AC.flags||{},fromConnection:AC.fromConnection||{},folderInfo:AC.folderInfo||{},sourceFolderInfo:AC.sourceFolderInfo||{},inboxservices:AC.inboxservices||{},header:{from:AD?w(AD):{email:"",name:""},to:[],subject:AA(AB),subjectDir:(NeoConfig.bidi&AC.subjectDir)?AC.subjectDir:"",xapparentlyto:AC.xapparentlyto||"",snippet:AC.snippet||"",externalPopServer:AC.externalPopServer||"",receivedDate:AC.receivedDate||AC.date||"",size:AC.size||0}};AE&&(y.header.to[0]={name:AE,email:""});y.cookedHeader={from:AD?P.escapeEmailObject(y.header.from):"",subject:AB?P.escapeStringField(y.header.subject):"",to:AE?P.escapeEmailObjectArray(y.header.to):[]};return y;function AA(AF){return(AC.mid&&j(AC.mid,x)&&AF.replace(/\^_/g,""))||AF;}function w(AF){var AG=AF&&AF[0];if(AG){return{email:AG.email||AG.address||"",name:AG.name||AG.displayname||""};}return AF;}}function p(x,w){w=w||{};var y=w?w.header||{}:{},v={mid:w.mid||"",cid:w.cid||"",flags:w.flags||{},from:y.from||"",fromConnection:w.fromConnection||{},folderInfo:{fid:x||"",name:""},sourceFolderInfo:w.sourceFolderInfo||{},toEmail:(y.to?y.to.name||(y.to[0]&&(y.to[0].name||y.to[0].email))||"":""),subject:y.subject||"",xapparentlyto:y.xapparentlyto||"",externalPopServer:y.externalPopServer||"",receivedDate:y.receivedDate||"",snippet:w.snippet||"",receivedDate:y.receivedDate};if(NeoConfig.grid){v.imgAttachments=w.imgAttachments;v.nonImgAttachments=w.nonImgAttachments;}return v;}function c(v){P.assert(J.isString(v));return v.substr(v.lastIndexOf("_"));}function j(v,w){return/^1_0_/.test(v)||(w==K);}function T(v,x,w,y){return !j(v,w)&&!j(x,y)&&(v!=x)&&(c(v)==c(x));}function m(z,v,y){var w,x=f[z];for(w in x){if(!x[w].flags){return 0;}x[w].flags[v]=y;}return 1;}function t(AB,y){var w,AA,z,x,v=n.olist;AA=AB.folderInfo.fid;if(x=f[AA]){delete f[AA];z=y.folderInfo.fid;f[z]=x;for(w=0;w<v.length;w++){if(v[w].fid==AA){v[w].fid=z;}}}}function l(AB,y,AD,z){var x,w,AC,v,AA;if(z==M){return;}for(x=0;AD&&x<AD.length;x++){AC=AD[x];w=y[x];v=w.folderInfo.fid;if(!(J.isUndefined(AC.total)&&J.isUndefined(AC.unread))){AA=(AC.unread==w.total||AC.unread==0)?(w.unread?0:1):undefined;m(v,"isRead",AA);n.sync[v]=AA===undefined;}if(!(J.isUndefined(AC.unread)&&J.isUndefined(AC.total)&&J.isUndefined(AC.size))){A([M+"flush",v,AD,z]);}}}function a(z,x,AC,AF){var AG,AD=x.mid,w=c(AD),AH=n.olist,y,v,AA,AB,AE;if(AC){if(AH.length>=n.max){AG=AH.shift();P.assert(f[AG.fid]);if(f[AG.fid]){if(AG.cid&&u&&u.hit(AG.fid,AG.cid)){y=f[AG.fid][AG.mid];if(y){f[AG.fid][AG.mid]=p(AG.fid,y);}}else{delete f[AG.fid][AG.mid];}}}AH.push({fid:z,mid:x.mid});}if(AF&&AF.charsetHint&&(AE=x.header)){s[z]=s[z]||{};s[z][w]=AE;}f[z][AD]=x;b[w]=AF;}D.on(E+B,t);D.on(E+H,l);return{get:V,set:o,move:e,update:q,remove:g,extend:C,flush:d,flushExt:U,toMessage:Z,toMessageInfo:p,getPermMidPart:c,hasMoved:T,isSearchMid:j,isCached:Y,syncHeaders:h,syncConvHeader:S,removeConvMsg:X,setConvStore:W,applyDiff:k,cacheSize:function(v){!isNaN(v)&&(v>0)&&(n.max=v);},getParam:function(v){return b[c(v)];}};})()});},"1.0.0",{requires:["common-utils","json-stringify"]});

YUI.add("mail-net-transport",function(B){B.namespace("mail.net");B.mail.net.Transport=function(){var U=B.common.net,E=U.SessionMgr,T=B.common.Utils,O=U.Error,M=E.makeFaultObject,P,S="/jsonrpc?appid=_APPID_&m=",H="/ws/mail/v2.0"+S,I="/ws/mailPreferences/v1"+S,N=H.replace(/jsonrpc/,"formrpc"),R={GetUserPreferences:I,SetUserPreferences:I,ListFolders:N,ListMessages:N,ListFolderThreads:N,ListMessagsInThread:N,GetCids:N},D=function(V){return/formrpc/.test(V);};function L(V,a){var Z,b=B.JSON.stringify,W="badparam_",X,Y={"method":V,"params":[a]};Z=b(Y)||"";if(!(/method/.test(Z))){X=Z==""?"empty_":"nomethod_";}else{if(V=="GetDisplayMessage"||V=="MoveMessage"||V=="FlagMessage"){if(!Z.match(/\"mid\"/)||Z.match(/\"mid\":\"\"/)||Z.match(/\"mid\":\[\]/)){X="nomid_";}}}if(X){X=W+X+V;T.rocketstats.stat("mailnet",X);T.assert(0,W,1,function(){if(NeoConfig.isInternal){alert(["Bad param sent:",V,X,"Pl. contact yahoo-mail-dev-support@yahoo-inc.com"].join(" "));}return[X,Z,"params",(a?b(T.merge({},a)):a)].join(" ");});}return Z;}function F(X){function Y(b){var a,Z={};for(a in b){if(b[a]!==undefined){Z[a]=b[a];}}return Z;}var W=["&o=json"],V=E.formatQueryParams(Y(X),true);if(V.length){W.push("&",V);}return W.join("");}function K(Y,W){function X(){var h=d.result.response,m,l,k=[],g,j;for(j=0;j<h.length;j++){m=h[j];if(!m.success){l=m.ErrorResponse||{};l.callback=B.mix(a.batchopcbk[j]||{},{suppressCodes:a.suppressCodes,service:"mail",exceptCodes:a.exceptCodes,suppressLogs:a.suppressLogs,exceptLogs:a.exceptLogs},false);l.status=500;l.fault=M(l.code||"Server.MalformedFault",l.string,{idx:j});k.push(l);}}return k.length&&M("BatchItemError",null,k);}var d=W.body||{},f,e=W.fault,Z=D(Y.request.url),c,b=W.status,V=W.responseText||"",a=W.callback;if(e){if(e.code==O.parse){if(V.match(/<code>Server.ServiceTemporarilyUnavailable<\/code>/)){e.code="Server.ServiceTemporarilyUnavailable";}else{c=W.allHeadersText;c=(c.indexOf("system.hostname")>-1)?"-mail":"-unk";e.code="Server."+(e.detail.respTxt==""?"NoResponse":((f=E.isHtml(W))?"HTMLResponse":"Malformed"))+c;e.subcode=f;}}}else{if(d.error||d.fault){d=d.error||d.fault;}if(b==500){e=M(d.code||"Server.MalformedFault",d.message,d.detail||W);W.body=d;}else{if(b==200){if(Z){W.body={result:d};}else{if(a.batchopcbk){e=X();}}}}W.fault=e;}}function C(X,b,c){var Z={},W,V,Y,a=(c&&c.appid)||"YahooMailNeo";b=b||{};if(!X){throw new Error("CascadeMethod");}Z.headers=b.headers;delete b.headers;W=Z.url=(R[X]||H).replace(/_APPID_/,a)+X;if(X==="GetDisplayMessage"){W=Z.url=W+"&prime="+((b.prime==="Prime")?"1":"0");delete b.prime;}else{if(X==="BatchExecute"&&b.call){for(Y=0;Y<b.call.length;Y++){if("GetDisplayMessage" in b.call[Y]){W=Z.url=W+"&prime=0";delete b.call[Y].GetDisplayMessage.prime;}}}}if(D(W)){V=F(b);if((W.length+V.length)>=2048){V=null;}else{Z.url+=V;}}if(!V){Z.post=function(d){return L(X,d||b);};}Z.callback=J(c,X,b);return Z;}function Q(X,V){var W=P.format[V.callback.responseType];if(W){W(X,V);}}function J(b,V,Z){var a,W,Y,X;if(!b){b={};}B.mix(b,{responseType:"json",method:V,service:"mail",formatter:P.formatter,suppressCodes:[],exceptCodes:[],suppressLogs:[],exceptLogs:[],timeout:NeoConfig.mailwstimeout},false);return b;}function G(V){return P.queue?P.queue(V):V;}P={request:function(V,b,c,Y){var Z,X=C(V,b,c),a=X.headers||{},W;Z=G(E.request(X.url,X.post,X.callback,X.post?"POST":"GET"));a["Accept"]="application/json";for(W in a){Z.setHeader(W,a[W]);}if(Y){Z.send();}return Z;},formatter:Q,format:{"json":K}};return P;}();var A=B.common.persist.NeoData.get("mailnetQueue");if(A||(typeof A==="undefined")){B.use("mail-net-queue",function(){});}if(NeoConfig.enable_etp&&NeoConfig.isInternal){B.use("mail-net-diag","mail-net-ETP");}else{B.use("mail-net-diag");}},"1.0.0",{requires:["common-net-sessionmgr","json-stringify","common-persist-neo-data"]});

YUI.add("mail-net-queue",function(B){var E=B.mail.net.Transport,N=B.common.Utils,H=[],D=false,I="mailnet:queue",C="mailnet:dequeue",J={"GetDisplayMessage":1,"GetMessage":1};function L(O){return !J[O];}function K(O,Q){Q=Q||{};var P=Q.method;D=D||(Q.service=="mail"&&L(P));}function M(O,R){var P,R=R||{},Q=R.service=="mail"&&L(R.method);if(Q){D=false;if(H.length>0){P=H.shift();B.fire(C,P,H.length);P.send();}}}function G(P,O){if(L(O)&&(D||H.length>0)){H.push(P);B.fire(I,P,H.length);}else{P.send();}}function F(R,P){for(var Q=0,O=H.length;Q<O;Q++){if(R.id==H[Q].id){H.splice(Q,1);B.fire(C,R,H.length,true);return;}}if(R){N.rocketstats.stat("mailnet","abort:"+P);R.abort();}}function A(P){function O(Q){this.send=function(){G(Q,this._callback.method);};this.abort=function(){F(Q,this._callback.method);};}O.prototype=P;return new O(P);}B.on("net:start",K);B.on("net:complete",M);B.on("net:abort",M);B.mix(E,{queue:A},true);},"1.0.0",{requires:["mail-net-transport"]});

YUI.add("mail-net-diag",function(A){A.namespace("mail.net");A.mail.net.Diag=function(){var G=A.JSON,C=A.common.net.Diag;function B(H){return H&&H.service=="mail";}function E(H,I){return B(I)&&{log:[D(H,I),"Request :",G.stringify(H.request).substring(0,500)].join(" ")};}function F(J,N){var R=N.callback,H,L,M,I="",Q,P=N.fault,K="request.time.total";try{if(B(R)&&N.responseHeaders){H=N.responseHeaders["X-Ywsc-Debug"];H=H&&H.length?G.parse(H):{};if(!H[K]){H[K]=N.responseHeaders["X-Response-Time"];}if(M=H[K]){C.addStat("mailws","RespTime_"+R.method,H[K]);}if(M&&(M>1000)){M='<span style="color:red">'+M+"</span>";}L={log:G.stringify(H),dbgui:["ws :",(M||"X")," ms"].join("")};}}catch(O){}return L||"";}function D(I,R){function K(T){var V;try{return(V=T.postdata)&&G.parse(V).params[0];}catch(U){}}if(B(R)){var M,P=I.request,L,Q,N,S,J,O="",H=R.method;if(N=R.batchop){J="<br/> ---";O=N.join(J);}else{if(O=="ListMessages"){O=((Q=P.url.match(/startInfo=(\d)+/))&&Q[0]);}else{if(O=="GetDisplayMessage"&&(S=((L=K(P))&&L.message))){for(M=0;S&&M<S.length;M++){O+=" "+S[M].mid;}}}}return O;}}C.addLogger("net:start",E);C.addLogger("net:end",F);}();},"1.0.0",{requires:["common-net-diag","json-stringify","json-parse"]});

YUI.add("mail-ui-messagepane-utils",function(G){G.namespace("mail.ui.MessagePaneUtils");var H=G.mail.ui.MessagePaneUtils,D=G.common.Utils;function F(I){if(I){I.hRenderedEvent&&I.hRenderedEvent.detach();delete I.hRenderedEvent;}}function C(K,L){var P,Q,I,N,R,J=[],O,T,S,M=[];if(K&&!NeoConfig.targetingOptOut&&NeoConfig.intl=="us"&&!NeoConfig.partnerType){if(K.extend&&K.extend.shortcuts){P=K.extend.shortcuts.categories;if(G.Lang.isArray(P)){R=P.length;for(N=0;N<R;N++){O=P[N][0];J.push(O);}}Q=K.extend.shortcuts.annotations;for(N in Q){I=Q[N];if(I&&I.text){if(I.capAbtScore>0.5){M.push(Q[N].text);}}}}J=J.join(",");if(L!="Draft"&&L!="%40C%40Chats"&&L!="Sent"){if(K.header&&K.header.from&&K.header.from.email){S=K.header.from.email.split("@");T=S[1];}}}return{category:J,domain:T,terms:M};}function A(I){I.stop();D.Stopwatch.get("MsgInPreview",0);}function E(I,Q,K,P){var N,M;if(!I||(I.mid!=P)){var O=Q&&Q.isSandboxActive&&Q.isSandboxActive(),L=O&&NeoConfig.om&&NeoConfig.om.isMsgReadAppRTB,J;I=D.Stopwatch.get("MsgInPreview","MsgInPreviewAbort",1);I.title="MsgInPreview Stopwatch (sandbox "+(O?"enabled":"disabled")+")\n";I.mid=P;I.hRenderedEvent&&I.hRenderedEvent.detach();I.hMsgReadAppEvent&&I.hMsgReadAppEvent.detach();if(Q){N=G.mail.model.DataStore.Folders.get(K);M=G.mail.ui.common.StringUtils.getSystemFolderName(K,N.folderInfo.name);I.hRenderedEvent=Q.once("renderComplete",function(){F(I);if(!L){A(I);}G.use("rocket-stats",function(S){var R=(Q.get("vertical"))?"vertpreviewMessageRead":"previewMessageRead";S.common.Utils.rocketstats.stat("messageread",R);});Q&&Q.get("active")&&Q.fire("darlaEvent",{action:(NeoConfig.low_bandwidth)?"msgread_reading_pane_low":(NeoConfig.ssl_launch?"msgread_reading_pane_ssl":"msgread_reading_pane"),value:{siteAttr:C(G.mail.model.DataStore.Messages.get(K,P),K),foldername:M}});});if(L){J=G.later(3000,null,A,[I]);I.hMsgReadAppEvent=Q.once("msgReadAppComplete",function(){J.cancel();A(I);delete I.hMsgReadAppEvent;});}}}return I;}function B(K){if(G.contacts&&G.contacts.utils&&G.contacts.api){var J=G.contacts,L=J.utils,M=J.api,I=G.common.persist.UserData;if(!K||K===""){return 1;}if(I.isUsersEmailAddress(K)||L.isEmailKnown(K,true)){return 1;}if(!L.areContactsLoaded()){M.load();return 1;}return 0;}else{return 1;}}G.mix(H,{getAdSiteAttribsFromMesgObj:C,handleMsgInPreviewStopwatch:E,cleanUpStopwatch:F,isKnownEmailAddress:B});},"1.0.0",{requires:["common-utils-stats","mail-ui-messagepane-utils-shared"]});

YUI.add("mail-ui-messagepane-utils-shared",function(B){B.namespace("mail.ui.MessagePaneUtils");var C=B.mail.ui.MessagePaneUtils;function E(R){var N="",L,Q,P,M,K=R.toLowerCase();if(K.indexOf("http://")==0||K.indexOf("https://")==0||K.indexOf("ftp://")==0){return"";}if(K.indexOf("mailto:")==0){R=R.substring(7);}L=R.indexOf("?");if(L>-1){R=R.substring(0,L);}if(R&&R.length){Q=/\s*([^@ ;,<>]+@[^@ ;,<>]+\.[^@^? ;,<>]+)*/ig;P=R.match(Q);for(var O=0;O<P.length;O++){M=P[O].replace(/^\s+/,"");if(M.length){N+=(N.length)?(","+M):M;}}}return N;}function J(N){var K="";if(N&&N.length){var M=/^(http:\/\/opi.yahoo.com\/online\?u=[a-zA-Z0-9.@_]+)/i,L=N.match(M);K=L?L[L.length-1]:"";}return K;}function H(N){var L="",O="";var M=N&&N.all("tt");if(M&&!M.isEmpty()){O=M.get("innerHTML").join("");}else{O=N&&N.get("innerHTML");}if(O&&O.length){O=O.replace(/&amp;/gi,"&");var K=/^(http:\/\/mrd.mail.yahoo.com\/)(\w+)\?*(.*)/i;L=O.match(K)?O:false;}return L;}function A(M){var L={},S,K,N,R,O,Q,P;if(M.extend&&M.extend.shortcuts&&M.extend.shortcuts.annotations){R=M.extend.shortcuts.annotations;S=/(day\w+)|(date\w+)|(month\w+)|(time_only)/;for(Q in R){K=R[Q];if(K&&K.type&&K.type[0]){O=K.type[0].match(S);if(O){L[Q]=R[Q];}}}L.mid=M.mid;L.fid=M.fid;}else{if(M.annotation){R=M.annotation;S=/(day\w+)|(date\w+)|(month\w+)|(time_only)/;for(Q in R){N=R[Q];O=Q.match(S);if(O){for(P=0;P<N.length;P++){L[N[P].id]=N[P];}}}L.mid=M.messageid;L.fid=M.folderid;}}return L;}function I(L,O,N,P){var M=O||(L&&((!N&&L.one(".tripane.content"))||L.one(".message.content"))),K=M&&M.all(".yshortcuts"),Q;if(NeoConfig.livewordEventEnabled&&P&&(P.extend||P.annotation)){Q=A(P);}if(K){K.each(function(S){var R=S.get("innerHTML"),W=E(R);if(W&&W.length){var X=S.get("parentNode");if(X.get("tagName")=="A"&&X.hasAttribute("ymailto")){}else{var V=[];V.push('<a href="mailto:'+W+'" ');V.push('target="_blank" ymailto="mailto:'+W+'" rel="nofollow">');V.push('<span id="'+S.get("id")+'" class="yshortcuts">');V.push(R);V.push("</span></a>");var Z=B.Node.create(V.join(""));try{S.replace(Z);}catch(T){}}}else{if(Q&&Q[S.get("id")]){if(S.hasAttribute("data-action")&&S.get("data-action")=="calevent"){}else{S.setAttribute("data-action","calevent");S.setAttribute("mid",Q.mid);S.setAttribute("fid",Q.fid);S.setAttribute("title",strings.str_msg_addevent_tooltip);S.addClass("ycalshortcuts");}}else{var Y=J(R);if(Y){var V=[];V.push('<span id="'+S.get("id")+'" class="yshortcuts">');V.push('<img src="'+Y+'" alt="'+Y+'"/>');V.push("</span>");var Z=B.Node.create(V.join(""));S.replace(Z);}else{var U=H(S);if(U){var V=[];V.push('<a href="#" target="_blank" rel="nofollow">');V.push('<span id="'+S.get("id")+'" class="yshortcuts">');V.push(R);V.push("</span></a>");var Z=B.Node.create(V.join(""));Z.setAttribute("ymrd",U);S.replace(Z);}}}}});}}function G(K){var T=0,N=0,U,M=0,W=0,O=K.one(".message-header h3 span.btn"),V="",R=K.one(".message-header h3"),Q=K.one(".header-expand"),S=K.one(".subanchor"),P=NeoConfig.bidi?"right":"left",L=0;if(NeoConfig.isFresh){U=K.one(".fromto");if(S&&U&&R){T=R.getComputedStyle("width");if(T==""||parseInt(T)<=0){T="90%";}if(T!="0px"){S.setAttribute("style","max-width:"+T);L=S.getComputedStyle("width");if(L&&parseInt(L)>0){M=parseInt(L)+40+"px";}else{M="50%";}if(R.ancestor(".collapsed-header")){U.setStyle(P,M);}}}return;}if(O){W=O.get("offsetWidth");}if(R&&Q){T=(R.get("offsetWidth"))-29;N=Q.get("offsetWidth");M=(T-(N+W));V="max-width:"+M+"px";if(S){S.setAttribute("style",V);}}}function F(M){var K=M?B.one(M).one("body"):B.one("body");if(!K.one("#copyText")){var L=500;K.append('<input type = "text" value = "" style = "opacity: 0;  filter: alpha(opacity = 0); position:absolute; width:1px; height: 1px; left:'+L+'px;" id = "copyText">');}}function D(O,M,N){var K=M?B.one(M).one("body"):B.one("body"),L=K.one("#copyText");L._node.value=O;L.setY(K.get("scrollTop")+20);L.focus();L.select();setTimeout(function(){if(N){N.focus();}},200);}B.mix(C,{extractEmailAddress:E,extractOPILink:J,extractMRDLink:H,getDateAnnotations:A,convertShortcuts:I,resizeSubject:G,initializeCopyText:F,copyToClipboard:D});},"1.0.0");

YUI.add("mail-ui-common-string-utils",function(D){D.namespace("mail.ui.common.StringUtils");var C=D.mail.ui.common.StringUtils,B=D.common.Utils,A=B.unescapeHtml;D.mix(C,{getSystemFolderName:function(H,E,G,F){switch(H){case"Inbox":if(F){return strings.str_nav_email_from_ctcts;}return G?strings.str_tabs_inbox:strings.str_nav_inbox;case"Draft":return G?strings.str_tabs_drafts:strings.str_nav_drafts;case"Trash":return G?strings.str_tabs_trash:strings.str_nav_trash;case"Sent":return G?strings.str_tabs_sent:strings.str_nav_sent;case"%40B%40Bulk":return G?strings.str_tabs_spam:strings.str_nav_spam;case"%40C%40Chats":if(NeoConfig.hasConv){return G?strings.str_tabs_IM:strings.str_nav_IM;}else{return G?strings.str_tabs_conversations:strings.str_nav_conversations;}case"%40S%40Search":return strings.str_tabs_search;}return E?decodeURIComponent(E):"";}});},"1.0.0",{requires:["common-utils"]});

YUI.add("mail-ui-navkeys",function(E){E.namespace("mail.ui");var A={"input":1,"textarea":1,"select":1};var C={};E.mail.ui.navKeys={charCodes:[8,27,67,69,77,78,83,188,191],onKeyDown:function(P){P=P||{};var R=E.mail.Tabs,T=P.keyCode,U=P.metaKey,F=P.ctrlKey,M=P.altKey,H=P.shiftKey,Q=P.target,I=Q&&Q._node?Q.get("tagName").toLowerCase():"",L,J=R.getTab(function(V){return V.type&&V.type==="author"&&V.composeActive&&V.get("active")==1;}),N=E.one("#custom-folders li:hover"),S=E.one("#system-folders li:hover"),K=E.UA.os=="windows",O=E.UA.os=="macintosh";if(!(I in A)&&(!J||T==8||T==188||T==191)){if(F&&H&&T=="67"){E.one("body").toggleClass("l-headercollapsed");}if(F&&H&&T=="77"){E.one("body").toggleClass("leftrailcollpased");}if(((K&&F&&H)||(O&&U&&H))&&((T=="188")||(T=="191"))){E.use("common-ui-dialog-helper",function(a){var Z=a.common.ui.DialogHelper,W=[],V,X;s=[];if(NeoGV.sp){s.push("SpaceId:");s.push(NeoGV.sp);s.push(" ");W.push(s.join(" "));}for(X in NeoGV.ads){if(NeoGV.ads.hasOwnProperty(X)){V=[];V.push("Position:");V.push(X);V.push(" ");V.push("AdID:");V.push(NeoGV.ads[X].adId);V.push(" ");if(NeoGV.ads[X].bookId&&NeoGV.ads[X].bookId!="-1"){V.push("BookingID:");V.push(NeoGV.ads[X].bookId);}else{V.push("MatchID:");V.push(NeoGV.ads[X].matchId);}W.push(V.join(" "));}}Z.alert({modal_classes:"lg",hd:"Ad Information",bd:"<pre>"+(W.length>0?W.join("\n"):"No items to display in this view")+"</pre>"});P.preventDefault();});}if(!U&&!F&&!M){switch(T){case 8:P.preventDefault();break;case 27:var G=R.getActiveTab();if(G&&G.widget.type=="omtab"){G.set("close",1);}P.preventDefault();break;case 78:setTimeout(function(){E.fire("newMessage");},0);P.preventDefault();break;case 77:E.fire("checkmail:pressed",P.shiftKey);break;case 83:P.preventDefault();E.use("mail-ui-searchbar",function(V){V.mail.ui.SearchBar.focus();});break;case 67:if(N){P.currentTarget=N;E.fire("#custom-folders.li:keydown",P);}break;case 69:if(S){P.currentTarget=S;E.fire("#system-folders.li:keydown",P);}if(N&&NeoConfig.emptyFolders){P.currentTarget=N;E.fire("#custom-folders.li:keydown",P);}break;case 191:if(H){E.use("mail-ui-shortcuts-dialog",function(V){V.mail.ui.ShortcutsDialog.show();});}break;default:L=B(T,H);if(E.Object.hasKey(C,L)){E.use("om-common-utils",function(V){V.om.common.Utils.fireEvent(C[L]);});P.preventDefault();}break;}}else{if((T==69)&&H&&((!O&&F)||(O&&U))){P.preventDefault();if(P.target.getAttribute("id")=="menu-move"){E.fire("msgsview:movetonewfolder");}else{E.fire("newfolder:pressed");}}}}},onKeyPress:function(G){if(E.UA.os=="macintosh"&&E.UA.gecko&&G.charCode==63){var F=G.target&&G.target._node?G.target.get("tagName").toLowerCase():"";if(!(F in A)){E.use("mail-ui-shortcuts-dialog",function(H){H.mail.ui.ShortcutsDialog.show();});}}}};function B(G,F){return F?"shift+"+G:G;}function D(K,G){var J,F,M,I,H=E.mail.ui.navKeys;E.Array.each(G,function(N){if(N.keycode){J=N.keycode;F=N.shiftKey||false;M=N.data_action;if(J&&M){C[B(J,F)]=M;H.charCodes.push(J);}}});var L={charCodes:H.charCodes,onKeyDown:H.onKeyDown,onKeyPress:H.onKeyPress};E.mail.ui.Workspace.set("navKeys",L);H=L;}E.on("menu:config",D);},"1.0.0",{requires:["mail-controller-folders"]});

YUI.add("mail-ui-searchbar",function(F){var E=F.common.Utils,A=E.escapeHtml,C=F.Node.one,B=NeoConfig&&NeoConfig.uh2Enabled,D=NeoConfig.uh3Enabled;var G=new function(){var Q=this,S=D?"input.yucs-search-input":(B?"input.yucs-search-field":"#searchfield"),J=F.common.Utils.substitute(strings.str_cfg_url_search,null,null,null,strings),P="p",K={"ei":"UTF-8","fr":strings.str_cfg_fr_code},R={event:"",isSet:false};function N(){return(NeoConfig&&NeoConfig.searchField)||F.one(S);}function T(){var U=N();if(U){U.focus();}}function I(U){var V=U||N().get("value");if(R.isSet){F.fire(R.event,{query:V});}else{F.fire("search:input",{newSearch:true,query:V});}}function M(){var U,V,W=N().get("value");if(W){U=J+"?"+P+"="+encodeURIComponent(W);for(V in K){U+="&"+V+"="+A(K[V]);}}else{U=J+"?fr="+K["fr"];}F.fire("search:web",U);window.open(U,"_blank");}function H(U){if(!U.mode||U.mode==="default"){R.isSet=false;R.event="";}else{R.isSet=true;R.event=U.event||"omsearch:input";}}function O(){F.on("search:config",H);F.on("fireSearch",I);var X=N();if(B){F.Global.on("ucs:verticalSearchAction",function(a){var Z;NeoConfig.currentQuery=a.query;I(a.query);F.fire("mt:click",{action:"mail_search",spid:"search_results"});Z=new F.EventTarget();Z.publish("ucs:mailSearch",{broadcast:2,emitFacade:true});Z.fire("ucs:mailSearch");});if(X){X.on("keydown",function(Z){switch(Z.keyCode){case 65:if(Z.ctrlKey||Z.metaKey){Z.stopPropagation();}break;}});}}else{var V=C("#search"),U,Y,W;if(V){V.on("click",function(Z){var a=F.common.Utils.getDataAction(Z);if(a.action=="search"){I();}});U=C("#searchweb");if(U){U.on("click",function(){M();});}if(X){X.on("keydown",function(Z){switch(Z.keyCode){case 65:if(Z.ctrlKey||Z.metaKey){Z.stopPropagation();}break;case 13:(strings.str_cfg_tog_mailSearchEnabled!==undefined&&strings.str_cfg_tog_mailSearchEnabled===false)?M():I();Z.halt();break;}});}}}if(NeoConfig.bidi&&X){X.on("focus",function(){if(!X.bidiTextEntry&&F.Plugin.BidiTextEntry){X.plug(F.Plugin.BidiTextEntry);}});}if(strings.str_cfg_tog_show_search_desc){F.use("mail-ui-searchdesc",function(Z){Z.mail.ui.SearchDesc.bindSearchDesc();});}}function L(){O();}F.mix(Q,{render:L,getSearchField:N,focus:T});};F.namespace("mail.ui");F.mail.ui.SearchBar=G;},"1.0.0",{requires:["common-utils","node-pluginhost"]});

YUI.add("_shared_module_message_prompt",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_message_prompt={base:"<h2>{{str_msg-view_click_above}}</h2>"};},"1.0.0");

YUI.add("minty_module_comm_modes",function(A){A.namespace("ui.Templates");A.ui.Templates.minty_module_comm_modes={base:'<div class="comm-modes unselectable" unselectable="on"> <h2>{{str_msg-view_click_above}}</h2> <div id="msg-preview-media-modes" class="media-modes msg-preview"> <span class="btn left right" data-action="compose"><a class="email" href="{{global_url_base}}/app/minty/compose" title="{{str_msg-view_comm_modes_email_attr}}"><i>{{str_msg-view_comm_modes_email}}</i></a></span> {{has_im}} </div></div>',has_sms:'<span class="btn left right"><a class="sms" data-action="loadContent" href="{{global_url_base}}/app/minty/conversation/?type=sms" target="dock" title="{{str_msg-view_comm_modes_sms_attr}}"><i>{{str_msg-view_comm_modes_sms}}</i></a></span> ',has_im:'{{has_sms}} <span class="btn left right" data-action="new-conv"><a class="im" data-action="loadContent" href="{{global_url_base}}/app/minty/conversation/?type=im" target="dock" title="{{str_msg-view_comm_modes_im_attr}}"><i>{{str_msg-view_comm_modes_im}}</i></a></span> '};},"1.0.0");

YUI.add("minty_module_toolbar_inbox",function(A){A.namespace("ui.Templates");A.ui.Templates.minty_module_toolbar_inbox={base:'<div class="switcher shaded"> <span class="btn left {{has_im_else}}" id="main-btn-new"><a title="{{compose_str}}" href="{{global_url_base}}/minty/page/compose" data-action="compose" draggable="false">{{compose_str}}</a></span>{{has_im}}</div>',has_im_else:"right",has_im:'<span class="btn right menu" id="btn-new" data-action="menu"><a href="#" title="{{str_toolbar_comp_menu_toggle_attr}}" draggable="false"><b>{{str_toolbar_comp_menu_toggle}}</b></a></span>'};},"1.0.0");

YUI.add("minty_module_toolbar_inbox_default_rollup",function(A){A.namespace("ui.Templates");A.ui.Templates.minty_module_toolbar_inbox_default_rollup={base:'<div id="pagetoolbar" class="{{msgliststate}}"> <span class="btn left right multimsg"><a href="#" title="{{str_delete_email_attr}}" data-action="delete">{{str_delete}}</a></span> <span class="btn left onemsg"><a href="#" title="{{str_reply_attr}}" data-action="reply_sender">{{str_reply}}</a></span><span class="btn right menu onemsg" data-action="menu" id="btn-reply"><a href="#" title="{{str_toolbar_reply_menu_toggle_attr}}"><b>{{str_toolbar_reply_menu_toggle}}</b></a></span> <span class="btn left onemsg"><a href="#" title="{{str_forward_attr}}" data-action="forward">{{str_forward}}</a></span><span class="btn multimsg"><a href="#" title="{{str_spam_attr}}" data-action="spam">{{str_spam}}</a></span><span class="btn menu right multimsg" id="btn-move" data-action="menu"><a href="#" class="icon" title="{{str_move_attr}}"><i>{{str_move}}</i><b></b></a></span> {{has_preview_pane}} {{has_switch_view}} <span class="btn left right menu" data-action="menu" id="btn-actions"><a href="#" class="icon" title="{{str_actions_email_attr}}"><i>{{str_actions}}</i><b></b></a></span>  {{has_pagination}}</div>',has_preview_pane:'<span class="btn left right" id="btn-togglepreview" data-action="toggle-preview-pane"><a href="#" title="{{str_msg-view_btn_togglepreview_attr}}">{{previewToggle}}<b></b></a></span> ',has_switch_view:'<span class="btn left right menu" data-action="menu" id="btn-ml-preview"><a href="#" class="icon" title="{{str_msg-view_hd_modal}}"><i>{{str_show_message_view_options}}</i><b></b></a></span> ',pagination_inner:'<span class="btn left ufirst{{first_class_disabled}}"><a href="#" role="button" aria-disabled="{{first_aria_disabled}}" class="icon first" data-action="home" title="{{str_msg_list_first}}"><i>{{str_msg_list_first}}</i></a></span><span class="btn uprev{{first_class_disabled}}"><a href="#" role="button" aria-disabled="{{first_aria_disabled}}" class="icon previous" data-action="previous-page" title="{{str_msg_list_previous}}"><i>{{str_msg_list_previous}}</i></a></span><span class="pagination-count" id="page-info" title="{{str_msg_list_page_info}}"><i>{{current}}</i></span><span class="btn unext{{last_class_disabled}}"><a href="#" role="button" aria-disabled="{{last_aria_disabled}}" class="icon next" data-action="next-page" title="{{str_msg_list_next}}"><i>{{str_msg_list_next}}</i></a></span><span class="btn right ulast{{last_class_disabled}}"><a href="#" role="button" aria-disabled="{{last_aria_disabled}}" class="icon last" data-action="end" title="{{str_msg_list_last}}"><i>{{str_msg_list_last}}</i></a></span>',has_pagination:'<div class="rht pagination shaded" role="presentation">{{pagination_inner}}</div> '};},"1.0.0");

window.strings=strings;};
var strings= {"str_error_title":"{{str_branding_mail}}","str_error_wstoken":"Failed to get valid web service token - reloading Y!Mail","str_error_ydod_error":"Unable to process request at this time \u2014 error 999","str_error_ydod_token_link":"While this error is usually temporary, if it continues, please <a href={linkURL} target=_blank>contact us.<\/a>","str_error_ydod_title":"Your request cannot be processed","str_error_reload_user_change":"You are no longer signed in to {{str_branding}} as '{{username}}'.&#010; The application will now close.","str_error_relogin":"Sorry, your session has expired. To protect your account, you need to confirm your password periodically.","str_error_signin":"Sign In Again","str_error_Connect":"{{str_branding_mail}} was unable to connect. Please reload the page or verify that your network connection is active.","str_branding_mail":"Yahoo! Mail","str_branding":"Yahoo!","str_error_AccountVerificationRequired":"Account verification required","str_error_BadFrom":"Missing or malformed from address","str_error_BadMime":"Mime Error","str_error_BadRecipient":"Missing or malformed recipient","str_error_BadRequest":"Bad request.","str_error_CannotSendThisMessage":"Cannot send this message","str_error_ComposeAttachFailed":"Attaching a file Failed","str_error_ComposeError":"Compose Failed","str_error_ComposeFailed":"Sorry, but we had a problem composing your message.","str_error_ComposeNavigateAway":"You were in the middle of composing a message. You will lose your changes if you press OK.","str_error_DailyLimitExceeded":"You have reached your message sending limit for the day.","str_error_DownloadError":"Error while downloading the files.","str_error_EmptyFolderFailed":"Failed to empty folder","str_error_FarmNameNotFound":"Sorry, but there seems to be a problem with your account. We suggest you close this window and re-launch {{str_branding_mail}}.","str_error_FolderAlreadyExists":"A folder with this name already exists.","str_error_FolderCreateFailed":"Failed to create folder","str_error_FolderFetchFailed":"Failed fetching \"Sent\" folder","str_error_FolderIdDoesntExist":"It looks like this folder isn't around anymore. Perhaps you already deleted or renamed it in another browser window?","str_error_FolderIdIsSystemFolder":"System folders cannot be renamed or removed","str_error_FolderListFetchFailed":"Error fetching folder list","str_error_FolderNameIllegalCharacter":"Illegal character in foldername, only letters, numbers, dashes and underscores allowed.","str_error_FolderRemoveFailed":"Error removing folder","str_error_GetDisplayMessageFailed":"Sorry, but we were not able to get your message","str_error_GetMessageFailed":"Error fetching emails to flag","str_error_GetMessageInvalidId":"Sorry, but it looks like this message is not really in your folder. Perhaps you already deleted or moved this message? Please refresh your Inbox and try again.","str_error_HourlyLimitExceeded":"You have reached your message sending limit for the hour.","str_error_HumanVerificationFailed":"Human verification failed","str_error_HumanVerificationRequired":"Human verification required","str_error_LaunchTAE":"An error occurred when trying to connect to {{str_branding}}. This error could be temporary.","str_error_ListMessagesFailed":"Looks like we had a problem getting some new messages. This may be a temporary problem. Please reconnect and try again.","str_error_MailErrorTitle":"Temporary Error","str_error_MailUnexpectedResponse":"An unexpected problem has occurred. &#010;&#010;Performing your action again in a few moments will probably solve the problem. &#010;If it persists, we suggest you close this window and re-launch {{str_branding_mail}}.","str_error_MailboxBusy":"Sorry, there was a problem accessing your Mailbox. Please try again in 10 minutes.","str_error_MailboxOpenFailed":"Failed to open mailbox","str_error_MaxBCCAddressesExceeded":"Too many recipients for Bcc.","str_error_MaxCCAddressesExceeded":"Too many recipients for Cc.","str_error_MaxToAddressesExceeded":"Too many recipients for To.","str_error_MaxTotalAddressesExceeded":"Too many recipients.","str_error_MessageDeleteFailed":"Failed to delete message","str_error_MessageFetchFailed":"Failed to fetch message","str_error_MessageIdsNotFound":"Cannot flag emails that don't exist in the specified folder","str_error_MessageNotFound":"Failed to fetch message","str_error_MessageSaveFailed":"Failed to save message","str_error_MessageSelectionNotFound":"Cannot flag emails based on a selection that doesn't match any emails in the folder","str_error_MessageToLarge":"The message you tried to send was too large","str_error_MessageTooLargeForSomeRecipients":"The message you tried to send was too large for some recipients","str_error_MetaDataMissingPath":"Sorry, but there seems to be a problem with your account","str_error_MissingApplicationID":"Missing or bad application ID","str_error_MissingCredentials":"Missing credentials","str_error_MissingRecipients":"No recipient set.","str_error_MoveMessagesInvalidId":"Sorry, but we were unable to access your message. Perhaps you already moved or deleted it somewhere else? Please refresh your folder.","str_error_NicknameExpansionFailed":"Please check all email addresses. Looks like one of them may not be formatted correctly.","str_error_NoResponse":"The response was empty","str_error_NoSenderSpecified":"Cannot save a message with no sender specified","str_error_Offline":"Your browser may be in Offline mode. Please make sure the Work Offline option under the browser's File menu is not checked and try again. If you continue to see this error, you're probably no longer connected to the Internet. Please reconnect and try again.","str_error_OfflineTitle":"Your browser may be in Offline mode","str_error_Print":"Print Failed","str_error_ResetSpamFilterFailed":"The operation to reset the spam filter failed","str_error_SaveMessageFailed":"Error saving message to the \"Sent\" folder","str_error_SendMessageFailed":"Error sending message","str_error_SendMessageFailedForSomeRecipients":"There was an error while sending the message to some recipients","str_error_ServerError":"Server Error.","str_error_ServiceUnavailable":"Service Temporarily Unavailable","str_error_SetUserDataFailed":"Error saving user data","str_error_SpamReportingFailed":"Error reporting spam","str_error_SpamTrainingFailed":"Error training spam filter","str_error_Timeout":"Operation timed out. Please try again. If the problem persists, please check your network connection.","str_error_TooManyCallsBatched":"Cannot batch more than 5 calls together in one single request","str_error_TooManyFolders":"Sorry, you can only create up to 497 personal folders","str_error_TooManyMessagesRequested":"Cannot request more message bodies than are allowed to be fetched in a single call","str_error_UnexpectedTitle":"A Connection Failure Has Occurred","str_error_Unk":"{{str_branding_mail}} was unable to connect. Please reload the page or verify that your network connection is active.","str_error_Unk_title":"Network Error","str_error_UserDataFetchFailed":"Sorry, but we were not able to fetch your user information","str_error_UserOverQuota":"Operation failed. Account over quota.","str_error_UserPreferenceFetchFailed":"Error fetching user preferences","str_error_UserSuspended":"Account is suspended from sending.","str_error_UserTempSuspended":"To protect you, your account has been suspended for up to 48 hours.","str_error_ab_invalid_field_data":"Please enter valid contact details, current content is too long or invalid","str_error_ab_size_exceeded":"Cannot add contact. There are too many contacts in this addressbook.","str_error_add_event_problem":"Sorry, there was a problem adding the event. Please try again.","str_error_btn_reconnect":"Reconnect","str_error_btn_relaunch":"Relaunch {{str_branding_messenger}}","str_branding_messenger":"Yahoo! Messenger","str_error_catastrophic_error":"Unfortunately, you cannot connect to {{str_branding_messenger}} at this time.","str_error_disconnected_error":"You have been disconnected from {{str_cfg_branding_messenger}}.","str_error_download_message_viewing_error":"Sorry, there was a problem opening the message.","str_error_download_not_scannable":"The attachment you are trying to download can not be virus scanned.","str_error_email_address":"Please enter a valid email address format: name@domain.com.","str_error_error_searching_messages":"There was an error while searching for emails.","str_error_extFetch":"External account retrieval failed. Please go to Options and verify your information for this account.","str_error_extFetch1":"Error receiving messages from {{error_extFetch_email1}}. Please go to Options, Account and verify your information for this account.","str_error_extFetch2":"Error receiving messages from {{error_extFetch_email2}} and {{error_extFetch_email1}}. Please go to Options, Account and verify your information for this account.","str_error_extFetch3":"Error receiving messages from {{error_extFetch_email3}}, {{error_extFetch_email2}} and {{error_extFetch_email1}}. Please go to Options, Account and verify your information for this account.","str_error_extFetch_badFolder":"We're sorry, but we're having trouble opening up your external account {{userName}}:{{server}} to retrieve your messages.  Check your settings in Mail Options and try again.","str_error_extFetch_badHost":"We're sorry, but it looks like there might be something wrong with the settings of the external account {{userName}}.  Please check your {{server}} in Mail Options and try again.","str_error_extFetch_badLogin":"It looks like there might be something wrong with the settings of this external account {{userName}}.  Please check your user id and password for this account in Mail Options and try again.","str_error_extFetch_badMailbox":"We're sorry, but we're having trouble opening up your external account  {{userName}}:{{server}} to retrieve your messages.  Check your settings in Mail Options and try again.","str_error_extFetch_badMessage":"We're sorry, but we're having trouble retrieving messages from your external account  {{userName}}:{{server}}.  Check your settings in Mail Options and try again.","str_error_extFetch_badPassword":"It looks like there might be something wrong with the password settings of the external account {{userName}}.  Please check your password for this account in Mail Options and try again.","str_error_extFetch_badPort":"It seems there was an error communicating with the external POP server {{server}}.  Please check your settings for {{userName}} in Mail Options and try again.","str_error_extFetch_badUserId":"It looks like there might be something wrong with the settings of this external account.  Please check your user id : {{userName}} for the account {{server}} in Mail Options and try again.","str_error_extFetch_busy":"We're sorry, but it looks like your external account {{userName}} is busy.  Please try again in a while.","str_error_extFetch_connectionLost":"It seems there was an error communicating with the external POP server.  Please check your settings in Mail Options and try again.","str_error_extFetch_connectionTimeout":"Timed out","str_error_extFetch_largeMsg":"It looks like there is really big message in this external account: {{userName}}.  Please delete the message locally and try again.","str_error_extFetch_lastUnsupported":"It seems there was an error communicating with the external POP server {{server}}.  Please check your settings in Mail Options and try again.","str_error_extFetch_messageBlocked":"It looks like there is message from a blocked sender in this external account: {{userName}}.  Please delete the message locally and try again.","str_error_extFetch_quota":"It looks like you have exceeded your mailbox quota for this external account: {{userName}}.  You should delete some messages by logging into that account.","str_error_extFetch_unknownError":"It seems there was an error communicating with the external POP server {{server}}.  Please check your settings for {{userName}} in Mail Options and try again.","str_error_first_message":"You have reached the first message in {{folder_name}}.","str_error_flash_unavailable_body":"Your browser is blocking Flash. You must have Flash 9.0 or higher installed and unblocked to run a mail application. You can download and install the latest Flash Player <a href=\"http:\/\/get.adobe.com\/flashplayer\/\" target=\"_blank target=\"_blank\"\">here<\/a>.","str_error_folder_name_is_reserved":"That folder name is reserved, please choose a different name.","str_error_generic":"Something unexpected just happened. Please contact {{str_branding}} Customer Care if the problem persists. Here's some technical info that might help us know more about what is going on:","str_error_generic_cc":"Something unexpected just happened. Please contact {{str_branding}} Customer Care if the problem persists.","str_error_im":"Please enter a valid IM id.","str_error_last_message":"You have reached the last message in {{folder_name}}.","str_error_loading_failed":"Loading failed.","str_error_loading_recent_messages":"Sorry, problem loading conversation history.","str_error_logged_out":"You are no longer signed in to {{str_branding_messenger}}.","str_error_logged_out_another":"You have been signed out because you signed into a different computer or device.","str_error_messenger_load_failure":"Sorry, but {{str_branding_messenger}} is currently unavailable. Please try again later.","str_error_messenger_loading":"{{str_branding_messenger}} is currently loading.","str_error_msg_diff_folder":"The selected message is now in the {{foldername}} folder.","str_error_msg_diff_folder_link":"Click here to switch to the {{foldername}} folder.","str_error_msg_diff_folder_switch":"This message has been moved to <a href=\"#\" class=\"switchFolder\" sourceFolder=\"{{newFid}}\">{{foldername}}<\/a>","str_error_msg_load":"We\u2019re sorry, but there appears to be a problem loading the message \"{{subject}}\".","str_error_msg_load_click_me":"Click here to try again.","str_error_msg_load_slow":"We\u2019re sorry, but your message is taking longer than normal to display.","str_error_no_body_returned":"Looks like we were unable to load your message.","str_error_phone_number":"Please enter a valid phone number format: ###-###-####.","str_error_recent_messages_empty":"You have no recent conversations with {{contact}}.","str_error_reconnected_message":"You have successfully signed in.","str_error_redirect_auth":"There may be an authentication required to continue. Please refresh your browser and come back here to try again.","str_error_redirect_authtitle":"Authentication redirect. Please refresh","str_error_reload_account_migrated":"Due to routine server maintenance, {{str_branding_mail}} must now reload. We apologize for any inconvenience this may cause.","str_error_replace":"Please enter a valid error string here.","str_error_uploadNumFiles":"You have reached the 50 attachment limit for this message.","str_error_yid_collision_error":"This {{str_branding_messenger}} ID already belongs to someone else in your Contacts. Please try again.","str_error_yid_no_info_error":"Please enter some information for this contact.","str_ok":"OK","str_btn_close":"Close","str_btn_cancel":"Cancel","str_modal_tabdeactivate_title":"Confirm Application Switch","str_modal_tabdeactivate_body":"Switching away from this application will cause you to lose your data and\/or actions.  Proceed?","str_nav_conversations":"Conversations","str_nav_drafts":"Drafts","str_folder_reserved_inbox":"Inbox","str_folder_reserved_conversations":"Conversations","str_folder_reserved_drafts":"Drafts","str_folder_reserved_sent":"Sent","str_folder_reserved_spam":"Spam","str_folder_reserved_trash":"Trash","str_folder_reserved_search":"Search","str_folder_reserved_inbox_lower":"inbox","str_folder_reserved_conversations_lower":"conversations","str_folder_reserved_drafts_lower":"drafts","str_folder_reserved_sent_lower":"sent","str_folder_reserved_spam_lower":"spam","str_folder_reserved_trash_lower":"trash","str_folder_reserved_search_lower":"search","str_folder_reserved_inbox_upper":"INBOX","str_folder_reserved_conversations_upper":"CONVERSATIONS","str_folder_reserved_drafts_upper":"DRAFTS","str_folder_reserved_sent_upper":"SENT","str_folder_reserved_spam_upper":"SPAM","str_folder_reserved_trash_upper":"TRASH","str_folder_reserved_search_upper":"SEARCH","str_tabs_close_attr":"Close tab [Esc]","str_tabs_close":"Close tab","str_msg-view_btn_hidepreview":"Hide Preview","str_msg-view_btn_showpreview":"Show Preview","str_nav_left_checkmail_account_attr":"Check {{mailbox_pretty_name}} for new email  [M]","str_nav_left_checking_mail":"Checking...","str_nav_inbox":"Inbox","str_tabs_inbox":"INBOX","str_tabs_drafts":"DRAFTS","str_tabs_sent":"SENT","str_tabs_spam":"SPAM","str_tabs_conversations":"CONVERSATIONS","str_tabs_trash":"TRASH","str_nav_inbox_unread_attr":"{{inbox_unread_cnt}} unread emails","str_nav_draft_attr":"1 draft","str_nav_drafts_attr":"{{inbox_unread_cnt}} drafts","str_nav_conv_attr":"1 conversation","str_nav_convs_attr":"{{conv_cnt}} conversations","str_page_title_unread":"({{unread_cnt}} unread) - {{title}} - {{str_branding_mail}}","str_page_title":"{{title}} - {{str_branding_mail}}","str_email_cnt_one":"email","str_email_cnt_multi":"emails","str_nav_folder_email_cnt":"{{total_cnt}} {{email_str}}","str_nav_email_from_ctcts_attr":"Email only from Contacts; {{email_ctcts_cnt}} emails","str_nav_email_from_ctcts":"Email from Contacts","str_ctrl":"Ctrl","str_enter":"Enter","str_ctrl_shift":"Ctrl+Shift","str_ctrl_alt":"Ctrl+Alt","str_right_click":"right-click","str_whats_new_udb_failure_msg":"We\u2019re having trouble loading your Mail preferences right now. You can still use {{str_branding_mail}} with default settings. Your settings should be restored shortly.","str_tog_loadRTLCss":false,"str_modal_pagination_change":"In order to change this setting, {{str_branding_mail}} will refresh when you click Save. Any mail messages you're currently writing will be saved as drafts.","str_conv_btn_view_conv_options":"Options","str_modal_option_attention":"","str_tabs_options":"OPTIONS","str_tabs_search":"SEARCH","str_tabs_compose_fresh":"New Message","str_tabs_compose":"New Email","str_msg-view_tab_no_subject":"Message","str_modal_too_many_tabs_title":"Please Close Some Tabs","str_modal_too_many_tabs_note":"Sorry, you've reached the maximum number of open tabs. Please close a few tabs first before opening additional tabs.","str_modal_too_many_tabs_close_auto":"Close All Message Tabs","str_modal_too_many_tabs_close_manual":"I'll Close Some Myself","str_nav_trash":"Trash","str_nav_sent":"Sent","str_nav_spam":"Spam","str_tabs_IM":"INSTANT MESSAGES","str_nav_IM":"Instant Messages","str_comp_reply_from":"From:","str_comp_reply_to":"To:","str_comp_reply_date":"Sent:","str_comp_reply_subject":"Subject:","str_comp_reply_cc":"Cc:","str_comp_reply_fwdHeader":"----- Forwarded Message -----","str_comp_reply_origHeader":"----- Original Message -----","str_comp_reply_short":"On {{date_data}}, {{from_data}} wrote:","str_delete_single_email_attr":"Delete this message  [Delete]","str_delete":"Delete","str_reply_attr":"Reply to sender  [R]","str_reply":"Reply","str_reply_all_attr":"Reply to all  [A]","str_reply_all":"Reply All","str_single_message_forward_attr":"Forward this message \u00a0[F]","str_forward":"Forward","str_single_message_move_attr":"Move this message to a folder  [D]","str_move":"Move","str_single_message_actions_attr":"More actions","str_actions":"Actions","str_next_attr":"View next email up [Ctrl+,]","str_next":"Next","str_previous_attr":"View next email down [Ctrl+.]","str_previous":"Previous","str_single_message_spam_attr":"Mark this message as Spam","str_spam":"Spam","str_menu_spam_toggle_attr":"More Spam Options","str_menu_spam_toggle":"Report...","str_delete_email_attr":"Delete selected emails  [Delete]","str_toolbar_reply_menu_toggle_attr":"Choose from different ways to reply","str_toolbar_reply_menu_toggle":"Reply","str_forward_attr":"Forward this email \u00a0[F]","str_move_attr":"Move selected emails to a folder  [D]","str_print_attr":"Print this message [P]","str_print":"Print","str_actions_email_attr":"More actions for selected emails","str_spam_attr":"Move selected emails to Spam folder","str_thread_btn_attr":"Group messages into conversations","str_thread_btn":"Threading","str_tog_showFirstAsFriendlyName":true,"str_uh_searchmail":"Search Mail","str_tog_sendFeedbackEnabled":true,"str_modal_mail_preveiw":"Please Give Us Your Feedback","str_modal_mail_preveiw_reason":"Thank you for trying the latest version of {{str_branding_mail}}. Your feedback will help us make it better for you. Please tell us why you're switching. Check all that apply:","str_modal_mail_preveiw_reason_reliability":"Reliability or stability concerns","str_modal_mail_preveiw_reason_features":"Missing features","str_modal_mail_preveiw_reason_other":"Other","str_modal_mail_preveiw_reason_speed":"Speed or load time","str_modal_mail_preveiw_reason_readiness":"Not ready to switch","str_modal_mail_preveiw_feedback":"Additional feedback:","str_modal_mail_preveiw_feedback_contact":"It's OK to contact me about my feedback","str_btn_continue_attr":"Continue","str_btn_continue":"Continue","str_menu_new_features":"New Features","str_menu_help":"Help","str_menu_tos":"Legal","str_menu_privacy_policy":"Privacy","str_modal_keys_gen_shortcuts":"Display keyboard shortcuts","str_modal_keys_header":"Keyboard Shortcuts","str_menu_mail_blog":"Mail Blog","str_menu_mail_plus":"Mail Plus","str_menu_leave_mail_prev":"Return to Original Mail","str_menu_switch_full_mail":"Show Full Features","str_uh_send_feedback_attr":"Send feedback to {{str_branding_mail}}","str_uh_send_feedback":"Send Feedback","str_menu_about_our_ads":"About our Ads","str_menu_copyright":"Copyright Notice","str_menu_themes":"Themes","str_menu_options":"Mail Options","str_menu_calendar_options":"Calendar Options","str_menu_signed_in_as":"You are signed in as:","str_menu_profile_attr":"Profile","str_menu_profile":"Profile","str_menu_account":"Account","str_menu_homepage":"{{str_branding}} Homepage","str_branding_my":"My Yahoo!","str_menu_sports":"Sports","str_menu_finance":"Finance","str_menu_news":"News","str_mts_customer_care":"Customer Self Care","str_mts_web_chat":"Web Chat","str_mts_tv":"MTS TV","str_mts_games":"Games on Demand","str_mts_yahoo":"MTS Yahoo! Portal","str_menu_attcom":"att.com","str_menu_attnet":"att.net","str_menu_attmyaccount":"My Account","str_menu_attsupport":"Support","str_menu_attbrowseatoz":"Browse A - Z","str_menu_attspanish":"En Espa\u00f1ol","str_nav_applications":"Applications","str_nav_applications_btn_edit_attr":"Add or remove Apps","str_nav_applications_btn_edit":"Edit application options","str_om_app_list_retry":"Retry loading apps","str_om_loading":"Loading...","str_om_error_app_not_found_title":"Application Not Found","str_om_error_app_not_found_body":"This application cannot be found. Do you wish to uninstall it?","str_om_error_app_nonexistant_title":"Non-existant Application","str_om_error_app_nonexistant_body":"Sorry, but this application no longer exists.<br\/>To remove all permissions for this application, please modify your <a class=textLink href=https:\/\/api.login.yahoo.com\/WSLogin\/V1\/unlink target=_blank>Account Sign-in Settings<\/a>.","str_om_error_app_unavailable_title":"Application Unavailable","str_om_error_app_unavailable_body":"Sorry, but the application \"{{app_name}}\" is currently unavailable. Please try again later.","str_om_tou_title":"Application Information","str_om_upgrade_choice":"Sorry, but the feature you're trying to use isn't available in this version of the application. You may continue working and upgrade later. If you upgrade now, we have to close the application.","str_om_error_flash_unavailable_title":"Flash Unavailable","str_om_error_flash_unavailable_body":"Your browser is blocking Flash. You must have Flash 9.0 or higher installed and unblocked to run a mail application. You can download and install the latest Flash Player <a href=\"http:\/\/get.adobe.com\/flashplayer\/\" target=\"_blank target=\"_blank\"\">here<\/a>.","str_om_switch_to_rich_text_title":"Switch to Rich Text?","str_om_switch_to_rich_text_body":"This application needs your message to be composed in rich text mode.  Switch to this mode?","str_menu_remove":"Remove Application","str_comp_nosubject":"No Subject","str_msg_list_flag_attr":"Click to mark as important","str_msg_list_flagged_attr":"Click to unstar this email","str_msg_view_markasunread_attr":"Click to mark as unread","str_msg_view_markasread_attr":"Click to mark as read","str_msg-view_multiple_selected_msgs":"{{num_selected_msgs}} emails selected.","str_msg-view_multiple_selected_convs":"{{num_selected_msgs}} conversations selected.","str_msg-view_single_selected_msg":"1 email selected.","str_msg-view_single_selected_msg_info":"Click above to view an email. Or compose a new message...","str_msg-view_single_selected_conv":"1 conversation selected.","str_msg-view_single_selected_conv_info":"Click above to view a conversation. Or compose a new message...","str_msg_view_heading_blocked_images":"This message contains blocked images.","str_msg_view_btn_show_images_attr":"Display blocked images","str_msg_view_btn_show_images":"Show Images","str_msg_view_btn_options_attr":"Modify Spam Options","str_msg_view_btn_options":"Options","str_msg-view_message_body":"Message body","str_comp_loading_error_perm":"Sorry we're having problems loading this message.  Please <a href=\"{{str_cfg_url_yahoo_mail_help_tae45}}\" target=\"_blank\">view our help site<\/a> to learn how to contact us to report this error.<p>Error code: {{msg_fail_tae_code}}<\/p>","str_comp_multi_retry":"Sorry, we're still having problems loading this message. This is likely a temporary issue due to a connection problem or an email with large attachments.  Check your connection and try again, or try back again shortly.<p>If you're still seeing this error, visit <a href=\"{{str_cfg_url_yahoo_mail_help}}\" target=\"_blank\">Help<\/a> for troubleshooting instructions or to contact us.<\/p><p>Error code: {{msg_fail_tae_code}}<\/p>","str_comp_loading_error":"There appears to be a problem loading the email \"{{msg_subject}}\".","str_comp_loading_retry_attr":"Retry loading this email.","str_retry":"Retry","str_comp_loading_msg":"Loading email, please wait...","str_comp_loading_conv":"Loading conversation, please wait...","str_comp_slow_loading":"Loading is taking longer than usual.","str_msg_view_msg_truncated":"This message has been truncated","str_msg_view_btn_view_full":"Show Full Message","str_msg_view_photo_attachment_attr":"View {{filename}}","str_photos":"Photos","str_msg_view_btn_download_all":"Download All","str_msg_view_attachment_attr":"Virus scan and download {{filename}}","str_msg_view_heading_attachments":"Attachments","str_msg_view_msg_flag":"Message starred","str_msg_title_search":"Click to search for messages with same subject","str_msg_hdr_has_attachments":"This email has attachments","str_show_details_tooltip":"Show details","str_hide_details_tooltip":"Hide details","str_show_details":"Show Details","str_hide_details":"Hide Details","str_btn_add_from_contact_attr":"Add {{msg_from_address}} to your Contacts [{{str_menu_accel_shift_a}}]","str_msg_hdr_label_from_fresh":"From","str_btn_from_lozenge_attr":"{{msg_from_address}}","str_btn_add_contact_attr":"Add {{msg_to_address}} to your Contacts","str_btn_lozenge_attr":"{{msg_to_address}}","str_msg_hdr_btn_more_attr":"See the additional recipients","str_msg_hdr_btn_more_to":"{{has_more_to}} More...","str_comp_label_to_fresh":"To","str_msg_hdr_btn_more_cc":"{{has_more_cc}} More...","str_comp_label_cc_fresh":"CC","str_msg_hdr_btn_more_bcc":"{{has_more_bcc}} More...","str_comp_label_bcc_fresh":"BCC","str_btn_add_participant_contact_attr":"Add {{msg_participant_address}} to your Contacts [{{str_menu_accel_shift_a}}]","str_msg_hdr_btn_more_participants_attr":"See the additional participants","str_msg_hdr_btn_more_participants":"{{has_more_participants}} More...","str_msg_hdr_label_participants":"Participants:","str_msg_hdr_label_with":"With:","str_msg-view_message_header":"Message header","str_msg_list_from":"FROM","str_msg_list_to":"TO","str_menu_accel_shift_a":"Shift+A","str_msg_hdr_label_cc":"CC:","str_small_header_you":"You","str_msg_hdr_label_bcc":"BCC:","str_msg_hdr_label_from":"FROM:","str_msg_hdr_label_to":"TO:","str_msg-view_click_above":"Choose your favorite way to communicate.","str_msg-view_comm_modes_email_attr":"Compose an email","str_msg-view_comm_modes_email":"Email","str_msg-view_comm_modes_sms_attr":"Compose an SMS","str_msg-view_comm_modes_sms":"SMS","str_msg-view_comm_modes_im_attr":"Compose an instant message","str_msg-view_comm_modes_im":"Instant Message","str_msg_addevent_tooltip":"Add an event at this date","str_nav_left_untitled":"Untitled","str_toolbar_comp_menu_toggle_attr":"Start a new IM or SMS","str_msg-view_btn_togglepreview_attr":"Switch View","str_msg-view_hd_modal":"Switch View","str_show_message_view_options":"Show Message View Options","str_msg_list_first":"First Page","str_msg_list_previous":"Previous Page","str_msg_list_page_info":"Page {{current}} of {{total}}. Click for more options","str_msg_list_next":"Next Page","str_msg_list_last":"Last Page","str_to":"to","str_thread_hdr_more_recipients_attr":"See additional recipients","str_thread_hdr_more_recipients":"{{num_more_recipients}} more","str_draft":"DRAFT","str_comp_sending":"Sending","str_rte_attachments_error_mult":"{{num_error_files}} files cannot be sent","str_rte_attachments_error_single":"1 file cannot be sent","str_to_col":"TO:","str_comp_btn_to_add_attr":"Add recipients","str_comp_btn_to_add":"Add TO Recipients","str_cc":"CC","str_bcc":"BCC","str_cc_col":"CC:","str_comp_btn_cc_add":"Add CC Recipients","str_bcc_col":"BCC:","str_comp_btn_bcc_add":"Add BCC Recipients","str_comp_full_comp":"Reply in a new tab","str_comp_attach_attr":"Choose a file to attach to this message","str_comp_attach":"Attach Files","str_cont_imp_compose_send_attr":"Send Message","str_btn_send":"Send","str_comp_send_error":"Sorry, there was a problem sending your message","str_comp_back_to_msg_attr":"Go back to editing the email","str_comp_back_to_msg":"Back to Email","str_comp_try_again_attr":"Try sending again","str_comp_try_again":"Try Again","str_comp_send_abuse_error":"Message was sent but not saved in your Sent folder due to unusually heavy activity from this mailbox.","str_close":"Close","str_btn_retry_file_attr":"Retry file upload","str_btn_remove_file_attr":"Remove this attachment","str_cfg_sc_keycode_reply_to_all":"65","str_cfg_sc_keycode_movemenu_display":"68","str_cfg_sc_keycode_message_forward":"70","str_cfg_sc_keycode_mark_as_read":"75","str_cfg_sc_keycode_flag_selected_messages":"76","str_cfg_sc_keycode_reply_to_sender":"82","str_cfg_sc_keycode_print":"80","str_cfg_sc_keycode_close_tab":"220","str_srch_searching":"Searching...","str_msg_list_loading":"Loading email...","str_modal_zero_selected":"You must select at least one email to perform this action.","str_modal_select_single_message":"This operation can't be performed on more than one email. Select a single email and try again.","str_menu_view_full_headers":"View Full Header","str_modal_multi_from_refinement":"This operation can't be performed as results are already refined by recipient","str_modal_multi_folder_refinement":"This operation can't be performed as results are already refined by folder","str_srch_punc_header":"Invalid search criteria","str_srch_punc_body":"Sorry, {{str_branding_mail}} currently does not support searching on punctuation characters only.","str_srch_no_chats":"This operation can't be performed. Open the Conversation and take the preferred action.","str_modal_message_delete_all_title":"Delete All Messages","str_modal_message_delete_all_question":"Are you sure you want to delete all of the selected messages?","str_srch_photo":"Photo","str_srch_plain":"Plain","str_srch_html":"HTML","str_srch_other":"Other","str_srch_excel":"Excel","str_srch_music":"Music","str_srch_powerpoint":"PowerPoint","str_srch_video":"Video","str_srch_word":"Word","str_srch_zip":"ZIP","str_srch_pdf":"PDF","str_msg-view_btn_toggle_search_view_attr":"Show or hide Snippet View","str_msg-view_btn_hidesearchsnippet":"Hide Snippet","str_msg_list_select_all_msgs_attr":"Select or deselect all messages [{{str_ctrl}}+A]","str_srch_status":"{{search_results_count}} messages were found matching your search.","str_srch_status_single":"{{search_results_count}} message was found matching your search.","str_msg_list_page_info_noclick":"Page {{current}} of {{total}}","str_msg_list_attachments":"Attachments","str_srch_with_me_attr":"Only show messages sent by Me","str_srch_with_me":"With Me,","str_srch_with_attr":"Only show messages sent by {{recipient}}","str_srch_with":"With {{recipient}}","str_srch_select_this_msg":"Select this message","str_srch_folder_attr":"Only show messages from {{folder}}","str_srch_folder":"Folder: {{folder}}","str_srch_more_from_attr":"Find all messages from {{sender}}","str_srch_more_from":"More from {{sender}}","str_toolbar_first":"Go to the first page","str_toolbar_next":"Go to the next page","str_msg_list_next_up":"NEXT PAGE","str_msg_list_sort_by":"SORT BY {{sorted_by}}","str_msg-view_btn_showsearchsnippet":"Show Snippet","str_msg_list_column_info_attr":"Click to sort by unread messages","str_msg_list_column_from_attr":"Click to sort by sender","str_msg_list_column_date_attr":"Click to sort by date","str_msg_list_date":"DATE","str_msg_list_column_flag_attr":"Click to sort by starred messages","str_msg_list_column_subject_attr":"Click to sort by subject","str_msg_list_subject":"SUBJECT","str_msg_list_column_attachment_attr":"Click to sort by emails with attachments","str_msg_list_column_fldr_attr":"Click to sort by Folder name","str_msg_list_folder_name":"FOLDER","str_not_spam_attr":"Remove spam classification and move back to Inbox","str_not_spam":"Not Spam","str_action_edit_draft_attr":"Open selected email in a tab to edit  [{{str_enter}}]","str_action_edit_draft":"Edit Draft","str_menu_reply_im":"Reply via Instant Message","str_menu_accel_shift_i":"Shift+I","str_menu_sort_sender_up":"SENDER","str_menu_sort_recipient_up":"RECIPIENT","str_menu_sort_unread_up":"UNREAD","str_menu_sort_attachment_up":"ATTACHMENTS","str_menu_sort_flagged_up":"STARRED","str_menu_page_jump":"Jump to:","str_menu_page_placeholder":"Page","str_menu_page_first":"First Page","str_menu_page_last":"Last Page","str_menu_sort_by_sender":"Sender","str_menu_sort_by_recipient":"Recipient","str_menu_sort_subject":"Subject","str_menu_sort_date":"Date","str_menu_sort_unread":"Unread","str_menu_sort_attach":"Attachments","str_menu_sort_flagged":"Starred","str_menu_sort_conv":"Show as Conversations","str_menu_cbox_all":"All","str_menu_cbox_none":"None","str_menu_cbox_unread":"Unread","str_menu_cbox_read":"Read","str_menu_cbox_flagged":"Starred","str_menu_cbox_unflagged":"Unstarred","str_folder_empty":"There are no emails in your {{folder_name}} folder.","str_configure_archiving":"Make sure you have configured your archiving settings within {{str_branding_messenger}} Options.","str_conv_folder_empty":"There are no messages in your Conversations folder.","str_cfg_sc_keycode_toggle_preview_pane":"86","str_tog_use_num_accel":true,"str_delete_conv_attr":"Delete selected conversations  [Delete]","str_actions_conv_attr":"More actions for selected conversations","str_previous_conv_attr":"View next conversation up [Ctrl+,]","str_previous_conv":"Previous","str_next_conv_attr":"View next conversation down [Ctrl+.]","str_next_conv":"Next","str_msg_list_sorting":"Sorting email...","str_msg_list_participant":"PARTICIPANT","str_msg-view_no_subject":"[No Subject]","str_tog_snippet_hellip":true,"str_nav_left_folders_expanded_attr":"Click to hide folders","str_nav_left_folders_collapsed_attr":"Click to show folders","str_tabs_calendar":"CALENDAR","str_tabs_close_convo_attr":"Close conversation tab","str_tabs_contacts":"CONTACTS","str_tabs_mail":"MAIL","str_tabs_new_conversation":"New Conversation","str_tabs_newmessage":"New Email","str_tabs_notepad":"NOTEPAD","str_tabs_offline_messages":"OFFLINE MESSAGES","str_tabs_options_title":"Mail Options","str_tabs_overflow":"View Open Tabs","str_tabs_screen_reader_instr":"Press the Enter key to select a tab","str_tabs_tooltip_contacts":"Contacts","str_tabs_tooltip_drafts":"Drafts","str_tabs_tooltip_inbox":"Inbox","str_tabs_tooltip_sent":"Sent","str_tabs_tooltip_spam":"Spam","str_tabs_tooltip_trash":"Trash","str_tabs_tooltip_updates":"Updates","str_tabs_tooltip_whatsnew":"What's New","str_tabs_updates":"UPDATES","str_tabs_whatsnew":"WHAT'S NEW","str_msg_list_loading_ims":"Loading instant messages...","str_msg_list_loading_conversation":"Loading conversations...","str_msg_list_info-replied":"Replied","str_msg_list_info-forwarded":"Forwarded","str_msg_list_info-unread":"Unread","str_msg_list_info-certified":"Certified","str_msg_list_info_verified_attr":"This is a verified message from {{str_branding}}","str_msg_list_checkbox_label":"Message {{messagenumber}}","str_tog_dateformat_messagelist_timeonly_l10n":"{h}:{mm} {A}","str_msg_list_message_preview_attr":"Double-click to open this message in a new tab","str_msg_list_message_full_attr":"Click to open this message in a new tab","str_msg_list_attachments_attr":"This email has {{msg_num_attachments}} attachments","str_msg_list_attachments_size":"Size","str_msg_list_checkbox_attr":"Select this email","str_msg_list_column_mailbox_attr":"Click to sort by mailbox; click again to reverse sort","str_msg_list_column_participant_attr":"Click to sort by participant","str_msg_list_column_size_attr":"Order emails by attachment size (largest-smallest); click again to reverse order","str_msg_list_column_to_attr":"Order emails by recipient (A-Z); click again to reverse order","str_msg_list_datetime":"DATE \/ TIME","str_msg_list_emptyfolder":"There are no messages in your {{foldername}} folder","str_msg_list_flag":"Star this email","str_msg_list_flagged":"This email is starred","str_msg_list_has_attachments":"This message has attachments","str_msg_list_header":"Email Messages","str_msg_list_list":"CALENDAR \/ LIST","str_msg_list_load_next_messages":"Load next 500 messages","str_msg_list_load_next_messages_attr":"Control how your messages are displayed in the General section of Mail Options","str_msg_list_loading_error":"There appears to be a problem loading the message list.","str_msg_list_location":"LOCATION","str_msg_list_mailboxes":"Mailboxes","str_msg_list_not_flagged":"This email is not starred","str_msg_list_retry":"Click to retry","str_msg_list_sort_by_attr":"Click to select sorting method","str_msg_list_time":"TIME","str_msg_list_title":"TITLE","str_msg_list_type":"TYPE","str_me":"Me","str_thread_nopreview":"Preview Unavailable","str_tog_filename_center_truncate":false,"str_small_header_to":"TO:","str_small_header_more":"More","str_small_header_you_accusative":"You","str_small_header_recipient":"recipient","str_small_header_recipients":"recipients","str_tog_dateformat_header_l10n":"{EE}, {MMMM} {d}, {yyyy} {h}:{mm} {A}","str_conv_im":"IM","str_tog_dateformat_conversation":"{MMM} {dd} {h}:{mm} {A}","str_tog_dateformat_header_long_l10n":"{E}, {MMM} {d}, {yyyy} at {h}:{mm} {A}","str_conv_call_duration":"Call duration:","str_conv_time_hours":"hours","str_conv_time_minutes":"minutes","str_conv_time_seconds":"seconds","str_conv_accepted_add_req":"<strong>{{conversation_user}}<\/strong> has been added to your Messenger list.","str_conv_add_requests":"Add Requests","str_conv_alias_send_as":"Send As:","str_conv_autocomplete_default":"TO","str_conv_blocked_user":"<strong>{{conversation_user}}<\/strong> has been blocked. You will no longer receive messages from this user.","str_conv_btn_accept":"Accept","str_conv_btn_accept_and_add":"Accept and Add To List","str_conv_btn_accept_and_add_attr":"Accept and Add To List","str_conv_btn_accept_attr":"Allow {{conversation_yid}} to add me and see when I\u2019m online","str_conv_btn_add_contact":"Add Contact","str_conv_btn_add_contact_attr":"Add Contact","str_conv_btn_add_number":"Add Number","str_conv_btn_add_number_attr":"Add Number","str_conv_btn_add_to_contacts":"Add to Contacts","str_conv_btn_add_to_contacts_attr":"Add {{conversation_yid}} to your Contacts","str_conv_btn_block":"Block","str_conv_btn_block_all":"Block All","str_conv_btn_block_user":"Block User","str_conv_btn_block_user_attr":"Add to Blocked List","str_conv_btn_call_another_number":"Call Another Number","str_conv_btn_call_another_number_attr":"Call Another Number","str_conv_btn_call_back":"Call Back","str_conv_btn_call_back_attr":"Call Back","str_conv_btn_close_all":"Close All","str_conv_btn_close_current":"Close Current","str_conv_btn_convert_conv":"Convert Window","str_conv_btn_convert_conv_attr":"Convert Window","str_conv_btn_decline":"Decline","str_conv_btn_decline_add_number":"Cancel","str_conv_btn_decline_attr":"Don't allow {{conversation_yid}} to add me or see when I'm online","str_conv_btn_hide_media_modes":"Hide Conversation Types","str_conv_btn_hide_media_modes_attr":"Hide conversation types","str_conv_btn_hide_recent_conv":"Hide Recent Conversations","str_conv_btn_hide_recent_conv_attr":"Hide recent conversations with {{conversation_user}}","str_conv_btn_hide_tray":"Hide","str_conv_btn_hide_tray_attr":"Hide conversation types","str_conv_btn_open_media_modes_attr":"Switch to another type of conversation","str_conv_btn_open_setup":"Open Setup","str_conv_btn_open_setup_attr":"Open Setup","str_conv_btn_report_all_spam":"Report All as Spam","str_conv_btn_report_all_spam_attr":"Report All as Spam","str_conv_btn_report_spam":"Report as Spam","str_conv_btn_report_spam_attr":"Report this instant message as spam, and add {{conversation_yid}} to your Blocked List","str_conv_btn_show_conv":"Show Conversations","str_conv_btn_show_conv_attr":"Show Conversations","str_conv_btn_show_recent_conv":"Show Recent Conversations","str_conv_btn_show_recent_conv_attr":"Show recent conversations with {{conversation_user}}","str_conv_btn_show_tray":"Show","str_conv_btn_show_tray_attr":"Show conversation types","str_conv_btn_start_call":"Call","str_conv_btn_start_call_attr":"Call","str_conv_btn_start_conversation":"Start Conversation","str_conv_btn_start_conversation_attr":"Start Conversation","str_conv_btn_try_again":"Try Again","str_conv_btn_unblock":"Unblock","str_conv_btn_unblock_all":"Unblock All","str_conv_btn_unblock_user":"Unblock User","str_conv_btn_unblock_user_attr":"Remove {{conversation_yid}} from your Blocked List","str_conv_btn_view_conv_options_attr":"Options","str_conv_cannot_start_video":"Video call cannot be started.","str_conv_close":"Close all conversations and window","str_conv_close_all":"Close All Conversations?","str_conv_close_always":"Always close all conversations","str_conv_close_confirm":"You have unread messages, are you sure you want to close the window?","str_conv_connection_error":"There was a connection error.","str_conv_conv_being_archived":"Conversations are currently being archived.","str_conv_conv_header_user_attr":"{{conversation_user}} ({{conversation_yid}}) \u2022 {{availability}}","str_conv_conv_header_userimage_attr":"Access Stealth Settings and info for {{conversation_user}}, as well as the ability to report abuse","str_conv_conversation_dateformat_no_trans":"%b %d %l:%M %p","str_conv_conversations":"Conversations","str_conv_current_balance":"Current Balance: <b>{{current_balance}}<\/b>","str_conv_decline_add_number_attr":"Cancel","str_conv_declined_add_req":"<strong>{{conversation_user}}<\/strong> has been declined and will not be added to your Mesenger list.","str_conv_default_group":"Friends","str_conv_dialog_alert":"Alert","str_conv_dialog_confirm":"Confirm","str_conv_emoticon_attr":"Insert emoticons","str_conv_enter_phone_number_label":"Enter a mobile phone number for <b>{{conversation_user}}<\/b>:","str_conv_enter_phone_number_label_no_user":"a mobile phone number for <b>{{conversation_user}}<\/b>:","str_conv_error_empty_general":"All fields are required.","str_conv_example":"Example:","str_conv_file_transfer_attr":"Send a file to {{conversation user}}","str_conv_file_transfer_sending_mult":"Sending {{file_transfer_num_files}} files to <b>{{conversation_user}}<\/b>.","str_conv_file_transfer_sending_one":"Sending 1 file to <b>{{conversation_user}}<\/b>.","str_conv_file_transfer_sent_mult":"You have sent {{file_transfer_num_files}} files to <b>{{conversation_user}}<\/b>.","str_conv_file_transfer_sent_one":"You have sent 1 file to <b>{{conversation_user}}<\/b>.","str_conv_file_transfer_waiting_mult":"Waiting for <b>{{conversation_user}}<\/b> to accept {{file_transfer_num_files}} files","str_conv_file_transfer_waiting_one":"Waiting for <b>{{conversation_user}}<\/b> to accept 1 file","str_conv_format_attr":"Change fonts and colors","str_conv_format_fonts_attr":"Change fonts","str_conv_im_hint":"Type contact information...","str_conv_imconv_new_hint":"Start a new instant message.<br>Enter a Messenger ID or an email address.","str_conv_input_label":"Type your message here","str_conv_label_roadblock":"Don\u2019t show me this again.","str_conv_look_for":"Look for...","str_conv_maximize":"Maximize window","str_conv_message":"Message","str_conv_minimize":"Minimize window","str_conv_mode-tray_btn_group_chat":"Group chat","str_conv_mode-tray_btn_group_chat_attr":"Switch to group conversation","str_conv_mode-tray_btn_im":"Switch to Instant Message","str_conv_mode-tray_btn_im_attr":"Switch to instant message","str_conv_mode-tray_btn_im_only_attr":"Instant Message","str_conv_mode-tray_btn_mail":"Switch to Email","str_conv_mode-tray_btn_mail_attr":"Switch to email","str_conv_mode-tray_btn_phone":"Start Phone Call","str_conv_mode-tray_btn_phone_attr":"Switch to phone call","str_conv_mode-tray_btn_photosharing":"Start Photosharing","str_conv_mode-tray_btn_photosharing_attr":"Invite {{conversation_user}} to share photos","str_conv_mode-tray_btn_sms":"Switch to SMS","str_conv_mode-tray_btn_sms_attr":"Switch to SMS","str_conv_mode-tray_btn_vce":"Start Voice Call","str_conv_mode-tray_btn_vce_attr":"Switch to voice call","str_conv_mode-tray_btn_vid":"Start Video Call","str_conv_mode-tray_btn_vid_attr":"Switch to video call","str_conv_new_conversation_hint":"Type a contact\u2019s information to start a new conversation.","str_conv_new_hint":"Start a new instant message or SMS message.<br>Enter a Messenger ID, email, or mobile number.","str_conv_new_message_browser_title":"{{conversation_user}} sent you a new message.","str_conv_no_contact_add_request":"<b>{{conversation_yid}}<\/b> would like to add you to his or her {{str_cfg_branding_messenger}} List.","str_conv_no_video_support":"<b>{{conversation_user}}<\/b> is not using a version of {{str_cfg_branding_messenger}} that supports video call.","str_conv_non_users_blocked":"<em>You are currently blocking messages from users who are not in your contact list.  To communicate with this user you will need to either add them to your contacts or change your privacy settings.<\/em>","str_conv_ntf_spam_reported":"<em>This message from <span><strong>{{userid}}<\/strong><\/span> has been reported as spam.<\/em>  They were also added to your Block List.  Unblock this person if you want to contact them.","str_conv_ntf_user_blocked":"<em>You have blocked <span><strong>{{userid}}<\/strong><\/span>.<\/em> You cannot send and receive instant messages from blocked users.","str_conv_ntf_user_unblocked":"<em><span><strong>{{userid}}<\/strong><\/span> has been removed from your Blocked List.<\/em>","str_conv_photo_share_accepted":"<b>{{conversation_user}}<\/b> has accepted your invitation to start photo sharing.","str_conv_photo_share_invite":"You have invited <b>{{conversation_user}}<\/b> to start photo sharing.","str_conv_photo_share_wait_revoke":"You can wait for a response or revoke the invitation.","str_conv_photo_sharing_disabled":"{{conversation_user}}\u2019s configuration doesn\u2019t appear to support photo sharing.","str_conv_pop_in":"Anchor window to bottom of window","str_conv_pop_out":"Make window moveable","str_conv_prompt_tab":"View {{str_cfg_branding_messenger}} Conversations in a tab!","str_conv_prompt_tab_btn":"Change to Tab","str_conv_prompt_tab_btn_attr":"Change to display your conversations in a tab by default.","str_conv_receive_messages":"They will receive your instant message after signing in.","str_conv_report_abuse":"Report Abuse","str_conv_report_abuse_attr":"Report Abuse","str_conv_report_abuse_description":"Report this user for threats, harassment, harm to minors, or indecent content.  The transcript of your conversation with this person will be included in your report.","str_conv_report_abuse_radio":"Report Threats or Harassment","str_conv_report_abuse_title":"{{str_cfg_branding_messenger}} Report Abuse","str_conv_report_spam_description":"Stop receiving messages with bad links, phishing attempts, or any unwanted communication.","str_conv_report_spam_radio":"Report Spam","str_conv_revoke":"Revoke","str_conv_revoke_attr":"Revoke","str_conv_search_conversations":"Search Conversations","str_conv_self_objective":"Me","str_conv_send":"Send","str_conv_send_email":"Send Email","str_conv_send_email_attr":"Send an email instead","str_conv_send_sms":"Send SMS","str_conv_send_sms_attr":"Send an SMS to mobile phone instead","str_conv_settings":"Full menus for conversation window","str_conv_signed_out_hint":"You are not signed in to {{str_cfg_branding_messenger}}. Please sign in to start a new conversation.","str_conv_sms":"SMS","str_conv_sms_attachment_error":"Your message has attachments which cannot be included in an SMS","str_conv_sms_fees":"Wireless carrier charges may apply.","str_conv_sms_hint":"Type contact information or mobile number...","str_conv_sms_input_title":"Compose SMS","str_conv_sms_number_example":"e.g. {{example_number}}","str_conv_smsconv_new_hint":"Start a new SMS message.<br>Enter a name or mobile number.","str_conv_spam_reported_description_bl":"To permanently block this contact from sending you messages, add {{user}} to your Block list in {{str_cfg_generic_messenger}} Options.","str_conv_spam_reported_description_bnc":"To permanently block this contact from sending you messages, delete {{user}} from your Contacts list. Right click on display image, then choose Delete.","str_conv_spam_reported_description_bottom":"<strong>{{userid}}<\/strong> has also been blocked, and you will no longer receive messages from this user.","str_conv_spam_reported_description_top":"Thank you. Every IM you report as spam helps SpamGuard work better.","str_conv_spam_reported_title":"Spam Report Submitted","str_conv_start":"Start","str_conv_tab_close_confirm":"You have unread messages, are you sure you want to close this conversation?","str_conv_title_bar_im":"Instant Message","str_conv_title_bar_new_email":"New Email Message","str_conv_title_bar_new_im":"Start Instant Message","str_conv_title_bar_new_phone":"Start Phone Call","str_conv_title_bar_new_sms":"Start SMS","str_conv_title_bar_new_video":"Start Video Call","str_conv_title_bar_new_voice":"Start Voice Call","str_conv_title_bar_phone_call":"Phone Call","str_conv_title_bar_photo_share":"Photo Sharing","str_conv_title_bar_sms":"SMS","str_conv_title_bar_started":"{{str_branding_messenger}}","str_conv_title_bar_video_call":"Video Call","str_conv_title_bar_voice_call":"Voice Call","str_conv_title_conversation_history":"Conversation History","str_conv_typing":"{{conversation_user}} is typing...","str_conv_user_appears_offline":"<b>{{user}}<\/b> appears to be offline.","str_conv_user_invisible":"You currently appear offline to {{conversation_user}} (manage with Stealth Settings)","str_conv_user_notification_ssa":"Instant messages are currently being saved in the Conversation History.","str_conv_user_notification_ssa_button":"Open {{str_cfg_branding_messenger}} Options","str_conv_user_offline":"<b>{{conversation_yid}}<\/b> is currently offline.","str_conv_user_offlineMessage_notice":"Messages sent to you while you were signed out:","str_conv_user_signed_back_in":"<b>{{conversation_user}}<\/b> has signed back in.","str_conv_user_signed_out":"<b>{{conversation_user}}<\/b> has signed out.","str_conv_user_sms_edit_number":"Edit number","str_conv_user_sms_edit_number_attr":"Edit number","str_conv_user_sms_learn_more_btn":"Learn more","str_conv_user_sms_learn_more_btn_attr":"Learn more","str_conv_user_sms_notice":"<b>{{conversation_user}}<\/b> ({{msg_sms_number}}) will receive your instant message as an SMS.","str_conv_user_sms_notice_error_failed_to_deliver":"SMS could not be sent to <b>{{number}}<\/b>. It may be an invalid mobile number, formatted incorrectly, or no longer in service.","str_conv_user_sms_notice_error_msg_blocked":"Phone number {{number}} cannot receive SMS messages at this time.","str_conv_user_sms_notice_error_number_empty":"An empty number is not supported.","str_conv_user_sms_notice_error_number_not_supported":"The number <b>{{number}}<\/b> is not supported.","str_conv_user_sms_notice_error_ration_breached":"<b>{{user}}<\/b> must reply to one of your messages before you can send any more.","str_conv_user_sms_notice_error_system_busy":"SMS could not be sent to {{number}}. The system is currently busy. Please try again later.","str_conv_user_statexfer_notice":"Your ongoing conversation with {{conversation_user}}...","str_conv_video":"VIDEO","str_conv_video_call_camera_error":"<b>{{conversation_user}}<\/b> may not have a camera or it may not be working properly.","str_conv_video_call_end":"Video call ended: {{conversation_end}}","str_conv_video_call_fail":"The video call cannot be completed.","str_conv_video_call_invite":"<b>{{conversation_user}}<\/b> is inviting you to a video call.","str_conv_video_call_invite_declined":"You have declined the video call invitation.","str_conv_video_call_mic_input":"Your microphone may not be working.","str_conv_video_call_no_signal":"We are not receiving a video signal.","str_conv_video_disabled":"{{conversation_user}}\u2019s configuration doesn\u2019t appear to support video calls.","str_conv_voice":"VOICE","str_conv_voice_call_end":"Voice Call ended: {{conversation_end}}","str_conv_voice_call_hold":"You put <b>{{conversation_user}}<\/b> on hold.","str_conv_voice_call_invite":"<b>{{conversation_user}}<\/b> is inviting you to a voice call.","str_conv_voice_disabled":"{{conversation_user}}\u2019s configuration doesn\u2019t appear to support voice calls.","str_conv_wrn_interop_add_request_pending":"To IM with {{user}}, they must first accept your request to add them to your {{str_cfg_generic_messenger}} List contacts. Your request is still pending.","str_conv_wrn_interop_add_request_pending_2":"Send {{user}} an SMS instead.","str_conv_wrn_unknown_interop_user":"To send IM to {{user}}, they must first accept your request to add them to your {{str_cfg_generic_messenger}} List contacts.","str_conv_wrn_unknown_interop_user_2":"To contact {{user}} right now, send an SMS.","str_conv_wrn_unknown_user":"<em><span><strong>{{userid}}<\/strong><\/span> is not in your contacts.<\/em>  Be careful when corresponding with people you don\u2019t know. Never share private information with them.","str_warning_msg_read_form_part1":"Warning! You are about to send information to someone other than {{str_branding}}. If you do not want anyone outside of {{str_branding}} to have this information, click \"Cancel\" now.","str_warning_msg_read_form_part2":"Remember: {{str_branding}} will NEVER ask you for your password in an unsolicited phone call or an unsolicited email.","str_warning_msg_read_link_part1":"Warning! It appears that you are about to access a website that has non-standard web address format.","str_warning_msg_read_link_part2":"Such sites may contain harmful entities such as viruses.","str_warning_msg_read_link_part3":"We recommend you use extreme caution.","str_warning_msg_read_password_part1":"Warning! You are about to enter a password in a form that will not be sent to {{str_branding}}!.","str_warning_msg_read_password_part2":"Remember: {{str_branding}} will NEVER ask you for your password in an unsolicited phone call or an unsolicited email.","str_mailopt_fontvalue_1":"arial, helvetica, sans-serif","str_mailopt_fontvalue_2":"bookman old style, new york, times, serif","str_mailopt_fontvalue_3":"Courier New, monaco, monospace, sans-serif","str_mailopt_fontvalue_4":"garamond, new york, times, serif","str_mailopt_fontvalue_5":"lucida console, sans-serif","str_mailopt_fontvalue_6":"symbol","str_mailopt_fontvalue_7":"tahoma, new york, times, serif","str_mailopt_fontvalue_8":"times new roman, new york, times, serif","str_mailopt_fontvalue_9":"verdana, helvetica, sans-serif","str_nav_left_folders":"Folders","str_nav_folder_addfolder_attr":"Add a new folder [{{str_ctrl_shift}}+E]","str_nav_left_addfolder":"Add folder","str_nav_folder_unread_cnt":"{{unread_cnt}} unread emails","str_galaxy_friends_invited":"Added","str_galaxy_friends_inviteFailed":"Invite friends failed","str_galaxy_friends_added":"Confirmed!","str_galaxy_friends_acceptInviteFailed":"Confirm failed","str_galaxy_vitality_shortTimeAgo":"a short time ago","str_galaxy_profile_status_addAppError":"It seems that you have already linked your account or this service is temporarily unavailable.","str_galaxy_status_loading":"Loading...","str_galaxy_ycw_inviting":"Inviting...","str_galaxy_ycw_invitationSucess":"Invited!","str_galaxy_ycw_invitationFailure":"Failed to send out invitation, please try again later.","str_base_lang":"en-us"};
Neo.mix(strings, {"str_cfg_base_intl":"us","str_cfg_beacon_cg_upsel_no":"2145321914","str_cfg_beacon_def_mig_no":"2145321919","str_cfg_captcha_maxlength":"10","str_cfg_fr_code":"ush-mailn","str_cfg_intl":"us","str_cfg_overview_page_url_trap":"http:\/\/overview.mail.yahoo.com","str_cfg_partner":"yahoo","str_cfg_regex_yahoo_link":"","str_cfg_tog_MP_upsell":true,"str_cfg_tog_aboutOurAdsEnabled":true,"str_cfg_tog_accnt_user_color":false,"str_cfg_tog_ad_positions_disable":"","str_cfg_tog_ads_mip4_nonsocial_show_l10n":true,"str_cfg_tog_ads_mip4_show_l10n":true,"str_cfg_tog_ads_mip5_show_l10n":true,"str_cfg_tog_ads_mip6_show_l10n":true,"str_cfg_tog_always_show_sky":false,"str_cfg_tog_birthday_eCard_url_toggle_l10n":true,"str_cfg_tog_button_context":false,"str_cfg_tog_calendarEnabled":true,"str_cfg_tog_certified_icon":true,"str_cfg_tog_check_active_compose":false,"str_cfg_tog_composeSMSEnabled":true,"str_cfg_tog_compose_enable_nickname":false,"str_cfg_tog_config_enable_statusomatique_l10n":true,"str_cfg_tog_config_useAdServedNews_l10n":false,"str_cfg_tog_contact_field":"name,email,nickname,yahooid,phone,otherid,guid","str_cfg_tog_contact_sortfields":"first","str_cfg_tog_cue_import_contact":true,"str_cfg_tog_cue_mail_on_mobile":true,"str_cfg_tog_cue_pulse_profile_page":true,"str_cfg_tog_disableBuddyAdd":false,"str_cfg_tog_disableCopyrightLink":false,"str_cfg_tog_disable_livewords":false,"str_cfg_tog_dm_source_tag":"yahoo_mail_mailbox_search","str_cfg_tog_edit_draft_from_search":false,"str_cfg_tog_empty_folders":false,"str_cfg_tog_enableFacebook":true,"str_cfg_tog_enableMultilang":true,"str_cfg_tog_enableTwitter":true,"str_cfg_tog_enableUh2":true,"str_cfg_tog_enable_steroids":true,"str_cfg_tog_enable_updates":true,"str_cfg_tog_enable_wsky":false,"str_cfg_tog_exlink_alert_page":false,"str_cfg_tog_expandPersonalFolders":false,"str_cfg_tog_ext_accnt_expand":false,"str_cfg_tog_faviconName":"favicon-yhoo.ico","str_cfg_tog_faviconNameFresh":"favicon-fresh-88817.ico","str_cfg_tog_faviconNameFresh_HD":"favicon-fresh-hd-88906.ico","str_cfg_tog_faviconName_HD":"favicon-yhoo-hd.ico","str_cfg_tog_featureCue_endDate_l10n":"04\/22\/2010","str_cfg_tog_featureCue_startDate_l10n":"03\/19\/2010","str_cfg_tog_flag_spam_on_move":false,"str_cfg_tog_full_ssl":true,"str_cfg_tog_hasGoMobileLink":true,"str_cfg_tog_hasIM":true,"str_cfg_tog_hasSMS":true,"str_cfg_tog_hasUnlimitedStorage":true,"str_cfg_tog_help_community":true,"str_cfg_tog_hide_RECAd":true,"str_cfg_tog_hide_tocc_info":false,"str_cfg_tog_hkr_siu":false,"str_cfg_tog_insert_signature_bottom":false,"str_cfg_tog_mailBlogEnabled":true,"str_cfg_tog_mailSearchEnabled":true,"str_cfg_tog_mailUpgradeEnabled":true,"str_cfg_tog_monster_ad_empty_l10n":true,"str_cfg_tog_monster_ad_send_l10n":true,"str_cfg_tog_msgListColorIndic":false,"str_cfg_tog_newsModuleEnabled":true,"str_cfg_tog_news_body_enabled_l10n":true,"str_cfg_tog_news_header_enabled_l10n":true,"str_cfg_tog_notepadEnabled":true,"str_cfg_tog_old_imageblock":false,"str_cfg_tog_open_by_dblclick":false,"str_cfg_tog_optout_return_to_original":false,"str_cfg_tog_preserve_msglist_scroll":false,"str_cfg_tog_rec_pos_on_empty_folder":false,"str_cfg_tog_renderExternalAccounts":false,"str_cfg_tog_replace_sender_icon":false,"str_cfg_tog_search_expand_date":false,"str_cfg_tog_sendconfirm_keep_draft":false,"str_cfg_tog_set_spam_read_flag":true,"str_cfg_tog_showMobilizer":true,"str_cfg_tog_showMyYahooMenu":true,"str_cfg_tog_showStationaryEnabled":true,"str_cfg_tog_showThemeOption":true,"str_cfg_tog_showTos":true,"str_cfg_tog_showUsageMeter":false,"str_cfg_tog_show_contact_name":false,"str_cfg_tog_show_dk":false,"str_cfg_tog_show_mp_in_product_link":true,"str_cfg_tog_show_search_desc":false,"str_cfg_tog_simple_add_contact_dialog":false,"str_cfg_tog_sky_pos_fixed":true,"str_cfg_tog_snippet_highlight":true,"str_cfg_tog_themeOverrideEnabled":false,"str_cfg_tog_theme_cancel":false,"str_cfg_tog_timed_alert_dialog":false,"str_cfg_tog_toolbarTrapPageEnabled":true,"str_cfg_tog_trendingNowEnabled":true,"str_cfg_tog_trendingNowEnabledUH":true,"str_cfg_tog_uhShowReturnToOriginal":false,"str_cfg_tog_ulm_locale_l10n":"en-US","str_cfg_tog_unescape_ncr":false,"str_cfg_tog_use_accountbased_signature ":false,"str_cfg_tog_use_ctc_details_link":false,"str_cfg_tog_use_default_fromname":true,"str_cfg_tog_use_reedit":false,"str_cfg_tog_use_roundtrip":true,"str_cfg_tog_weather_default_temp_units_l10n":"F","str_cfg_tog_weather_detailedForecast_toggle_l10n":true,"str_cfg_tog_weather_weatherURL_toggle_l10n":true,"str_cfg_tog_ybox_enabled":false,"str_cfg_tog_ycw_turn_on_fb":true,"str_cfg_tog_ycw_turn_on_tw":true,"str_cfg_url_TAEHelpPages":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/taes\/","str_cfg_url_abhost":"address.mail.yahoo.com","str_cfg_url_abhost_api":"api.address.yahoo.com","str_cfg_url_about_our_ads":"http:\/\/info.yahoo.com\/privacy\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/relevantads.html","str_cfg_url_account":"http:\/\/edit.yahoo.com\/config\/eval_profile?.done=http:\/\/mail.yahoo.com\/","str_cfg_url_ad_opt_out":"http:\/\/info.yahoo.com\/privacy\/{{str_cfg_base_intl}}\/yahoo\/opt_out\/targeting\/details.html","str_cfg_url_address":"http:\/\/address.mail.yahoo.com","str_cfg_url_antispam":"","str_cfg_url_arc_help":"http:\/\/arc.help.yahoo.com\/arc\/","str_cfg_url_attbrowseatoz":"http:\/\/elportal.att.net\/s\/s.dll?ep=10111&ch=wd&_lid=135&_lnm=home.channelNav.att.webdirectory","str_cfg_url_attcom":"http:\/\/att.com\/","str_cfg_url_attmyaccount":"http:\/\/att.yahoo.com\/myaccount","str_cfg_url_attnet":"http:\/\/elportal.att.net\/","str_cfg_url_attspanish":"http:\/\/www.att.net ","str_cfg_url_attsupport":"http:\/\/www.att.com\/esupport\/","str_cfg_url_birthday_eCard_url":"http:\/\/www.yahoo.americangreetings.com\/ecards\/yahoomail.pd?source=yahoo209","str_cfg_url_bizmail":"http:\/\/smallbusiness.yahoo.com","str_cfg_url_bk_mail_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/context\/migrationv2.html","str_cfg_url_calendar":"http:\/\/calendar.mail.yahoo.com","str_cfg_url_captcha":"http:\/\/www.captcha.net","str_cfg_url_captcha_need_help_URL":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/yahoomail\/context\/context-14.html","str_cfg_url_china_eol_new_domain_reg":"https:\/\/edit.yahoo.com\/registration?.intl=us&new=1&.done=http%3A\/\/mail.yahoo.com&.src=ym","str_cfg_url_clear_cache_cookie":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/yahoo\/mail\/ymail\/settings\/settings-15.html","str_cfg_url_communications_terms_of_service":"http:\/\/info.yahoo.com\/legal\/us\/yahoo\/mail\/atos.html","str_cfg_url_contact_customer_care":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/technical.html","str_cfg_url_contacts":"http:\/\/pulse.yahoo.com\/y\/connections","str_cfg_url_copyright":"http:\/\/info.yahoo.com\/legal\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/copyright\/en-us","str_cfg_url_darla_third_party_beacon_uri_l10n":"","str_cfg_url_disclosure_link1_url_l10n":"http:\/\/profiles.yahoo.com","str_cfg_url_dm_static_content_mail_search_tip":"http:\/\/{{str_cfg_base_intl}}.overview.mail.yahoo.com\/howtos#d_11","str_cfg_url_download_firefox":"http:\/\/www.mozilla.org\/en-US\/firefox\/fx\/","str_cfg_url_download_internetexplorer":"http:\/\/downloads.yahoo.com\/internetexplorer\/","str_cfg_url_download_safari":"http:\/\/www.apple.com\/safari\/","str_cfg_url_emptymfmc_learn_url":"http:\/\/overview.mail.yahoo.com\/connectmore","str_cfg_url_exlink_alert_page":"","str_cfg_url_featureCue_contactImport_URL":"http:\/\/address.yahoo.com\/?VPC=contact_import_landing","str_cfg_url_featureCue_learnMoreLink":"http:\/\/features.mail.yahoo.com\/howitworks","str_cfg_url_feedback":"http:\/\/feedback.help.yahoo.com\/feedback.php?.src=YAHOOMAIL&.done=http:\/\/mail.yahoo.com","str_cfg_url_feedback_bug":"php\/qa.php?isFresh=1&bug=1","str_cfg_url_feedback_confidential":"https:\/\/backyard.yahoo.com\/globalcomms\/Confidential.html","str_cfg_url_feedback_link_mongo_l10n":"http:\/\/feedback.mail.yahoo.com\/feedback_mail.php?idf=gx","str_cfg_url_feedback_product_info":"http:\/\/backyard.yahoo.com\/tools\/b\/news\/news_article.php?sid=11714","str_cfg_url_feedback_uh3":"http:\/\/feedback.help.yahoo.com\/feedback.php?.src=MFYMAIL&.done=http:\/\/mail.yahoo.com","str_cfg_url_feedback_ymoderator":"http:\/\/allhands.corp.yahoo.com\/qna\/ymail","str_cfg_url_finance":"http:\/\/finance.yahoo.com","str_cfg_url_footer_guideline":"","str_cfg_url_geo_image":"\/geo\/","str_cfg_url_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/","str_cfg_url_help_community":"http:\/\/help.yahoo.com\/communities\/index?page=forums&y=PROD_MAIL","str_cfg_url_help_connections":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/yahoomail\/connections\/upcomcon-01.html","str_cfg_url_help_features":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/migrating\/","str_cfg_url_help_tutorials":"http:\/\/help.yahoo.com\/tutorials\/cg\/mail\/cg_receive2.html","str_cfg_url_import_contacts_help":"\t\n \nhttp:\/\/{{str_cfg_base_intl}}.overview.mail.yahoo.com\/howtos#d_3","str_cfg_url_mail":"http:\/\/mail.yahoo.com","str_cfg_url_mail_bg_img_trap":"http:\/\/mail.yimg.com\/nq\/ued\/assets\/img\/trap3\/mail-bg-v3.png","str_cfg_url_mail_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/","str_cfg_url_mail_terms":"https:\/\/account.nokia.com\/acct\/public\/serviceSpecificTerms?serviceId=Ovimail&tlang=en&country=US","str_cfg_url_mail_yahoo":"mail.yahoo.com","str_cfg_url_mailplus":"http:\/\/overview.mail.yahoo.com\/enhancements\/mailplus","str_cfg_url_maps":"http:\/\/maps.ovi.com\/","str_cfg_url_messenger":"http:\/\/messenger.yahoo.com","str_cfg_url_messenger_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/chat\/","str_cfg_url_migration_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/migration\/mltamunsup.html","str_cfg_url_mininux_tosUrl":"http:\/\/info.yahoo.com\/legal\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/utos\/utos-173.html","str_cfg_url_mobilizer":"http:\/\/{{str_cfg_base_intl}}.mobile.yahoo.com\/yahoo","str_cfg_url_mts_customer_care":"http:\/\/www.selfcare.mtsindia.in\/","str_cfg_url_mts_games_ondemand":"http:\/\/games.mtsindia.in\/","str_cfg_url_mts_tv":"http:\/\/www.mtsindia.in\/mblaze\/mtstv.html","str_cfg_url_mts_web_chat":"http:\/\/chat.mtsindia.in\/MTSINDIAChat\/MTSINDIA-Chat.htm","str_cfg_url_mts_yahoo":"http:\/\/in.my.yahoo.com\/mtsindia","str_cfg_url_music":"http:\/\/musicstore.nokia.com\/","str_cfg_url_myyahoo":"http:\/\/my.yahoo.com","str_cfg_url_new_features":"http:\/\/{{str_cfg_base_intl}}.overview.mail.yahoo.com\/howtos","str_cfg_url_news":"http:\/\/news.yahoo.com","str_cfg_url_news_mailblogURL_l10n":"http:\/\/www.ymailblog.com\/blog\/feed\/","str_cfg_url_norton_security":"http:\/\/buy.norton.com\/estore\/mf\/landingProductFeatures","str_cfg_url_notepad":"http:\/\/notepad.mail.yahoo.com","str_cfg_url_notifications_connect_url_l10n":"http:\/\/overview.mail.yahoo.com\/connectmore\/updates","str_cfg_url_notifications_connections_cg_url_l10n":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/yahoomail\/connections\/mltamssgcontct.html","str_cfg_url_notifications_connections_mg_url_l10n":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/classic\/connections\/mltamssgcontct.html","str_cfg_url_openmail":"http:\/\/overview.mail.yahoo.com\/whatsinside","str_cfg_url_options_learn_more":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/yahoomail\/manage\/manage-69.html","str_cfg_url_overview":"http:\/\/overview.mail.yahoo.com","str_cfg_url_ovi":"http:\/\/www.nokia.com\/","str_cfg_url_ovi_terms":"https:\/\/account.nokia.com\/acct\/public\/termsAndConditions?tlang=en&country=US","str_cfg_url_privacy_beta_faq":"http:\/\/info.yahoo.com\/privacy\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymailfaq\/details.html","str_cfg_url_privacy_policy":"http:\/\/info.yahoo.com\/privacy\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/details.html","str_cfg_url_privacy_policy_trap":"http:\/\/info.yahoo.com\/privacy\/us\/yahoo\/mail\/beta\/details.html","str_cfg_url_profiles":"http:\/\/pulse.yahoo.com\/","str_cfg_url_redirect_cn_to_alibaba":"http:\/\/migration.cn.yahoo.com\/","str_cfg_url_replace_sender_icon":"","str_cfg_url_search":"http:\/\/{{str_cfg_base_intl}}.search.yahoo.com\/search","str_cfg_url_sendfeedback":"http:\/\/feedback.help.yahoo.com\/feedback.php?.src=YAHOOMAIL&.done=http:\/\/mail.yahoo.com","str_cfg_url_shortcuts_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/basics\/basics-65.html","str_cfg_url_signout":"http:\/\/login.yahoo.com\/config\/login?logout=1&.src=cdgm&.intl=us&.direct=2&.done=http:\/\/www.yahoo.com&.last=http:\/\/mail.yahoo.com","str_cfg_url_sort_email_help":"http:\/\/help.yahoo.com\/kb\/index?page=content&y=PROD_MAIL_ML&locale={{tog_ulm_locale_l10n}}&id=SLN3535&impressions=true","str_cfg_url_sports":"http:\/\/sports.yahoo.com","str_cfg_url_store":"http:\/\/store.ovi.com\/","str_cfg_url_sync_contacts_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/newcontacts\/sync\/","str_cfg_url_tos":"http:\/\/info.yahoo.com\/legal\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/atos.html","str_cfg_url_tos_reject_redirect":"","str_cfg_url_ulm_helpurl_l10n":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/help\/ulm\/","str_cfg_url_updates_closing":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/context\/mltaycweol.html","str_cfg_url_upsell":"http:\/\/overview.mail.yahoo.com\/enhancements\/mailplus","str_cfg_url_vitality_flickr_learnMore_url_l10n":"http:\/\/www.flickr.com\/help\/sharing\/#737966","str_cfg_url_weather_weatherURL_l10n":"http:\/\/www.weather.com","str_cfg_url_yahoo":"http:\/\/www.yahoo.com","str_cfg_url_yahoo_base":"yahoo.com","str_cfg_url_yahoo_login":"https:\/\/login.yahoo.com\/","str_cfg_url_yahoo_mail_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/context\/migrationv2.html","str_cfg_url_yahoo_mail_help_tae45":"http:\/\/help.yahoo.com\/kb\/index?page=content&id=SLN6628&locale=en_US","str_cfg_url_yahoo_relogin":"https:\/\/login.yahoo.com\/config\/login_verify2?.intl={{str_cfg_base_intl}}&.src=ym&.done=","str_cfg_url_yahoo_url":"yahoo.com","str_cfg_url_ymail_blog":"http:\/\/ymailupdates.com\/blog","str_cfg_url_ymail_logo_img_trap":"http:\/\/s.yimg.com\/rz\/uh\/logo\/newpurple\/optimized\/UH3-mailV4.png","str_cfg_wsky_ad_pos":"WSKY","str_cfg_wsky_min_req_win_width":"1600","str_cfg_yahoo_mail_url_trap":"http:\/\/mail.yahoo.com"});
