YUI.add("jsonp-cached",function(B){B.namespace("jsonpcached");if(!YUI.Env.JsonpCached){YUI.Env.JsonpCached={};}if(!YUI.Env.JsonpCached.services){YUI.Env.JsonpCached.services={};}var A=YUI.Env.JsonpCached.services;B.jsonpcached.getData=function(F){var C={};var D=F.url||"";var J=F.serviceName||"service";var M=F.callbackName||"callback";var I=F.broadcast||false;var J=D.replace(/\W/g,"")+"_"+J+"_"+M;var G=F.onSuccess||function(){};C.timeout=F.timeout;C.onTimeout=F.onTimeout||null;C.onFailure=F.onFailure||null;var L=(D.indexOf("?")===-1)?"?":"&";var H=D+L+M+"=YUI.Env.JsonpCached."+J;var K=F.args||[];var E=F.context||null;B.jsonpcached.get=YUI.Env.JsonpCached.get||B.Get;if(!A[H]){A[H]={dataAvailable:false,requestInProgress:false,callbacksQueue:[]};}var N=A[H];if(N.dataAvailable){G(N.data);}else{N.callbacksQueue.push(G);if(!N.requestInProgress){YUI.Env.JsonpCached[J]=function(R){N.data=R;N.dataAvailable=true;scbs=N.callbacksQueue;for(var Q=0,O=scbs.length;Q<O;Q++){var P=scbs.pop();P.apply(E,[R].concat(K));}};N.requestInProgress=true;B.jsonpcached.get.script(H,C);}}};},"0.0.1");